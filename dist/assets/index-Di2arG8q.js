(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function kC(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ih={exports:{}},Rr={};var ay;function UC(){if(ay)return Rr;ay=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Rr.Fragment=t,Rr.jsx=i,Rr.jsxs=i,Rr}var ry;function jC(){return ry||(ry=1,ih.exports=UC()),ih.exports}var y=jC(),sh={exports:{}},ee={};var ly;function zC(){if(ly)return ee;ly=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function N(T){return T===null||typeof T!="object"?null:(T=E&&T[E]||T["@@iterator"],typeof T=="function"?T:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,B={};function G(T,j,V){this.props=T,this.context=j,this.refs=B,this.updater=V||I}G.prototype.isReactComponent={},G.prototype.setState=function(T,j){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,j,"setState")},G.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=G.prototype;function Q(T,j,V){this.props=T,this.context=j,this.refs=B,this.updater=V||I}var ve=Q.prototype=new P;ve.constructor=Q,z(ve,G.prototype),ve.isPureReactComponent=!0;var Oe=Array.isArray;function je(){}var te={H:null,A:null,T:null,S:null},qe=Object.prototype.hasOwnProperty;function rt(T,j,V){var F=V.ref;return{$$typeof:s,type:T,key:j,ref:F!==void 0?F:null,props:V}}function qt(T,j){return rt(T.type,j,T.props)}function pn(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function Et(T){var j={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(V){return j[V]})}var Vi=/\/+/g;function Tn(T,j){return typeof T=="object"&&T!==null&&T.key!=null?Et(""+T.key):j.toString(36)}function nn(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(je,je):(T.status="pending",T.then(function(j){T.status==="pending"&&(T.status="fulfilled",T.value=j)},function(j){T.status==="pending"&&(T.status="rejected",T.reason=j)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function L(T,j,V,F,ne){var le=typeof T;(le==="undefined"||le==="boolean")&&(T=null);var ye=!1;if(T===null)ye=!0;else switch(le){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(T.$$typeof){case s:case t:ye=!0;break;case b:return ye=T._init,L(ye(T._payload),j,V,F,ne)}}if(ye)return ne=ne(T),ye=F===""?"."+Tn(T,0):F,Oe(ne)?(V="",ye!=null&&(V=ye.replace(Vi,"$&/")+"/"),L(ne,j,V,"",function(La){return La})):ne!=null&&(pn(ne)&&(ne=qt(ne,V+(ne.key==null||T&&T.key===ne.key?"":(""+ne.key).replace(Vi,"$&/")+"/")+ye)),j.push(ne)),1;ye=0;var gt=F===""?".":F+":";if(Oe(T))for(var Ve=0;Ve<T.length;Ve++)F=T[Ve],le=gt+Tn(F,Ve),ye+=L(F,j,V,le,ne);else if(Ve=N(T),typeof Ve=="function")for(T=Ve.call(T),Ve=0;!(F=T.next()).done;)F=F.value,le=gt+Tn(F,Ve++),ye+=L(F,j,V,le,ne);else if(le==="object"){if(typeof T.then=="function")return L(nn(T),j,V,F,ne);throw j=String(T),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ye}function q(T,j,V){if(T==null)return T;var F=[],ne=0;return L(T,F,"","",function(le){return j.call(V,le,ne++)}),F}function $(T){if(T._status===-1){var j=T._result;j=j(),j.then(function(V){(T._status===0||T._status===-1)&&(T._status=1,T._result=V)},function(V){(T._status===0||T._status===-1)&&(T._status=2,T._result=V)}),T._status===-1&&(T._status=0,T._result=j)}if(T._status===1)return T._result.default;throw T._result}var Se=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Ae={map:q,forEach:function(T,j,V){q(T,function(){j.apply(this,arguments)},V)},count:function(T){var j=0;return q(T,function(){j++}),j},toArray:function(T){return q(T,function(j){return j})||[]},only:function(T){if(!pn(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ee.Activity=v,ee.Children=Ae,ee.Component=G,ee.Fragment=i,ee.Profiler=o,ee.PureComponent=Q,ee.StrictMode=r,ee.Suspense=m,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,ee.__COMPILER_RUNTIME={__proto__:null,c:function(T){return te.H.useMemoCache(T)}},ee.cache=function(T){return function(){return T.apply(null,arguments)}},ee.cacheSignal=function(){return null},ee.cloneElement=function(T,j,V){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var F=z({},T.props),ne=T.key;if(j!=null)for(le in j.key!==void 0&&(ne=""+j.key),j)!qe.call(j,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&j.ref===void 0||(F[le]=j[le]);var le=arguments.length-2;if(le===1)F.children=V;else if(1<le){for(var ye=Array(le),gt=0;gt<le;gt++)ye[gt]=arguments[gt+2];F.children=ye}return rt(T.type,ne,F)},ee.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ee.createElement=function(T,j,V){var F,ne={},le=null;if(j!=null)for(F in j.key!==void 0&&(le=""+j.key),j)qe.call(j,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ne[F]=j[F]);var ye=arguments.length-2;if(ye===1)ne.children=V;else if(1<ye){for(var gt=Array(ye),Ve=0;Ve<ye;Ve++)gt[Ve]=arguments[Ve+2];ne.children=gt}if(T&&T.defaultProps)for(F in ye=T.defaultProps,ye)ne[F]===void 0&&(ne[F]=ye[F]);return rt(T,le,ne)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(T){return{$$typeof:d,render:T}},ee.isValidElement=pn,ee.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:$}},ee.memo=function(T,j){return{$$typeof:g,type:T,compare:j===void 0?null:j}},ee.startTransition=function(T){var j=te.T,V={};te.T=V;try{var F=T(),ne=te.S;ne!==null&&ne(V,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(je,Se)}catch(le){Se(le)}finally{j!==null&&V.types!==null&&(j.types=V.types),te.T=j}},ee.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},ee.use=function(T){return te.H.use(T)},ee.useActionState=function(T,j,V){return te.H.useActionState(T,j,V)},ee.useCallback=function(T,j){return te.H.useCallback(T,j)},ee.useContext=function(T){return te.H.useContext(T)},ee.useDebugValue=function(){},ee.useDeferredValue=function(T,j){return te.H.useDeferredValue(T,j)},ee.useEffect=function(T,j){return te.H.useEffect(T,j)},ee.useEffectEvent=function(T){return te.H.useEffectEvent(T)},ee.useId=function(){return te.H.useId()},ee.useImperativeHandle=function(T,j,V){return te.H.useImperativeHandle(T,j,V)},ee.useInsertionEffect=function(T,j){return te.H.useInsertionEffect(T,j)},ee.useLayoutEffect=function(T,j){return te.H.useLayoutEffect(T,j)},ee.useMemo=function(T,j){return te.H.useMemo(T,j)},ee.useOptimistic=function(T,j){return te.H.useOptimistic(T,j)},ee.useReducer=function(T,j,V){return te.H.useReducer(T,j,V)},ee.useRef=function(T){return te.H.useRef(T)},ee.useState=function(T){return te.H.useState(T)},ee.useSyncExternalStore=function(T,j,V){return te.H.useSyncExternalStore(T,j,V)},ee.useTransition=function(){return te.H.useTransition()},ee.version="19.2.4",ee}var oy;function $h(){return oy||(oy=1,sh.exports=zC()),sh.exports}var R=$h();const HC=kC(R);var ah={exports:{}},Ar={},rh={exports:{}},lh={};var uy;function BC(){return uy||(uy=1,(function(s){function t(L,q){var $=L.length;L.push(q);e:for(;0<$;){var Se=$-1>>>1,Ae=L[Se];if(0<o(Ae,q))L[Se]=q,L[$]=Ae,$=Se;else break e}}function i(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var q=L[0],$=L.pop();if($!==q){L[0]=$;e:for(var Se=0,Ae=L.length,T=Ae>>>1;Se<T;){var j=2*(Se+1)-1,V=L[j],F=j+1,ne=L[F];if(0>o(V,$))F<Ae&&0>o(ne,V)?(L[Se]=ne,L[F]=$,Se=F):(L[Se]=V,L[j]=$,Se=j);else if(F<Ae&&0>o(ne,$))L[Se]=ne,L[F]=$,Se=F;else break e}}return q}function o(L,q){var $=L.sortIndex-q.sortIndex;return $!==0?$:L.id-q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var m=[],g=[],b=1,v=null,E=3,N=!1,I=!1,z=!1,B=!1,G=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ve(L){for(var q=i(g);q!==null;){if(q.callback===null)r(g);else if(q.startTime<=L)r(g),q.sortIndex=q.expirationTime,t(m,q);else break;q=i(g)}}function Oe(L){if(z=!1,ve(L),!I)if(i(m)!==null)I=!0,je||(je=!0,Et());else{var q=i(g);q!==null&&nn(Oe,q.startTime-L)}}var je=!1,te=-1,qe=5,rt=-1;function qt(){return B?!0:!(s.unstable_now()-rt<qe)}function pn(){if(B=!1,je){var L=s.unstable_now();rt=L;var q=!0;try{e:{I=!1,z&&(z=!1,P(te),te=-1),N=!0;var $=E;try{t:{for(ve(L),v=i(m);v!==null&&!(v.expirationTime>L&&qt());){var Se=v.callback;if(typeof Se=="function"){v.callback=null,E=v.priorityLevel;var Ae=Se(v.expirationTime<=L);if(L=s.unstable_now(),typeof Ae=="function"){v.callback=Ae,ve(L),q=!0;break t}v===i(m)&&r(m),ve(L)}else r(m);v=i(m)}if(v!==null)q=!0;else{var T=i(g);T!==null&&nn(Oe,T.startTime-L),q=!1}}break e}finally{v=null,E=$,N=!1}q=void 0}}finally{q?Et():je=!1}}}var Et;if(typeof Q=="function")Et=function(){Q(pn)};else if(typeof MessageChannel<"u"){var Vi=new MessageChannel,Tn=Vi.port2;Vi.port1.onmessage=pn,Et=function(){Tn.postMessage(null)}}else Et=function(){G(pn,0)};function nn(L,q){te=G(function(){L(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(L){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var $=E;E=q;try{return L()}finally{E=$}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=E;E=L;try{return q()}finally{E=$}},s.unstable_scheduleCallback=function(L,q,$){var Se=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Se+$:Se):$=Se,L){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=$+Ae,L={id:b++,callback:q,priorityLevel:L,startTime:$,expirationTime:Ae,sortIndex:-1},$>Se?(L.sortIndex=$,t(g,L),i(m)===null&&L===i(g)&&(z?(P(te),te=-1):z=!0,nn(Oe,$-Se))):(L.sortIndex=Ae,t(m,L),I||N||(I=!0,je||(je=!0,Et()))),L},s.unstable_shouldYield=qt,s.unstable_wrapCallback=function(L){var q=E;return function(){var $=E;E=q;try{return L.apply(this,arguments)}finally{E=$}}}})(lh)),lh}var cy;function PC(){return cy||(cy=1,rh.exports=BC()),rh.exports}var oh={exports:{}},mt={};var fy;function qC(){if(fy)return mt;fy=1;var s=$h();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:g,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mt.createPortal=function(m,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,b)},mt.flushSync=function(m){var g=h.T,b=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=g,r.p=b,r.d.f()}},mt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},mt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},mt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var b=g.as,v=d(b,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:N}):b==="script"&&r.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},mt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,v=d(b,g.crossOrigin);r.d.L(m,b,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mt.preloadModule=function(m,g){if(typeof m=="string")if(g){var b=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},mt.requestFormReset=function(m){r.d.r(m)},mt.unstable_batchedUpdates=function(m,g){return m(g)},mt.useFormState=function(m,g,b){return h.H.useFormState(m,g,b)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.2.4",mt}var hy;function VC(){if(hy)return oh.exports;hy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),oh.exports=qC(),oh.exports}var dy;function GC(){if(dy)return Ar;dy=1;var s=PC(),t=$h(),i=VC();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return m(c),e;if(f===l)return m(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var p=!1,_=c.child;_;){if(_===a){p=!0,a=c,l=f;break}if(_===l){p=!0,l=c,a=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===a){p=!0,a=f,l=c;break}if(_===l){p=!0,l=f,a=c;break}_=_.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),rt=Symbol.for("react.activity"),qt=Symbol.for("react.memo_cache_sentinel"),pn=Symbol.iterator;function Et(e){return e===null||typeof e!="object"?null:(e=pn&&e[pn]||e["@@iterator"],typeof e=="function"?e:null)}var Vi=Symbol.for("react.client.reference");function Tn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Vi?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case G:return"Profiler";case B:return"StrictMode";case Oe:return"Suspense";case je:return"SuspenseList";case rt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case Q:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case ve:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return n=e.displayName||null,n!==null?n:Tn(e.type)||"Memo";case qe:n=e._payload,e=e._init;try{return Tn(e(n))}catch{}}return null}var nn=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Se=[],Ae=-1;function T(e){return{current:e}}function j(e){0>Ae||(e.current=Se[Ae],Se[Ae]=null,Ae--)}function V(e,n){Ae++,Se[Ae]=e.current,e.current=n}var F=T(null),ne=T(null),le=T(null),ye=T(null);function gt(e,n){switch(V(le,n),V(ne,e),V(F,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?A_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=A_(n),e=x_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(F),V(F,e)}function Ve(){j(F),j(ne),j(le)}function La(e){e.memoizedState!==null&&V(ye,e);var n=F.current,a=x_(n,e.type);n!==a&&(V(ne,e),V(F,a))}function yl(e){ne.current===e&&(j(F),j(ne)),ye.current===e&&(j(ye),Cr._currentValue=$)}var zu,sm;function Gi(e){if(zu===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);zu=n&&n[1]||"",sm=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zu+e+sm}var Hu=!1;function Bu(e,n){if(!e||Hu)return"";Hu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(D){var O=D}Reflect.construct(e,[],U)}else{try{U.call()}catch(D){O=D}e.call(U.prototype)}}else{try{throw Error()}catch(D){O=D}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(D){if(D&&O&&typeof D.stack=="string")return[D.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var S=p.split(`
`),x=_.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===x.length)for(l=S.length-1,c=x.length-1;1<=l&&0<=c&&S[l]!==x[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==x[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==x[c]){var M=`
`+S[l].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=l&&0<=c);break}}}finally{Hu=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Gi(a):""}function h0(e,n){switch(e.tag){case 26:case 27:case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return e.child!==n&&n!==null?Gi("Suspense Fallback"):Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return Bu(e.type,!1);case 11:return Bu(e.type.render,!1);case 1:return Bu(e.type,!0);case 31:return Gi("Activity");default:return""}}function am(e){try{var n="",a=null;do n+=h0(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Pu=Object.prototype.hasOwnProperty,qu=s.unstable_scheduleCallback,Vu=s.unstable_cancelCallback,d0=s.unstable_shouldYield,m0=s.unstable_requestPaint,Ot=s.unstable_now,p0=s.unstable_getCurrentPriorityLevel,rm=s.unstable_ImmediatePriority,lm=s.unstable_UserBlockingPriority,vl=s.unstable_NormalPriority,g0=s.unstable_LowPriority,om=s.unstable_IdlePriority,_0=s.log,y0=s.unstable_setDisableYieldValue,ka=null,Dt=null;function ei(e){if(typeof _0=="function"&&y0(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(ka,e)}catch{}}var It=Math.clz32?Math.clz32:E0,v0=Math.log,b0=Math.LN2;function E0(e){return e>>>=0,e===0?32:31-(v0(e)/b0|0)|0}var bl=256,El=262144,Sl=4194304;function Yi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cl(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?c=Yi(l):(p&=_,p!==0?c=Yi(p):a||(a=_&~e,a!==0&&(c=Yi(a))))):(_=l&~f,_!==0?c=Yi(_):p!==0?c=Yi(p):a||(a=l&~e,a!==0&&(c=Yi(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ua(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function S0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(){var e=Sl;return Sl<<=1,(Sl&62914560)===0&&(Sl=4194304),e}function Gu(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ja(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function C0(e,n,a,l,c,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,S=e.expirationTimes,x=e.hiddenUpdates;for(a=p&~a;0<a;){var M=31-It(a),U=1<<M;_[M]=0,S[M]=-1;var O=x[M];if(O!==null)for(x[M]=null,M=0;M<O.length;M++){var D=O[M];D!==null&&(D.lane&=-536870913)}a&=~U}l!==0&&cm(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function cm(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-It(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function fm(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-It(a),c=1<<l;c&n|e[l]&n&&(e[l]|=n),a&=~c}}function hm(e,n){var a=n&-n;return a=(a&42)!==0?1:Yu(a),(a&(e.suspendedLanes|n))!==0?0:a}function Yu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function dm(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:J_(e.type))}function mm(e,n){var a=q.p;try{return q.p=e,n()}finally{q.p=a}}var ti=Math.random().toString(36).slice(2),lt="__reactFiber$"+ti,St="__reactProps$"+ti,Cs="__reactContainer$"+ti,Ku="__reactEvents$"+ti,T0="__reactListeners$"+ti,w0="__reactHandles$"+ti,pm="__reactResources$"+ti,za="__reactMarker$"+ti;function Qu(e){delete e[lt],delete e[St],delete e[Ku],delete e[T0],delete e[w0]}function Ts(e){var n=e[lt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Cs]||a[lt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=U_(e);e!==null;){if(a=e[lt])return a;e=U_(e)}return n}e=a,a=e.parentNode}return null}function ws(e){if(e=e[lt]||e[Cs]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ha(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ns(e){var n=e[pm];return n||(n=e[pm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tt(e){e[za]=!0}var gm=new Set,_m={};function Fi(e,n){Rs(e,n),Rs(e+"Capture",n)}function Rs(e,n){for(_m[e]=n,e=0;e<n.length;e++)gm.add(n[e])}var N0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ym={},vm={};function R0(e){return Pu.call(vm,e)?!0:Pu.call(ym,e)?!1:N0.test(e)?vm[e]=!0:(ym[e]=!0,!1)}function Tl(e,n,a){if(R0(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function wl(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function wn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function A0(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xu(e){if(!e._valueTracker){var n=bm(e)?"checked":"value";e._valueTracker=A0(e,n,""+e[n])}}function Em(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=bm(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var x0=/[\n"\\]/g;function Gt(e){return e.replace(x0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wu(e,n,a,l,c,f,p,_){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Vt(n)):e.value!==""+Vt(n)&&(e.value=""+Vt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Zu(e,p,Vt(n)):a!=null?Zu(e,p,Vt(a)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Vt(_):e.removeAttribute("name")}function Sm(e,n,a,l,c,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xu(e);return}a=a!=null?""+Vt(a):"",n=n!=null?""+Vt(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Xu(e)}function Zu(e,n,a){n==="number"&&Nl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function As(e,n,a,l){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Vt(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Cm(e,n,a){if(n!=null&&(n=""+Vt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Vt(a):""}function Tm(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(nn(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Vt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Xu(e)}function xs(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var O0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wm(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||O0.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Nm(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&wm(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&wm(e,f,n[f])}function Ju(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),I0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rl(e){return I0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nn(){}var $u=null;function ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Os=null,Ds=null;function Rm(e){var n=ws(e);if(n&&(e=n.stateNode)){var a=e[St]||null;e:switch(e=n.stateNode,n.type){case"input":if(Wu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var c=l[St]||null;if(!c)throw Error(r(90));Wu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Em(l)}break e;case"textarea":Cm(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&As(e,!!a.multiple,n,!1)}}}var tc=!1;function Am(e,n,a){if(tc)return e(n,a);tc=!0;try{var l=e(n);return l}finally{if(tc=!1,(Os!==null||Ds!==null)&&(po(),Os&&(n=Os,e=Ds,Ds=Os=null,Rm(n),e)))for(n=0;n<e.length;n++)Rm(e[n])}}function Ba(e,n){var a=e.stateNode;if(a===null)return null;var l=a[St]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=!1;if(Rn)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){nc=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{nc=!1}var ni=null,ic=null,Al=null;function xm(){if(Al)return Al;var e,n=ic,a=n.length,l,c="value"in ni?ni.value:ni.textContent,f=c.length;for(e=0;e<a&&n[e]===c[e];e++);var p=a-e;for(l=1;l<=p&&n[a-l]===c[f-l];l++);return Al=c.slice(e,1<l?1-l:void 0)}function xl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ol(){return!0}function Om(){return!1}function Ct(e){function n(a,l,c,f,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ol:Om,this.isPropagationStopped=Om,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=Ct(Ki),qa=v({},Ki,{view:0,detail:0}),M0=Ct(qa),sc,ac,Va,Il=v({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Va&&(Va&&e.type==="mousemove"?(sc=e.screenX-Va.screenX,ac=e.screenY-Va.screenY):ac=sc=0,Va=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),Dm=Ct(Il),L0=v({},Il,{dataTransfer:0}),k0=Ct(L0),U0=v({},qa,{relatedTarget:0}),rc=Ct(U0),j0=v({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),z0=Ct(j0),H0=v({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B0=Ct(H0),P0=v({},Ki,{data:0}),Im=Ct(P0),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=G0[e])?!!n[e]:!1}function lc(){return Y0}var F0=v({},qa,{key:function(e){if(e.key){var n=q0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K0=Ct(F0),Q0=v({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mm=Ct(Q0),X0=v({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),W0=Ct(X0),Z0=v({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),J0=Ct(Z0),$0=v({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eS=Ct($0),tS=v({},Ki,{newState:0,oldState:0}),nS=Ct(tS),iS=[9,13,27,32],oc=Rn&&"CompositionEvent"in window,Ga=null;Rn&&"documentMode"in document&&(Ga=document.documentMode);var sS=Rn&&"TextEvent"in window&&!Ga,Lm=Rn&&(!oc||Ga&&8<Ga&&11>=Ga),km=" ",Um=!1;function jm(e,n){switch(e){case"keyup":return iS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function aS(e,n){switch(e){case"compositionend":return zm(n);case"keypress":return n.which!==32?null:(Um=!0,km);case"textInput":return e=n.data,e===km&&Um?null:e;default:return null}}function rS(e,n){if(Is)return e==="compositionend"||!oc&&jm(e,n)?(e=xm(),Al=ic=ni=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lm&&n.locale!=="ko"?null:n.data;default:return null}}var lS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!lS[e.type]:n==="textarea"}function Bm(e,n,a,l){Os?Ds?Ds.push(l):Ds=[l]:Os=l,n=So(n,"onChange"),0<n.length&&(a=new Dl("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ya=null,Fa=null;function oS(e){S_(e,0)}function Ml(e){var n=Ha(e);if(Em(n))return e}function Pm(e,n){if(e==="change")return n}var qm=!1;if(Rn){var uc;if(Rn){var cc="oninput"in document;if(!cc){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),cc=typeof Vm.oninput=="function"}uc=cc}else uc=!1;qm=uc&&(!document.documentMode||9<document.documentMode)}function Gm(){Ya&&(Ya.detachEvent("onpropertychange",Ym),Fa=Ya=null)}function Ym(e){if(e.propertyName==="value"&&Ml(Fa)){var n=[];Bm(n,Fa,e,ec(e)),Am(oS,n)}}function uS(e,n,a){e==="focusin"?(Gm(),Ya=n,Fa=a,Ya.attachEvent("onpropertychange",Ym)):e==="focusout"&&Gm()}function cS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(Fa)}function fS(e,n){if(e==="click")return Ml(n)}function hS(e,n){if(e==="input"||e==="change")return Ml(n)}function dS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Mt=typeof Object.is=="function"?Object.is:dS;function Ka(e,n){if(Mt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Pu.call(n,c)||!Mt(e[c],n[c]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Km(e,n){var a=Fm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fm(a)}}function Qm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Xm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Nl(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Nl(e.document)}return n}function fc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var mS=Rn&&"documentMode"in document&&11>=document.documentMode,Ms=null,hc=null,Qa=null,dc=!1;function Wm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dc||Ms==null||Ms!==Nl(l)||(l=Ms,"selectionStart"in l&&fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qa&&Ka(Qa,l)||(Qa=l,l=So(hc,"onSelect"),0<l.length&&(n=new Dl("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Ms)))}function Qi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ls={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},mc={},Zm={};Rn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Xi(e){if(mc[e])return mc[e];if(!Ls[e])return e;var n=Ls[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zm)return mc[e]=n[a];return e}var Jm=Xi("animationend"),$m=Xi("animationiteration"),ep=Xi("animationstart"),pS=Xi("transitionrun"),gS=Xi("transitionstart"),_S=Xi("transitioncancel"),tp=Xi("transitionend"),np=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function sn(e,n){np.set(e,n),Fi(n,[e])}var Ll=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],ks=0,gc=0;function kl(){for(var e=ks,n=gc=ks=0;n<e;){var a=Yt[n];Yt[n++]=null;var l=Yt[n];Yt[n++]=null;var c=Yt[n];Yt[n++]=null;var f=Yt[n];if(Yt[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&ip(a,c,f)}}function Ul(e,n,a,l){Yt[ks++]=e,Yt[ks++]=n,Yt[ks++]=a,Yt[ks++]=l,gc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _c(e,n,a,l){return Ul(e,n,a,l),jl(e)}function Wi(e,n){return Ul(e,null,null,n),jl(e)}function ip(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-It(a),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function jl(e){if(50<gr)throw gr=0,Rf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Us={};function yS(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,n,a,l){return new yS(e,n,a,l)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,n){var a=e.alternate;return a===null?(a=Lt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function sp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function zl(e,n,a,l,c,f){var p=0;if(l=e,typeof e=="function")yc(e)&&(p=1);else if(typeof e=="string")p=CC(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case rt:return e=Lt(31,a,n,c),e.elementType=rt,e.lanes=f,e;case z:return Zi(a.children,c,f,n);case B:p=8,c|=24;break;case G:return e=Lt(12,a,n,c|2),e.elementType=G,e.lanes=f,e;case Oe:return e=Lt(13,a,n,c),e.elementType=Oe,e.lanes=f,e;case je:return e=Lt(19,a,n,c),e.elementType=je,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:p=10;break e;case P:p=9;break e;case ve:p=11;break e;case te:p=14;break e;case qe:p=16,l=null;break e}p=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Lt(p,a,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Zi(e,n,a,l){return e=Lt(7,e,l,n),e.lanes=a,e}function vc(e,n,a){return e=Lt(6,e,null,n),e.lanes=a,e}function ap(e){var n=Lt(18,null,null,0);return n.stateNode=e,n}function bc(e,n,a){return n=Lt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var rp=new WeakMap;function Ft(e,n){if(typeof e=="object"&&e!==null){var a=rp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:am(n)},rp.set(e,n),n)}return{value:e,source:n,stack:am(n)}}var js=[],zs=0,Hl=null,Xa=0,Kt=[],Qt=0,ii=null,gn=1,_n="";function xn(e,n){js[zs++]=Xa,js[zs++]=Hl,Hl=e,Xa=n}function lp(e,n,a){Kt[Qt++]=gn,Kt[Qt++]=_n,Kt[Qt++]=ii,ii=e;var l=gn;e=_n;var c=32-It(l)-1;l&=~(1<<c),a+=1;var f=32-It(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,gn=1<<32-It(n)+c|a<<c|l,_n=f+e}else gn=1<<f|a<<c|l,_n=e}function Ec(e){e.return!==null&&(xn(e,1),lp(e,1,0))}function Sc(e){for(;e===Hl;)Hl=js[--zs],js[zs]=null,Xa=js[--zs],js[zs]=null;for(;e===ii;)ii=Kt[--Qt],Kt[Qt]=null,_n=Kt[--Qt],Kt[Qt]=null,gn=Kt[--Qt],Kt[Qt]=null}function op(e,n){Kt[Qt++]=gn,Kt[Qt++]=_n,Kt[Qt++]=ii,gn=n.id,_n=n.overflow,ii=e}var ot=null,Me=null,de=!1,si=null,Xt=!1,Cc=Error(r(519));function ai(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wa(Ft(n,e)),Cc}function up(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[lt]=e,n[St]=l,a){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(a=0;a<yr.length;a++)ue(yr[a],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":ue("invalid",n),Sm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ue("invalid",n);break;case"textarea":ue("invalid",n),Tm(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||N_(n.textContent,a)?(l.popover!=null&&(ue("beforetoggle",n),ue("toggle",n)),l.onScroll!=null&&ue("scroll",n),l.onScrollEnd!=null&&ue("scrollend",n),l.onClick!=null&&(n.onclick=Nn),n=!0):n=!1,n||ai(e,!0)}function cp(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ot=ot.return}}function Hs(e){if(e!==ot)return!1;if(!de)return cp(e),de=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qf(e.type,e.memoizedProps)),a=!a),a&&Me&&ai(e),cp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Me=k_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Me=k_(e)}else n===27?(n=Me,vi(e.type)?(e=Kf,Kf=null,Me=e):Me=n):Me=ot?Zt(e.stateNode.nextSibling):null;return!0}function Ji(){Me=ot=null,de=!1}function Tc(){var e=si;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),si=null),e}function Wa(e){si===null?si=[e]:si.push(e)}var wc=T(null),$i=null,On=null;function ri(e,n,a){V(wc,n._currentValue),n._currentValue=a}function Dn(e){e._currentValue=wc.current,j(wc)}function Nc(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Rc(e,n,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=c;for(var S=0;S<n.length;S++)if(_.context===n[S]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),Nc(f.return,a,e),l||(p=null);break e}f=_.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Nc(p,a,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Bs(e,n,a,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var _=c.type;Mt(c.pendingProps.value,p.value)||(e!==null?e.push(_):e=[_])}}else if(c===ye.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Cr):e=[Cr])}c=c.return}e!==null&&Rc(n,e,a,l),n.flags|=262144}function Bl(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function es(e){$i=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return fp($i,e)}function Pl(e,n){return $i===null&&es(e),fp(e,n)}function fp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},On===null){if(e===null)throw Error(r(308));On=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else On=On.next=n;return a}var vS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},bS=s.unstable_scheduleCallback,ES=s.unstable_NormalPriority,Fe={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new vS,data:new Map,refCount:0}}function Za(e){e.refCount--,e.refCount===0&&bS(ES,function(){e.controller.abort()})}var Ja=null,xc=0,Ps=0,qs=null;function SS(e,n){if(Ja===null){var a=Ja=[];xc=0,Ps=Mf(),qs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xc++,n.then(hp,hp),n}function hp(){if(--xc===0&&Ja!==null){qs!==null&&(qs.status="fulfilled");var e=Ja;Ja=null,Ps=0,qs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function CS(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var dp=L.S;L.S=function(e,n){Wg=Ot(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&SS(e,n),dp!==null&&dp(e,n)};var ts=T(null);function Oc(){var e=ts.current;return e!==null?e:xe.pooledCache}function ql(e,n){n===null?V(ts,ts.current):V(ts,n.pool)}function mp(){var e=Oc();return e===null?null:{parent:Fe._currentValue,pool:e}}var Vs=Error(r(460)),Dc=Error(r(474)),Vl=Error(r(542)),Gl={then:function(){}};function pp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Nn,Nn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yp(e),e;default:if(typeof n.status=="string")n.then(Nn,Nn);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yp(e),e}throw is=n,Vs}}function ns(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(is=a,Vs):a}}var is=null;function _p(){if(is===null)throw Error(r(459));var e=is;return is=null,e}function yp(e){if(e===Vs||e===Vl)throw Error(r(483))}var Gs=null,$a=0;function Yl(e){var n=$a;return $a+=1,Gs===null&&(Gs=[]),gp(Gs,e,n)}function er(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Fl(e,n){throw n.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function vp(e){function n(w,C){if(e){var A=w.deletions;A===null?(w.deletions=[C],w.flags|=16):A.push(C)}}function a(w,C){if(!e)return null;for(;C!==null;)n(w,C),C=C.sibling;return null}function l(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function c(w,C){return w=An(w,C),w.index=0,w.sibling=null,w}function f(w,C,A){return w.index=A,e?(A=w.alternate,A!==null?(A=A.index,A<C?(w.flags|=67108866,C):A):(w.flags|=67108866,C)):(w.flags|=1048576,C)}function p(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,C,A,k){return C===null||C.tag!==6?(C=vc(A,w.mode,k),C.return=w,C):(C=c(C,A),C.return=w,C)}function S(w,C,A,k){var X=A.type;return X===z?M(w,C,A.props.children,k,A.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===qe&&ns(X)===C.type)?(C=c(C,A.props),er(C,A),C.return=w,C):(C=zl(A.type,A.key,A.props,null,w.mode,k),er(C,A),C.return=w,C)}function x(w,C,A,k){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=bc(A,w.mode,k),C.return=w,C):(C=c(C,A.children||[]),C.return=w,C)}function M(w,C,A,k,X){return C===null||C.tag!==7?(C=Zi(A,w.mode,k,X),C.return=w,C):(C=c(C,A),C.return=w,C)}function U(w,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=vc(""+C,w.mode,A),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case N:return A=zl(C.type,C.key,C.props,null,w.mode,A),er(A,C),A.return=w,A;case I:return C=bc(C,w.mode,A),C.return=w,C;case qe:return C=ns(C),U(w,C,A)}if(nn(C)||Et(C))return C=Zi(C,w.mode,A,null),C.return=w,C;if(typeof C.then=="function")return U(w,Yl(C),A);if(C.$$typeof===Q)return U(w,Pl(w,C),A);Fl(w,C)}return null}function O(w,C,A,k){var X=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return X!==null?null:_(w,C,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return A.key===X?S(w,C,A,k):null;case I:return A.key===X?x(w,C,A,k):null;case qe:return A=ns(A),O(w,C,A,k)}if(nn(A)||Et(A))return X!==null?null:M(w,C,A,k,null);if(typeof A.then=="function")return O(w,C,Yl(A),k);if(A.$$typeof===Q)return O(w,C,Pl(w,A),k);Fl(w,A)}return null}function D(w,C,A,k,X){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return w=w.get(A)||null,_(C,w,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N:return w=w.get(k.key===null?A:k.key)||null,S(C,w,k,X);case I:return w=w.get(k.key===null?A:k.key)||null,x(C,w,k,X);case qe:return k=ns(k),D(w,C,A,k,X)}if(nn(k)||Et(k))return w=w.get(A)||null,M(C,w,k,X,null);if(typeof k.then=="function")return D(w,C,A,Yl(k),X);if(k.$$typeof===Q)return D(w,C,A,Pl(C,k),X);Fl(C,k)}return null}function Y(w,C,A,k){for(var X=null,me=null,K=C,se=C=0,he=null;K!==null&&se<A.length;se++){K.index>se?(he=K,K=null):he=K.sibling;var pe=O(w,K,A[se],k);if(pe===null){K===null&&(K=he);break}e&&K&&pe.alternate===null&&n(w,K),C=f(pe,C,se),me===null?X=pe:me.sibling=pe,me=pe,K=he}if(se===A.length)return a(w,K),de&&xn(w,se),X;if(K===null){for(;se<A.length;se++)K=U(w,A[se],k),K!==null&&(C=f(K,C,se),me===null?X=K:me.sibling=K,me=K);return de&&xn(w,se),X}for(K=l(K);se<A.length;se++)he=D(K,w,se,A[se],k),he!==null&&(e&&he.alternate!==null&&K.delete(he.key===null?se:he.key),C=f(he,C,se),me===null?X=he:me.sibling=he,me=he);return e&&K.forEach(function(Ti){return n(w,Ti)}),de&&xn(w,se),X}function W(w,C,A,k){if(A==null)throw Error(r(151));for(var X=null,me=null,K=C,se=C=0,he=null,pe=A.next();K!==null&&!pe.done;se++,pe=A.next()){K.index>se?(he=K,K=null):he=K.sibling;var Ti=O(w,K,pe.value,k);if(Ti===null){K===null&&(K=he);break}e&&K&&Ti.alternate===null&&n(w,K),C=f(Ti,C,se),me===null?X=Ti:me.sibling=Ti,me=Ti,K=he}if(pe.done)return a(w,K),de&&xn(w,se),X;if(K===null){for(;!pe.done;se++,pe=A.next())pe=U(w,pe.value,k),pe!==null&&(C=f(pe,C,se),me===null?X=pe:me.sibling=pe,me=pe);return de&&xn(w,se),X}for(K=l(K);!pe.done;se++,pe=A.next())pe=D(K,w,se,pe.value,k),pe!==null&&(e&&pe.alternate!==null&&K.delete(pe.key===null?se:pe.key),C=f(pe,C,se),me===null?X=pe:me.sibling=pe,me=pe);return e&&K.forEach(function(LC){return n(w,LC)}),de&&xn(w,se),X}function we(w,C,A,k){if(typeof A=="object"&&A!==null&&A.type===z&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case N:e:{for(var X=A.key;C!==null;){if(C.key===X){if(X=A.type,X===z){if(C.tag===7){a(w,C.sibling),k=c(C,A.props.children),k.return=w,w=k;break e}}else if(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===qe&&ns(X)===C.type){a(w,C.sibling),k=c(C,A.props),er(k,A),k.return=w,w=k;break e}a(w,C);break}else n(w,C);C=C.sibling}A.type===z?(k=Zi(A.props.children,w.mode,k,A.key),k.return=w,w=k):(k=zl(A.type,A.key,A.props,null,w.mode,k),er(k,A),k.return=w,w=k)}return p(w);case I:e:{for(X=A.key;C!==null;){if(C.key===X)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){a(w,C.sibling),k=c(C,A.children||[]),k.return=w,w=k;break e}else{a(w,C);break}else n(w,C);C=C.sibling}k=bc(A,w.mode,k),k.return=w,w=k}return p(w);case qe:return A=ns(A),we(w,C,A,k)}if(nn(A))return Y(w,C,A,k);if(Et(A)){if(X=Et(A),typeof X!="function")throw Error(r(150));return A=X.call(A),W(w,C,A,k)}if(typeof A.then=="function")return we(w,C,Yl(A),k);if(A.$$typeof===Q)return we(w,C,Pl(w,A),k);Fl(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,C!==null&&C.tag===6?(a(w,C.sibling),k=c(C,A),k.return=w,w=k):(a(w,C),k=vc(A,w.mode,k),k.return=w,w=k),p(w)):a(w,C)}return function(w,C,A,k){try{$a=0;var X=we(w,C,A,k);return Gs=null,X}catch(K){if(K===Vs||K===Vl)throw K;var me=Lt(29,K,null,w.mode);return me.lanes=k,me.return=w,me}}}var ss=vp(!0),bp=vp(!1),li=!1;function Ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ui(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(_e&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=jl(e),ip(e,null,a),n}return Ul(e,l,n,a),jl(e)}function tr(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,fm(e,a)}}function Lc(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var kc=!1;function nr(){if(kc){var e=qs;if(e!==null)throw e}}function ir(e,n,a,l){kc=!1;var c=e.updateQueue;li=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var S=_,x=S.next;S.next=null,p===null?f=x:p.next=x,p=S;var M=e.alternate;M!==null&&(M=M.updateQueue,_=M.lastBaseUpdate,_!==p&&(_===null?M.firstBaseUpdate=x:_.next=x,M.lastBaseUpdate=S))}if(f!==null){var U=c.baseState;p=0,M=x=S=null,_=f;do{var O=_.lane&-536870913,D=O!==_.lane;if(D?(fe&O)===O:(l&O)===O){O!==0&&O===Ps&&(kc=!0),M!==null&&(M=M.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Y=e,W=_;O=n;var we=a;switch(W.tag){case 1:if(Y=W.payload,typeof Y=="function"){U=Y.call(we,U,O);break e}U=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=W.payload,O=typeof Y=="function"?Y.call(we,U,O):Y,O==null)break e;U=v({},U,O);break e;case 2:li=!0}}O=_.callback,O!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[O]:D.push(O))}else D={lane:O,tag:_.tag,payload:_.payload,callback:_.callback,next:null},M===null?(x=M=D,S=U):M=M.next=D,p|=O;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;D=_,_=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);M===null&&(S=U),c.baseState=S,c.firstBaseUpdate=x,c.lastBaseUpdate=M,f===null&&(c.shared.lanes=0),mi|=p,e.lanes=p,e.memoizedState=U}}function Ep(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Sp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ep(a[e],n)}var Ys=T(null),Kl=T(0);function Cp(e,n){e=Bn,V(Kl,e),V(Ys,n),Bn=e|n.baseLanes}function Uc(){V(Kl,Bn),V(Ys,Ys.current)}function jc(){Bn=Kl.current,j(Ys),j(Kl)}var kt=T(null),Wt=null;function ci(e){var n=e.alternate;V(Ge,Ge.current&1),V(kt,e),Wt===null&&(n===null||Ys.current!==null||n.memoizedState!==null)&&(Wt=e)}function zc(e){V(Ge,Ge.current),V(kt,e),Wt===null&&(Wt=e)}function Tp(e){e.tag===22?(V(Ge,Ge.current),V(kt,e),Wt===null&&(Wt=e)):fi()}function fi(){V(Ge,Ge.current),V(kt,kt.current)}function Ut(e){j(kt),Wt===e&&(Wt=null),j(Ge)}var Ge=T(0);function Ql(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yf(a)||Ff(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var In=0,ie=null,Ce=null,Ke=null,Xl=!1,Fs=!1,as=!1,Wl=0,sr=0,Ks=null,TS=0;function ze(){throw Error(r(321))}function Hc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Mt(e[a],n[a]))return!1;return!0}function Bc(e,n,a,l,c,f){return In=f,ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?lg:tf,as=!1,f=a(l,c),as=!1,Fs&&(f=Np(n,a,l,c)),wp(e),f}function wp(e){L.H=lr;var n=Ce!==null&&Ce.next!==null;if(In=0,Ke=Ce=ie=null,Xl=!1,sr=0,Ks=null,n)throw Error(r(300));e===null||Qe||(e=e.dependencies,e!==null&&Bl(e)&&(Qe=!0))}function Np(e,n,a,l){ie=e;var c=0;do{if(Fs&&(Ks=null),sr=0,Fs=!1,25<=c)throw Error(r(301));if(c+=1,Ke=Ce=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=og,f=n(a,l)}while(Fs);return f}function wS(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?ar(n):n,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(ie.flags|=1024),n}function Pc(){var e=Wl!==0;return Wl=0,e}function qc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Vc(e){if(Xl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xl=!1}In=0,Ke=Ce=ie=null,Fs=!1,sr=Wl=0,Ks=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ie.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ye(){if(Ce===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var n=Ke===null?ie.memoizedState:Ke.next;if(n!==null)Ke=n,Ce=e;else{if(e===null)throw ie.alternate===null?Error(r(467)):Error(r(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ke===null?ie.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ar(e){var n=sr;return sr+=1,Ks===null&&(Ks=[]),e=gp(Ks,e,n),n=ie,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?lg:tf),e}function Jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ar(e);if(e.$$typeof===Q)return ut(e)}throw Error(r(438,String(e)))}function Gc(e){var n=null,a=ie.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Zl(),ie.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=qt;return n.index++,a}function Mn(e,n){return typeof n=="function"?n(e):n}function $l(e){var n=Ye();return Yc(n,Ce,e)}function Yc(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var _=p=null,S=null,x=n,M=!1;do{var U=x.lane&-536870913;if(U!==x.lane?(fe&U)===U:(In&U)===U){var O=x.revertLane;if(O===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),U===Ps&&(M=!0);else if((In&O)===O){x=x.next,O===Ps&&(M=!0);continue}else U={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(_=S=U,p=f):S=S.next=U,ie.lanes|=O,mi|=O;U=x.action,as&&a(f,U),f=x.hasEagerState?x.eagerState:a(f,U)}else O={lane:U,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(_=S=O,p=f):S=S.next=O,ie.lanes|=U,mi|=U;x=x.next}while(x!==null&&x!==n);if(S===null?p=f:S.next=_,!Mt(f,e.memoizedState)&&(Qe=!0,M&&(a=qs,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Fc(e){var n=Ye(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);Mt(f,n.memoizedState)||(Qe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Rp(e,n,a){var l=ie,c=Ye(),f=de;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!Mt((Ce||c).memoizedState,a);if(p&&(c.memoizedState=a,Qe=!0),c=c.queue,Xc(Op.bind(null,l,c,e),[e]),c.getSnapshot!==n||p||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,Qs(9,{destroy:void 0},xp.bind(null,l,c,a,n),null),xe===null)throw Error(r(349));f||(In&127)!==0||Ap(l,n,a)}return a}function Ap(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ie.updateQueue,n===null?(n=Zl(),ie.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function xp(e,n,a,l){n.value=a,n.getSnapshot=l,Dp(n)&&Ip(e)}function Op(e,n,a){return a(function(){Dp(n)&&Ip(e)})}function Dp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Mt(e,a)}catch{return!0}}function Ip(e){var n=Wi(e,2);n!==null&&At(n,e,2)}function Kc(e){var n=_t();if(typeof e=="function"){var a=e;if(e=a(),as){ei(!0);try{a()}finally{ei(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},n}function Mp(e,n,a,l){return e.baseState=a,Yc(e,Ce,typeof l=="function"?l:Mn)}function NS(e,n,a,l,c){if(no(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};L.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Lp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Lp(e,n){var a=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=L.T,p={};L.T=p;try{var _=a(c,l),S=L.S;S!==null&&S(p,_),kp(e,n,_)}catch(x){Qc(e,n,x)}finally{f!==null&&p.types!==null&&(f.types=p.types),L.T=f}}else try{f=a(c,l),kp(e,n,f)}catch(x){Qc(e,n,x)}}function kp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Up(e,n,l)},function(l){return Qc(e,n,l)}):Up(e,n,a)}function Up(e,n,a){n.status="fulfilled",n.value=a,jp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Lp(e,a)))}function Qc(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,jp(n),n=n.next;while(n!==l)}e.action=null}function jp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zp(e,n){return n}function Hp(e,n){if(de){var a=xe.formState;if(a!==null){e:{var l=ie;if(de){if(Me){t:{for(var c=Me,f=Xt;c.nodeType!==8;){if(!f){c=null;break t}if(c=Zt(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Me=Zt(c.nextSibling),l=c.data==="F!";break e}}ai(l)}l=!1}l&&(n=a[0])}}return a=_t(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:n},a.queue=l,a=sg.bind(null,ie,l),l.dispatch=a,l=Kc(!1),f=ef.bind(null,ie,!1,l.queue),l=_t(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,a=NS.bind(null,ie,c,f,a),c.dispatch=a,l.memoizedState=e,[n,a,!1]}function Bp(e){var n=Ye();return Pp(n,Ce,e)}function Pp(e,n,a){if(n=Yc(e,n,zp)[0],e=$l(Mn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ar(n)}catch(p){throw p===Vs?Vl:p}else l=n;n=Ye();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(ie.flags|=2048,Qs(9,{destroy:void 0},RS.bind(null,c,a),null)),[l,f,e]}function RS(e,n){e.action=n}function qp(e){var n=Ye(),a=Ce;if(a!==null)return Pp(n,a,e);Ye(),n=n.memoizedState,a=Ye();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Qs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=ie.updateQueue,n===null&&(n=Zl(),ie.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Vp(){return Ye().memoizedState}function eo(e,n,a,l){var c=_t();ie.flags|=e,c.memoizedState=Qs(1|n,{destroy:void 0},a,l===void 0?null:l)}function to(e,n,a,l){var c=Ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Ce!==null&&l!==null&&Hc(l,Ce.memoizedState.deps)?c.memoizedState=Qs(n,f,a,l):(ie.flags|=e,c.memoizedState=Qs(1|n,f,a,l))}function Gp(e,n){eo(8390656,8,e,n)}function Xc(e,n){to(2048,8,e,n)}function AS(e){ie.flags|=4;var n=ie.updateQueue;if(n===null)n=Zl(),ie.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Yp(e){var n=Ye().memoizedState;return AS({ref:n,nextImpl:e}),function(){if((_e&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fp(e,n){return to(4,2,e,n)}function Kp(e,n){return to(4,4,e,n)}function Qp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Xp(e,n,a){a=a!=null?a.concat([e]):null,to(4,4,Qp.bind(null,n,e),a)}function Wc(){}function Wp(e,n){var a=Ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Hc(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Zp(e,n){var a=Ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Hc(n,l[1]))return l[0];if(l=e(),as){ei(!0);try{e()}finally{ei(!1)}}return a.memoizedState=[l,n],l}function Zc(e,n,a){return a===void 0||(In&1073741824)!==0&&(fe&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Jg(),ie.lanes|=e,mi|=e,a)}function Jp(e,n,a,l){return Mt(a,n)?a:Ys.current!==null?(e=Zc(e,a,l),Mt(e,n)||(Qe=!0),e):(In&42)===0||(In&1073741824)!==0&&(fe&261930)===0?(Qe=!0,e.memoizedState=a):(e=Jg(),ie.lanes|=e,mi|=e,n)}function $p(e,n,a,l,c){var f=q.p;q.p=f!==0&&8>f?f:8;var p=L.T,_={};L.T=_,ef(e,!1,n,a);try{var S=c(),x=L.S;if(x!==null&&x(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var M=CS(S,l);rr(e,n,M,Ht(e))}else rr(e,n,l,Ht(e))}catch(U){rr(e,n,{then:function(){},status:"rejected",reason:U},Ht())}finally{q.p=f,p!==null&&_.types!==null&&(p.types=_.types),L.T=p}}function xS(){}function Jc(e,n,a,l){if(e.tag!==5)throw Error(r(476));var c=eg(e).queue;$p(e,c,n,$,a===null?xS:function(){return tg(e),a(l)})}function eg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:$},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tg(e){var n=eg(e);n.next===null&&(n=e.alternate.memoizedState),rr(e,n.next.queue,{},Ht())}function $c(){return ut(Cr)}function ng(){return Ye().memoizedState}function ig(){return Ye().memoizedState}function OS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ht();e=oi(a);var l=ui(n,e,a);l!==null&&(At(l,n,a),tr(l,n,a)),n={cache:Ac()},e.payload=n;return}n=n.return}}function DS(e,n,a){var l=Ht();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},no(e)?ag(n,a):(a=_c(e,n,a,l),a!==null&&(At(a,e,l),rg(a,n,l)))}function sg(e,n,a){var l=Ht();rr(e,n,a,l)}function rr(e,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(no(e))ag(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,_=f(p,a);if(c.hasEagerState=!0,c.eagerState=_,Mt(_,p))return Ul(e,n,c,0),xe===null&&kl(),!1}catch{}if(a=_c(e,n,c,l),a!==null)return At(a,e,l),rg(a,n,l),!0}return!1}function ef(e,n,a,l){if(l={lane:2,revertLane:Mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},no(e)){if(n)throw Error(r(479))}else n=_c(e,a,l,2),n!==null&&At(n,e,2)}function no(e){var n=e.alternate;return e===ie||n!==null&&n===ie}function ag(e,n){Fs=Xl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function rg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,fm(e,a)}}var lr={readContext:ut,use:Jl,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};lr.useEffectEvent=ze;var lg={readContext:ut,use:Jl,useCallback:function(e,n){return _t().memoizedState=[e,n===void 0?null:n],e},useContext:ut,useEffect:Gp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,eo(4194308,4,Qp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return eo(4194308,4,e,n)},useInsertionEffect:function(e,n){eo(4,2,e,n)},useMemo:function(e,n){var a=_t();n=n===void 0?null:n;var l=e();if(as){ei(!0);try{e()}finally{ei(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=_t();if(a!==void 0){var c=a(n);if(as){ei(!0);try{a(n)}finally{ei(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=DS.bind(null,ie,e),[l.memoizedState,e]},useRef:function(e){var n=_t();return e={current:e},n.memoizedState=e},useState:function(e){e=Kc(e);var n=e.queue,a=sg.bind(null,ie,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Wc,useDeferredValue:function(e,n){var a=_t();return Zc(a,e,n)},useTransition:function(){var e=Kc(!1);return e=$p.bind(null,ie,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=ie,c=_t();if(de){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),xe===null)throw Error(r(349));(fe&127)!==0||Ap(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Gp(Op.bind(null,l,f,e),[e]),l.flags|=2048,Qs(9,{destroy:void 0},xp.bind(null,l,f,a,n),null),a},useId:function(){var e=_t(),n=xe.identifierPrefix;if(de){var a=_n,l=gn;a=(l&~(1<<32-It(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wl++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=TS++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:$c,useFormState:Hp,useActionState:Hp,useOptimistic:function(e){var n=_t();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ef.bind(null,ie,!0,a),a.dispatch=n,[e,n]},useMemoCache:Gc,useCacheRefresh:function(){return _t().memoizedState=OS.bind(null,ie)},useEffectEvent:function(e){var n=_t(),a={impl:e};return n.memoizedState=a,function(){if((_e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},tf={readContext:ut,use:Jl,useCallback:Wp,useContext:ut,useEffect:Xc,useImperativeHandle:Xp,useInsertionEffect:Fp,useLayoutEffect:Kp,useMemo:Zp,useReducer:$l,useRef:Vp,useState:function(){return $l(Mn)},useDebugValue:Wc,useDeferredValue:function(e,n){var a=Ye();return Jp(a,Ce.memoizedState,e,n)},useTransition:function(){var e=$l(Mn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:ar(e),n]},useSyncExternalStore:Rp,useId:ng,useHostTransitionStatus:$c,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,n){var a=Ye();return Mp(a,Ce,e,n)},useMemoCache:Gc,useCacheRefresh:ig};tf.useEffectEvent=Yp;var og={readContext:ut,use:Jl,useCallback:Wp,useContext:ut,useEffect:Xc,useImperativeHandle:Xp,useInsertionEffect:Fp,useLayoutEffect:Kp,useMemo:Zp,useReducer:Fc,useRef:Vp,useState:function(){return Fc(Mn)},useDebugValue:Wc,useDeferredValue:function(e,n){var a=Ye();return Ce===null?Zc(a,e,n):Jp(a,Ce.memoizedState,e,n)},useTransition:function(){var e=Fc(Mn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:ar(e),n]},useSyncExternalStore:Rp,useId:ng,useHostTransitionStatus:$c,useFormState:qp,useActionState:qp,useOptimistic:function(e,n){var a=Ye();return Ce!==null?Mp(a,Ce,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:ig};og.useEffectEvent=Yp;function nf(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:v({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var sf={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Ht(),c=oi(l);c.payload=n,a!=null&&(c.callback=a),n=ui(e,c,l),n!==null&&(At(n,e,l),tr(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Ht(),c=oi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ui(e,c,l),n!==null&&(At(n,e,l),tr(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ht(),l=oi(a);l.tag=2,n!=null&&(l.callback=n),n=ui(e,l,a),n!==null&&(At(n,e,a),tr(n,e,a))}};function ug(e,n,a,l,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ka(a,l)||!Ka(c,f):!0}function cg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&sf.enqueueReplaceState(n,n.state,null)}function rs(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=v({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function fg(e){Ll(e)}function hg(e){console.error(e)}function dg(e){Ll(e)}function io(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function mg(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function af(e,n,a){return a=oi(a),a.tag=3,a.payload={element:null},a.callback=function(){io(e,n)},a}function pg(e){return e=oi(e),e.tag=3,e}function gg(e,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){mg(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){mg(n,a,l),typeof c!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function IS(e,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Bs(n,a,c,!0),a=kt.current,a!==null){switch(a.tag){case 31:case 13:return Wt===null?go():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Gl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Of(e,l,c)),!1;case 22:return a.flags|=65536,l===Gl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Of(e,l,c)),!1}throw Error(r(435,a.tag))}return Of(e,l,c),go(),!1}if(de)return n=kt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Cc&&(e=Error(r(422),{cause:l}),Wa(Ft(e,a)))):(l!==Cc&&(n=Error(r(423),{cause:l}),Wa(Ft(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Ft(l,a),c=af(e.stateNode,l,c),Lc(e,c),He!==4&&(He=2)),!1;var f=Error(r(520),{cause:l});if(f=Ft(f,a),pr===null?pr=[f]:pr.push(f),He!==4&&(He=2),n===null)return!0;l=Ft(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=af(a.stateNode,l,e),Lc(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(pi===null||!pi.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=pg(c),gg(c,e,a,l),Lc(a,c),!1}a=a.return}while(a!==null);return!1}var rf=Error(r(461)),Qe=!1;function ct(e,n,a,l){n.child=e===null?bp(n,null,a,l):ss(n,e.child,a,l)}function _g(e,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var _ in l)_!=="ref"&&(p[_]=l[_])}else p=l;return es(n),l=Bc(e,n,a,p,f,c),_=Pc(),e!==null&&!Qe?(qc(e,n,c),Ln(e,n,c)):(de&&_&&Ec(n),n.flags|=1,ct(e,n,l,c),n.child)}function yg(e,n,a,l,c){if(e===null){var f=a.type;return typeof f=="function"&&!yc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,vg(e,n,f,l,c)):(e=zl(a.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!mf(e,c)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ka,a(p,l)&&e.ref===n.ref)return Ln(e,n,c)}return n.flags|=1,e=An(f,l),e.ref=n.ref,e.return=n,n.child=e}function vg(e,n,a,l,c){if(e!==null){var f=e.memoizedProps;if(Ka(f,l)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=l=f,mf(e,c))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,Ln(e,n,c)}return lf(e,n,a,l,c)}function bg(e,n,a,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Eg(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ql(n,f!==null?f.cachePool:null),f!==null?Cp(n,f):Uc(),Tp(n);else return l=n.lanes=536870912,Eg(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ql(n,f.cachePool),Cp(n,f),fi(),n.memoizedState=null):(e!==null&&ql(n,null),Uc(),fi());return ct(e,n,c,a),n.child}function or(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Eg(e,n,a,l,c){var f=Oc();return f=f===null?null:{parent:Fe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&ql(n,null),Uc(),Tp(n),e!==null&&Bs(e,n,l,!0),n.childLanes=c,null}function so(e,n){return n=ro({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Sg(e,n,a){return ss(n,e.child,null,a),e=so(n,n.pendingProps),e.flags|=2,Ut(n),n.memoizedState=null,e}function MS(e,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(de){if(l.mode==="hidden")return e=so(n,l),n.lanes=536870912,or(null,e);if(zc(n),(e=Me)?(e=L_(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:gn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},a=ap(e),a.return=n,n.child=a,ot=n,Me=null)):e=null,e===null)throw ai(n);return n.lanes=536870912,null}return so(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(zc(n),c)if(n.flags&256)n.flags&=-257,n=Sg(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Qe||Bs(e,n,a,!1),c=(a&e.childLanes)!==0,Qe||c){if(l=xe,l!==null&&(p=hm(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Wi(e,p),At(l,e,p),rf;go(),n=Sg(e,n,a)}else e=f.treeContext,Me=Zt(p.nextSibling),ot=n,de=!0,si=null,Xt=!1,e!==null&&op(n,e),n=so(n,l),n.flags|=4096;return n}return e=An(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ao(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function lf(e,n,a,l,c){return es(n),a=Bc(e,n,a,l,void 0,c),l=Pc(),e!==null&&!Qe?(qc(e,n,c),Ln(e,n,c)):(de&&l&&Ec(n),n.flags|=1,ct(e,n,a,c),n.child)}function Cg(e,n,a,l,c,f){return es(n),n.updateQueue=null,a=Np(n,l,a,c),wp(e),l=Pc(),e!==null&&!Qe?(qc(e,n,f),Ln(e,n,f)):(de&&l&&Ec(n),n.flags|=1,ct(e,n,a,f),n.child)}function Tg(e,n,a,l,c){if(es(n),n.stateNode===null){var f=Us,p=a.contextType;typeof p=="object"&&p!==null&&(f=ut(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ic(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?ut(p):Us,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(nf(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&sf.enqueueReplaceState(f,f.state,null),ir(n,l,f,c),nr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,S=rs(a,_);f.props=S;var x=f.context,M=a.contextType;p=Us,typeof M=="object"&&M!==null&&(p=ut(M));var U=a.getDerivedStateFromProps;M=typeof U=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||x!==p)&&cg(n,f,l,p),li=!1;var O=n.memoizedState;f.state=O,ir(n,l,f,c),nr(),x=n.memoizedState,_||O!==x||li?(typeof U=="function"&&(nf(n,a,U,l),x=n.memoizedState),(S=li||ug(n,a,S,l,O,x,p))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=x),f.props=l,f.state=x,f.context=p,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Mc(e,n),p=n.memoizedProps,M=rs(a,p),f.props=M,U=n.pendingProps,O=f.context,x=a.contextType,S=Us,typeof x=="object"&&x!==null&&(S=ut(x)),_=a.getDerivedStateFromProps,(x=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==U||O!==S)&&cg(n,f,l,S),li=!1,O=n.memoizedState,f.state=O,ir(n,l,f,c),nr();var D=n.memoizedState;p!==U||O!==D||li||e!==null&&e.dependencies!==null&&Bl(e.dependencies)?(typeof _=="function"&&(nf(n,a,_,l),D=n.memoizedState),(M=li||ug(n,a,M,l,O,D,S)||e!==null&&e.dependencies!==null&&Bl(e.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,D,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,D,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=S,l=M):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,ao(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=ss(n,e.child,null,c),n.child=ss(n,null,a,c)):ct(e,n,a,c),n.memoizedState=f.state,e=n.child):e=Ln(e,n,c),e}function wg(e,n,a,l){return Ji(),n.flags|=256,ct(e,n,a,l),n.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(e){return{baseLanes:e,cachePool:mp()}}function cf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=zt),e}function Ng(e,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(de){if(c?ci(n):fi(),(e=Me)?(e=L_(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:gn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},a=ap(e),a.return=n,n.child=a,ot=n,Me=null)):e=null,e===null)throw ai(n);return Ff(e)?n.lanes=32:n.lanes=536870912,null}var _=l.children;return l=l.fallback,c?(fi(),c=n.mode,_=ro({mode:"hidden",children:_},c),l=Zi(l,c,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,l=n.child,l.memoizedState=uf(a),l.childLanes=cf(e,p,a),n.memoizedState=of,or(null,l)):(ci(n),ff(n,_))}var S=e.memoizedState;if(S!==null&&(_=S.dehydrated,_!==null)){if(f)n.flags&256?(ci(n),n.flags&=-257,n=hf(e,n,a)):n.memoizedState!==null?(fi(),n.child=e.child,n.flags|=128,n=null):(fi(),_=l.fallback,c=n.mode,l=ro({mode:"visible",children:l.children},c),_=Zi(_,c,a,null),_.flags|=2,l.return=n,_.return=n,l.sibling=_,n.child=l,ss(n,e.child,null,a),l=n.child,l.memoizedState=uf(a),l.childLanes=cf(e,p,a),n.memoizedState=of,n=or(null,l));else if(ci(n),Ff(_)){if(p=_.nextSibling&&_.nextSibling.dataset,p)var x=p.dgst;p=x,l=Error(r(419)),l.stack="",l.digest=p,Wa({value:l,source:null,stack:null}),n=hf(e,n,a)}else if(Qe||Bs(e,n,a,!1),p=(a&e.childLanes)!==0,Qe||p){if(p=xe,p!==null&&(l=hm(p,a),l!==0&&l!==S.retryLane))throw S.retryLane=l,Wi(e,l),At(p,e,l),rf;Yf(_)||go(),n=hf(e,n,a)}else Yf(_)?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,Me=Zt(_.nextSibling),ot=n,de=!0,si=null,Xt=!1,e!==null&&op(n,e),n=ff(n,l.children),n.flags|=4096);return n}return c?(fi(),_=l.fallback,c=n.mode,S=e.child,x=S.sibling,l=An(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,x!==null?_=An(x,_):(_=Zi(_,c,a,null),_.flags|=2),_.return=n,l.return=n,l.sibling=_,n.child=l,or(null,l),l=n.child,_=e.child.memoizedState,_===null?_=uf(a):(c=_.cachePool,c!==null?(S=Fe._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=mp(),_={baseLanes:_.baseLanes|a,cachePool:c}),l.memoizedState=_,l.childLanes=cf(e,p,a),n.memoizedState=of,or(e.child,l)):(ci(n),a=e.child,e=a.sibling,a=An(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function ff(e,n){return n=ro({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ro(e,n){return e=Lt(22,e,null,n),e.lanes=0,e}function hf(e,n,a){return ss(n,e.child,null,a),e=ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Rg(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Nc(e.return,n,a)}function df(e,n,a,l,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c,p.treeForkCount=f)}function Ag(e,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=Ge.current,_=(p&2)!==0;if(_?(p=p&1|2,n.flags|=128):p&=1,V(Ge,p),ct(e,n,l,a),l=de?Xa:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rg(e,a,n);else if(e.tag===19)Rg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&Ql(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),df(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Ql(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}df(n,!0,a,null,f,l);break;case"together":df(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ln(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),mi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Bs(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=An(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=An(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Bl(e)))}function LS(e,n,a){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),ri(n,Fe,e.memoizedState.cache),Ji();break;case 27:case 5:La(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:ri(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zc(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ci(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ng(e,n,a):(ci(n),e=Ln(e,n,a),e!==null?e.sibling:null);ci(n);break;case 19:var c=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Bs(e,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Ag(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),V(Ge,Ge.current),l)break;return null;case 22:return n.lanes=0,bg(e,n,a,n.pendingProps);case 24:ri(n,Fe,e.memoizedState.cache)}return Ln(e,n,a)}function xg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!mf(e,a)&&(n.flags&128)===0)return Qe=!1,LS(e,n,a);Qe=(e.flags&131072)!==0}else Qe=!1,de&&(n.flags&1048576)!==0&&lp(n,Xa,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=ns(n.elementType),n.type=e,typeof e=="function")yc(e)?(l=rs(e,l),n.tag=1,n=Tg(null,n,e,l,a)):(n.tag=0,n=lf(null,n,e,l,a));else{if(e!=null){var c=e.$$typeof;if(c===ve){n.tag=11,n=_g(null,n,e,l,a);break e}else if(c===te){n.tag=14,n=yg(null,n,e,l,a);break e}}throw n=Tn(e)||e,Error(r(306,n,""))}}return n;case 0:return lf(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=rs(l,n.pendingProps),Tg(e,n,l,c,a);case 3:e:{if(gt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Mc(e,n),ir(n,l,null,a);var p=n.memoizedState;if(l=p.cache,ri(n,Fe,l),l!==f.cache&&Rc(n,[Fe],a,!0),nr(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wg(e,n,l,a);break e}else if(l!==c){c=Ft(Error(r(424)),n),Wa(c),n=wg(e,n,l,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Me=Zt(e.firstChild),ot=n,de=!0,si=null,Xt=!0,a=bp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ji(),l===c){n=Ln(e,n,a);break e}ct(e,n,l,a)}n=n.child}return n;case 26:return ao(e,n),e===null?(a=B_(n.type,null,n.pendingProps,null))?n.memoizedState=a:de||(a=n.type,e=n.pendingProps,l=Co(le.current).createElement(a),l[lt]=n,l[St]=e,ft(l,a,e),tt(l),n.stateNode=l):n.memoizedState=B_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return La(n),e===null&&de&&(l=n.stateNode=j_(n.type,n.pendingProps,le.current),ot=n,Xt=!0,c=Me,vi(n.type)?(Kf=c,Me=Zt(l.firstChild)):Me=c),ct(e,n,n.pendingProps.children,a),ao(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&de&&((c=l=Me)&&(l=cC(l,n.type,n.pendingProps,Xt),l!==null?(n.stateNode=l,ot=n,Me=Zt(l.firstChild),Xt=!1,c=!0):c=!1),c||ai(n)),La(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,qf(c,f)?l=null:p!==null&&qf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Bc(e,n,wS,null,null,a),Cr._currentValue=c),ao(e,n),ct(e,n,l,a),n.child;case 6:return e===null&&de&&((e=a=Me)&&(a=fC(a,n.pendingProps,Xt),a!==null?(n.stateNode=a,ot=n,Me=null,e=!0):e=!1),e||ai(n)),null;case 13:return Ng(e,n,a);case 4:return gt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ss(n,null,l,a):ct(e,n,l,a),n.child;case 11:return _g(e,n,n.type,n.pendingProps,a);case 7:return ct(e,n,n.pendingProps,a),n.child;case 8:return ct(e,n,n.pendingProps.children,a),n.child;case 12:return ct(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ri(n,n.type,l.value),ct(e,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,es(n),c=ut(c),l=l(c),n.flags|=1,ct(e,n,l,a),n.child;case 14:return yg(e,n,n.type,n.pendingProps,a);case 15:return vg(e,n,n.type,n.pendingProps,a);case 19:return Ag(e,n,a);case 31:return MS(e,n,a);case 22:return bg(e,n,a,n.pendingProps);case 24:return es(n),l=ut(Fe),e===null?(c=Oc(),c===null&&(c=xe,f=Ac(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Ic(n),ri(n,Fe,c)):((e.lanes&a)!==0&&(Mc(e,n),ir(n,null,null,a),nr()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ri(n,Fe,l)):(l=f.cache,ri(n,Fe,l),l!==c.cache&&Rc(n,[Fe],a,!0))),ct(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function kn(e){e.flags|=4}function pf(e,n,a,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(n_())e.flags|=8192;else throw is=Gl,Dc}else e.flags&=-16777217}function Og(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Y_(n))if(n_())e.flags|=8192;else throw is=Gl,Dc}function lo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?um():536870912,e.lanes|=n,Js|=n)}function ur(e,n){if(!de)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Le(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function kS(e,n,a){var l=n.pendingProps;switch(Sc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(n),null;case 1:return Le(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Dn(Fe),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hs(n)?kn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tc())),Le(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(kn(n),f!==null?(Le(n),Og(n,f)):(Le(n),pf(n,c,null,l,a))):f?f!==e.memoizedState?(kn(n),Le(n),Og(n,f)):(Le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&kn(n),Le(n),pf(n,c,e,l,a)),null;case 27:if(yl(n),a=le.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Le(n),null}e=F.current,Hs(n)?up(n):(e=j_(c,l,a),n.stateNode=e,kn(n))}return Le(n),null;case 5:if(yl(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Le(n),null}if(f=F.current,Hs(n))up(n);else{var p=Co(le.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[lt]=n,f[St]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(ft(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&kn(n)}}return Le(n),pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=le.current,Hs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,c=ot,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[lt]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N_(e.nodeValue,a)),e||ai(n,!0)}else e=Co(e).createTextNode(l),e[lt]=n,n.stateNode=e}return Le(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=Hs(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[lt]=n}else Ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Le(n),e=!1}else a=Tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Ut(n),n):(Ut(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Le(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Hs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[lt]=n}else Ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Le(n),c=!1}else c=Tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ut(n),n):(Ut(n),null)}return Ut(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),lo(n,n.updateQueue),Le(n),null);case 4:return Ve(),e===null&&jf(n.stateNode.containerInfo),Le(n),null;case 10:return Dn(n.type),Le(n),null;case 19:if(j(Ge),l=n.memoizedState,l===null)return Le(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)ur(l,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ql(e),f!==null){for(n.flags|=128,ur(l,!1),e=f.updateQueue,n.updateQueue=e,lo(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)sp(a,e),a=a.sibling;return V(Ge,Ge.current&1|2),de&&xn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ot()>ho&&(n.flags|=128,c=!0,ur(l,!1),n.lanes=4194304)}else{if(!c)if(e=Ql(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,lo(n,e),ur(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!de)return Le(n),null}else 2*Ot()-l.renderingStartTime>ho&&a!==536870912&&(n.flags|=128,c=!0,ur(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ot(),e.sibling=null,a=Ge.current,V(Ge,c?a&1|2:a&1),de&&xn(n,l.treeForkCount),e):(Le(n),null);case 22:case 23:return Ut(n),jc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Le(n),n.subtreeFlags&6&&(n.flags|=8192)):Le(n),a=n.updateQueue,a!==null&&lo(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&j(ts),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Dn(Fe),Le(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function US(e,n){switch(Sc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Dn(Fe),Ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return yl(n),null;case 31:if(n.memoizedState!==null){if(Ut(n),n.alternate===null)throw Error(r(340));Ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ut(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return j(Ge),null;case 4:return Ve(),null;case 10:return Dn(n.type),null;case 22:case 23:return Ut(n),jc(),e!==null&&j(ts),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Dn(Fe),null;case 25:return null;default:return null}}function Dg(e,n){switch(Sc(n),n.tag){case 3:Dn(Fe),Ve();break;case 26:case 27:case 5:yl(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&Ut(n);break;case 13:Ut(n);break;case 19:j(Ge);break;case 10:Dn(n.type);break;case 22:case 23:Ut(n),jc(),e!==null&&j(ts);break;case 24:Dn(Fe)}}function cr(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==c)}}catch(_){Ee(n,n.return,_)}}function hi(e,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var p=l.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,c=n;var S=a,x=_;try{x()}catch(M){Ee(c,S,M)}}}l=l.next}while(l!==f)}}catch(M){Ee(n,n.return,M)}}function Ig(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Sp(n,a)}catch(l){Ee(e,e.return,l)}}}function Mg(e,n,a){a.props=rs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ee(e,n,l)}}function fr(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){Ee(e,n,c)}}function yn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ee(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ee(e,n,c)}else a.current=null}function Lg(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ee(e,e.return,c)}}function gf(e,n,a){try{var l=e.stateNode;sC(l,e.type,a,n),l[St]=n}catch(c){Ee(e,e.return,c)}}function kg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vi(e.type)||e.tag===4}function _f(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Nn));else if(l!==4&&(l===27&&vi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(yf(e,n,a),e=e.sibling;e!==null;)yf(e,n,a),e=e.sibling}function oo(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&vi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(oo(e,n,a),e=e.sibling;e!==null;)oo(e,n,a),e=e.sibling}function Ug(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ft(n,l,a),n[lt]=e,n[St]=a}catch(f){Ee(e,e.return,f)}}var Un=!1,Xe=!1,vf=!1,jg=typeof WeakSet=="function"?WeakSet:Set,nt=null;function jS(e,n){if(e=e.containerInfo,Bf=Oo,e=Xm(e),fc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,_=-1,S=-1,x=0,M=0,U=e,O=null;t:for(;;){for(var D;U!==a||c!==0&&U.nodeType!==3||(_=p+c),U!==f||l!==0&&U.nodeType!==3||(S=p+l),U.nodeType===3&&(p+=U.nodeValue.length),(D=U.firstChild)!==null;)O=U,U=D;for(;;){if(U===e)break t;if(O===a&&++x===c&&(_=p),O===f&&++M===l&&(S=p),(D=U.nextSibling)!==null)break;U=O,O=U.parentNode}U=D}a=_===-1||S===-1?null:{start:_,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pf={focusedElem:e,selectionRange:a},Oo=!1,nt=n;nt!==null;)if(n=nt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,nt=e;else for(;nt!==null;){switch(n=nt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Y=rs(a.type,c);e=l.getSnapshotBeforeUpdate(Y,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(W){Ee(a,a.return,W)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Gf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,nt=e;break}nt=n.return}}function zg(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zn(e,a),l&4&&cr(5,a);break;case 1:if(zn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Ee(a,a.return,p)}else{var c=rs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ee(a,a.return,p)}}l&64&&Ig(a),l&512&&fr(a,a.return);break;case 3:if(zn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Sp(e,n)}catch(p){Ee(a,a.return,p)}}break;case 27:n===null&&l&4&&Ug(a);case 26:case 5:zn(e,a),n===null&&l&4&&Lg(a),l&512&&fr(a,a.return);break;case 12:zn(e,a);break;case 31:zn(e,a),l&4&&Pg(e,a);break;case 13:zn(e,a),l&4&&qg(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=FS.bind(null,a),hC(e,a))));break;case 22:if(l=a.memoizedState!==null||Un,!l){n=n!==null&&n.memoizedState!==null||Xe,c=Un;var f=Xe;Un=l,(Xe=n)&&!f?Hn(e,a,(a.subtreeFlags&8772)!==0):zn(e,a),Un=c,Xe=f}break;case 30:break;default:zn(e,a)}}function Hg(e){var n=e.alternate;n!==null&&(e.alternate=null,Hg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Tt=!1;function jn(e,n,a){for(a=a.child;a!==null;)Bg(e,n,a),a=a.sibling}function Bg(e,n,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(ka,a)}catch{}switch(a.tag){case 26:Xe||yn(a,n),jn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||yn(a,n);var l=ke,c=Tt;vi(a.type)&&(ke=a.stateNode,Tt=!1),jn(e,n,a),br(a.stateNode),ke=l,Tt=c;break;case 5:Xe||yn(a,n);case 6:if(l=ke,c=Tt,ke=null,jn(e,n,a),ke=l,Tt=c,ke!==null)if(Tt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(a.stateNode)}catch(f){Ee(a,n,f)}else try{ke.removeChild(a.stateNode)}catch(f){Ee(a,n,f)}break;case 18:ke!==null&&(Tt?(e=ke,I_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ra(e)):I_(ke,a.stateNode));break;case 4:l=ke,c=Tt,ke=a.stateNode.containerInfo,Tt=!0,jn(e,n,a),ke=l,Tt=c;break;case 0:case 11:case 14:case 15:hi(2,a,n),Xe||hi(4,a,n),jn(e,n,a);break;case 1:Xe||(yn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Mg(a,n,l)),jn(e,n,a);break;case 21:jn(e,n,a);break;case 22:Xe=(l=Xe)||a.memoizedState!==null,jn(e,n,a),Xe=l;break;default:jn(e,n,a)}}function Pg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ra(e)}catch(a){Ee(n,n.return,a)}}}function qg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ra(e)}catch(a){Ee(n,n.return,a)}}function zS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new jg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new jg),n;default:throw Error(r(435,e.tag))}}function uo(e,n){var a=zS(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=KS.bind(null,e,l);l.then(c,c)}})}function wt(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=e,p=n,_=p;e:for(;_!==null;){switch(_.tag){case 27:if(vi(_.type)){ke=_.stateNode,Tt=!1;break e}break;case 5:ke=_.stateNode,Tt=!1;break e;case 3:case 4:ke=_.stateNode.containerInfo,Tt=!0;break e}_=_.return}if(ke===null)throw Error(r(160));Bg(f,p,c),ke=null,Tt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vg(n,e),n=n.sibling}var an=null;function Vg(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(n,e),Nt(e),l&4&&(hi(3,e,e.return),cr(3,e),hi(5,e,e.return));break;case 1:wt(n,e),Nt(e),l&512&&(Xe||a===null||yn(a,a.return)),l&64&&Un&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=an;if(wt(n,e),Nt(e),l&512&&(Xe||a===null||yn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[za]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ft(f,l,a),f[lt]=e,tt(f),l=f;break e;case"link":var p=V_("link","href",c).get(l+(a.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(_,1);break t}}f=c.createElement(l),ft(f,l,a),c.head.appendChild(f);break;case"meta":if(p=V_("meta","content",c).get(l+(a.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(_,1);break t}}f=c.createElement(l),ft(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[lt]=e,tt(f),l=f}e.stateNode=l}else G_(c,e.type,e.stateNode);else e.stateNode=q_(c,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?G_(c,e.type,e.stateNode):q_(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&gf(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(n,e),Nt(e),l&512&&(Xe||a===null||yn(a,a.return)),a!==null&&l&4&&gf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(n,e),Nt(e),l&512&&(Xe||a===null||yn(a,a.return)),e.flags&32){c=e.stateNode;try{xs(c,"")}catch(Y){Ee(e,e.return,Y)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,gf(e,c,a!==null?a.memoizedProps:c)),l&1024&&(vf=!0);break;case 6:if(wt(n,e),Nt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Y){Ee(e,e.return,Y)}}break;case 3:if(No=null,c=an,an=To(n.containerInfo),wt(n,e),an=c,Nt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ra(n.containerInfo)}catch(Y){Ee(e,e.return,Y)}vf&&(vf=!1,Gg(e));break;case 4:l=an,an=To(e.stateNode.containerInfo),wt(n,e),Nt(e),an=l;break;case 12:wt(n,e),Nt(e);break;case 31:wt(n,e),Nt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uo(e,l)));break;case 13:wt(n,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fo=Ot()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uo(e,l)));break;case 22:c=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,x=Un,M=Xe;if(Un=x||c,Xe=M||S,wt(n,e),Xe=M,Un=x,Nt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||S||Un||Xe||ls(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){S=a=n;try{if(f=S.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=S.stateNode;var U=S.memoizedProps.style,O=U!=null&&U.hasOwnProperty("display")?U.display:null;_.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(Y){Ee(S,S.return,Y)}}}else if(n.tag===6){if(a===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(Y){Ee(S,S.return,Y)}}}else if(n.tag===18){if(a===null){S=n;try{var D=S.stateNode;c?M_(D,!0):M_(S.stateNode,!1)}catch(Y){Ee(S,S.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uo(e,a))));break;case 19:wt(n,e),Nt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uo(e,l)));break;case 30:break;case 21:break;default:wt(n,e),Nt(e)}}function Nt(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(kg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=_f(e);oo(e,f,c);break;case 5:var p=a.stateNode;a.flags&32&&(xs(p,""),a.flags&=-33);var _=_f(e);oo(e,_,p);break;case 3:case 4:var S=a.stateNode.containerInfo,x=_f(e);yf(e,x,S);break;default:throw Error(r(161))}}catch(M){Ee(e,e.return,M)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Gg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function zn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zg(e,n.alternate,n),n=n.sibling}function ls(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:hi(4,n,n.return),ls(n);break;case 1:yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Mg(n,n.return,a),ls(n);break;case 27:br(n.stateNode);case 26:case 5:yn(n,n.return),ls(n);break;case 22:n.memoizedState===null&&ls(n);break;case 30:ls(n);break;default:ls(n)}e=e.sibling}}function Hn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Hn(c,f,a),cr(4,f);break;case 1:if(Hn(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(x){Ee(l,l.return,x)}if(l=f,c=l.updateQueue,c!==null){var _=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Ep(S[c],_)}catch(x){Ee(l,l.return,x)}}a&&p&64&&Ig(f),fr(f,f.return);break;case 27:Ug(f);case 26:case 5:Hn(c,f,a),a&&l===null&&p&4&&Lg(f),fr(f,f.return);break;case 12:Hn(c,f,a);break;case 31:Hn(c,f,a),a&&p&4&&Pg(c,f);break;case 13:Hn(c,f,a),a&&p&4&&qg(c,f);break;case 22:f.memoizedState===null&&Hn(c,f,a),fr(f,f.return);break;case 30:break;default:Hn(c,f,a)}n=n.sibling}}function bf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Za(a))}function Ef(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Za(e))}function rn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yg(e,n,a,l),n=n.sibling}function Yg(e,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:rn(e,n,a,l),c&2048&&cr(9,n);break;case 1:rn(e,n,a,l);break;case 3:rn(e,n,a,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Za(e)));break;case 12:if(c&2048){rn(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ee(n,n.return,S)}}else rn(e,n,a,l);break;case 31:rn(e,n,a,l);break;case 13:rn(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?rn(e,n,a,l):hr(e,n):f._visibility&2?rn(e,n,a,l):(f._visibility|=2,Xs(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&bf(p,n);break;case 24:rn(e,n,a,l),c&2048&&Ef(n.alternate,n);break;default:rn(e,n,a,l)}}function Xs(e,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,_=a,S=l,x=p.flags;switch(p.tag){case 0:case 11:case 15:Xs(f,p,_,S,c),cr(8,p);break;case 23:break;case 22:var M=p.stateNode;p.memoizedState!==null?M._visibility&2?Xs(f,p,_,S,c):hr(f,p):(M._visibility|=2,Xs(f,p,_,S,c)),c&&x&2048&&bf(p.alternate,p);break;case 24:Xs(f,p,_,S,c),c&&x&2048&&Ef(p.alternate,p);break;default:Xs(f,p,_,S,c)}n=n.sibling}}function hr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,c=l.flags;switch(l.tag){case 22:hr(a,l),c&2048&&bf(l.alternate,l);break;case 24:hr(a,l),c&2048&&Ef(l.alternate,l);break;default:hr(a,l)}n=n.sibling}}var dr=8192;function Ws(e,n,a){if(e.subtreeFlags&dr)for(e=e.child;e!==null;)Fg(e,n,a),e=e.sibling}function Fg(e,n,a){switch(e.tag){case 26:Ws(e,n,a),e.flags&dr&&e.memoizedState!==null&&TC(a,an,e.memoizedState,e.memoizedProps);break;case 5:Ws(e,n,a);break;case 3:case 4:var l=an;an=To(e.stateNode.containerInfo),Ws(e,n,a),an=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=dr,dr=16777216,Ws(e,n,a),dr=l):Ws(e,n,a));break;default:Ws(e,n,a)}}function Kg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function mr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];nt=l,Xg(l,e)}Kg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qg(e),e=e.sibling}function Qg(e){switch(e.tag){case 0:case 11:case 15:mr(e),e.flags&2048&&hi(9,e,e.return);break;case 3:mr(e);break;case 12:mr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,co(e)):mr(e);break;default:mr(e)}}function co(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];nt=l,Xg(l,e)}Kg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:hi(8,n,n.return),co(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,co(n));break;default:co(n)}e=e.sibling}}function Xg(e,n){for(;nt!==null;){var a=nt;switch(a.tag){case 0:case 11:case 15:hi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Za(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,nt=l;else e:for(a=e;nt!==null;){l=nt;var c=l.sibling,f=l.return;if(Hg(l),l===a){nt=null;break e}if(c!==null){c.return=f,nt=c;break e}nt=f}}}var HS={getCacheForType:function(e){var n=ut(Fe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return ut(Fe).controller.signal}},BS=typeof WeakMap=="function"?WeakMap:Map,_e=0,xe=null,oe=null,fe=0,be=0,jt=null,di=!1,Zs=!1,Sf=!1,Bn=0,He=0,mi=0,os=0,Cf=0,zt=0,Js=0,pr=null,Rt=null,Tf=!1,fo=0,Wg=0,ho=1/0,mo=null,pi=null,Je=0,gi=null,$s=null,Pn=0,wf=0,Nf=null,Zg=null,gr=0,Rf=null;function Ht(){return(_e&2)!==0&&fe!==0?fe&-fe:L.T!==null?Mf():dm()}function Jg(){if(zt===0)if((fe&536870912)===0||de){var e=El;El<<=1,(El&3932160)===0&&(El=262144),zt=e}else zt=536870912;return e=kt.current,e!==null&&(e.flags|=32),zt}function At(e,n,a){(e===xe&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(ea(e,0),_i(e,fe,zt,!1)),ja(e,a),((_e&2)===0||e!==xe)&&(e===xe&&((_e&2)===0&&(os|=a),He===4&&_i(e,fe,zt,!1)),vn(e))}function $g(e,n,a){if((_e&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Ua(e,n),c=l?VS(e,n):xf(e,n,!0),f=l;do{if(c===0){Zs&&!l&&_i(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!PS(a)){c=xf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var _=e;c=pr;var S=_.current.memoizedState.isDehydrated;if(S&&(ea(_,p).flags|=256),p=xf(_,p,!1),p!==2){if(Sf&&!S){_.errorRecoveryDisabledLanes|=f,os|=f,c=4;break e}f=Rt,Rt=c,f!==null&&(Rt===null?Rt=f:Rt.push.apply(Rt,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){ea(e,0),_i(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:_i(l,n,zt,!di);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=fo+300-Ot(),10<c)){if(_i(l,n,zt,!di),Cl(l,0,!0)!==0)break e;Pn=n,l.timeoutHandle=O_(e_.bind(null,l,a,Rt,mo,Tf,n,zt,os,Js,di,f,"Throttled",-0,0),c);break e}e_(l,a,Rt,mo,Tf,n,zt,os,Js,di,f,null,-0,0)}}break}while(!0);vn(e)}function e_(e,n,a,l,c,f,p,_,S,x,M,U,O,D){if(e.timeoutHandle=-1,U=n.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},Fg(n,f,U);var Y=(f&62914560)===f?fo-Ot():(f&4194048)===f?Wg-Ot():0;if(Y=wC(U,Y),Y!==null){Pn=f,e.cancelPendingCommit=Y(o_.bind(null,e,n,f,a,l,c,p,_,S,M,U,null,O,D)),_i(e,f,p,!x);return}}o_(e,n,f,a,l,c,p,_,S)}function PS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!Mt(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _i(e,n,a,l){n&=~Cf,n&=~os,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-It(c),p=1<<f;l[f]=-1,c&=~p}a!==0&&cm(e,a,n)}function po(){return(_e&6)===0?(_r(0),!1):!0}function Af(){if(oe!==null){if(be===0)var e=oe.return;else e=oe,On=$i=null,Vc(e),Gs=null,$a=0,e=oe;for(;e!==null;)Dg(e.alternate,e),e=e.return;oe=null}}function ea(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,lC(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Pn=0,Af(),xe=e,oe=a=An(e.current,null),fe=n,be=0,jt=null,di=!1,Zs=Ua(e,n),Sf=!1,Js=zt=Cf=os=mi=He=0,Rt=pr=null,Tf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-It(l),f=1<<c;n|=e[c],l&=~f}return Bn=n,kl(),a}function t_(e,n){ie=null,L.H=lr,n===Vs||n===Vl?(n=_p(),be=3):n===Dc?(n=_p(),be=4):be=n===rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jt=n,oe===null&&(He=1,io(e,Ft(n,e.current)))}function n_(){var e=kt.current;return e===null?!0:(fe&4194048)===fe?Wt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Wt:!1}function i_(){var e=L.H;return L.H=lr,e===null?lr:e}function s_(){var e=L.A;return L.A=HS,e}function go(){He=4,di||(fe&4194048)!==fe&&kt.current!==null||(Zs=!0),(mi&134217727)===0&&(os&134217727)===0||xe===null||_i(xe,fe,zt,!1)}function xf(e,n,a){var l=_e;_e|=2;var c=i_(),f=s_();(xe!==e||fe!==n)&&(mo=null,ea(e,n)),n=!1;var p=He;e:do try{if(be!==0&&oe!==null){var _=oe,S=jt;switch(be){case 8:Af(),p=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(n=!0);var x=be;if(be=0,jt=null,ta(e,_,S,x),a&&Zs){p=0;break e}break;default:x=be,be=0,jt=null,ta(e,_,S,x)}}qS(),p=He;break}catch(M){t_(e,M)}while(!0);return n&&e.shellSuspendCounter++,On=$i=null,_e=l,L.H=c,L.A=f,oe===null&&(xe=null,fe=0,kl()),p}function qS(){for(;oe!==null;)a_(oe)}function VS(e,n){var a=_e;_e|=2;var l=i_(),c=s_();xe!==e||fe!==n?(mo=null,ho=Ot()+500,ea(e,n)):Zs=Ua(e,n);e:do try{if(be!==0&&oe!==null){n=oe;var f=jt;t:switch(be){case 1:be=0,jt=null,ta(e,n,f,1);break;case 2:case 9:if(pp(f)){be=0,jt=null,r_(n);break}n=function(){be!==2&&be!==9||xe!==e||(be=7),vn(e)},f.then(n,n);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:pp(f)?(be=0,jt=null,r_(n)):(be=0,jt=null,ta(e,n,f,7));break;case 5:var p=null;switch(oe.tag){case 26:p=oe.memoizedState;case 5:case 27:var _=oe;if(p?Y_(p):_.stateNode.complete){be=0,jt=null;var S=_.sibling;if(S!==null)oe=S;else{var x=_.return;x!==null?(oe=x,_o(x)):oe=null}break t}}be=0,jt=null,ta(e,n,f,5);break;case 6:be=0,jt=null,ta(e,n,f,6);break;case 8:Af(),He=6;break e;default:throw Error(r(462))}}GS();break}catch(M){t_(e,M)}while(!0);return On=$i=null,L.H=l,L.A=c,_e=a,oe!==null?0:(xe=null,fe=0,kl(),He)}function GS(){for(;oe!==null&&!d0();)a_(oe)}function a_(e){var n=xg(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,n===null?_o(e):oe=n}function r_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Cg(a,n,n.pendingProps,n.type,void 0,fe);break;case 11:n=Cg(a,n,n.pendingProps,n.type.render,n.ref,fe);break;case 5:Vc(n);default:Dg(a,n),n=oe=sp(n,Bn),n=xg(a,n,Bn)}e.memoizedProps=e.pendingProps,n===null?_o(e):oe=n}function ta(e,n,a,l){On=$i=null,Vc(n),Gs=null,$a=0;var c=n.return;try{if(IS(e,c,n,a,fe)){He=1,io(e,Ft(a,e.current)),oe=null;return}}catch(f){if(c!==null)throw oe=c,f;He=1,io(e,Ft(a,e.current)),oe=null;return}n.flags&32768?(de||l===1?e=!0:Zs||(fe&536870912)!==0?e=!1:(di=e=!0,(l===2||l===9||l===3||l===6)&&(l=kt.current,l!==null&&l.tag===13&&(l.flags|=16384))),l_(n,e)):_o(n)}function _o(e){var n=e;do{if((n.flags&32768)!==0){l_(n,di);return}e=n.return;var a=kS(n.alternate,n,Bn);if(a!==null){oe=a;return}if(n=n.sibling,n!==null){oe=n;return}oe=n=e}while(n!==null);He===0&&(He=5)}function l_(e,n){do{var a=US(e.alternate,e);if(a!==null){a.flags&=32767,oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){oe=e;return}oe=e=a}while(e!==null);He=6,oe=null}function o_(e,n,a,l,c,f,p,_,S){e.cancelPendingCommit=null;do yo();while(Je!==0);if((_e&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=gc,C0(e,a,f,p,_,S),e===xe&&(oe=xe=null,fe=0),$s=n,gi=e,Pn=a,wf=f,Nf=c,Zg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QS(vl,function(){return d_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,c=q.p,q.p=2,p=_e,_e|=4;try{jS(e,n,a)}finally{_e=p,q.p=c,L.T=l}}Je=1,u_(),c_(),f_()}}function u_(){if(Je===1){Je=0;var e=gi,n=$s,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=q.p;q.p=2;var c=_e;_e|=4;try{Vg(n,e);var f=Pf,p=Xm(e.containerInfo),_=f.focusedElem,S=f.selectionRange;if(p!==_&&_&&_.ownerDocument&&Qm(_.ownerDocument.documentElement,_)){if(S!==null&&fc(_)){var x=S.start,M=S.end;if(M===void 0&&(M=x),"selectionStart"in _)_.selectionStart=x,_.selectionEnd=Math.min(M,_.value.length);else{var U=_.ownerDocument||document,O=U&&U.defaultView||window;if(O.getSelection){var D=O.getSelection(),Y=_.textContent.length,W=Math.min(S.start,Y),we=S.end===void 0?W:Math.min(S.end,Y);!D.extend&&W>we&&(p=we,we=W,W=p);var w=Km(_,W),C=Km(_,we);if(w&&C&&(D.rangeCount!==1||D.anchorNode!==w.node||D.anchorOffset!==w.offset||D.focusNode!==C.node||D.focusOffset!==C.offset)){var A=U.createRange();A.setStart(w.node,w.offset),D.removeAllRanges(),W>we?(D.addRange(A),D.extend(C.node,C.offset)):(A.setEnd(C.node,C.offset),D.addRange(A))}}}}for(U=[],D=_;D=D.parentNode;)D.nodeType===1&&U.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<U.length;_++){var k=U[_];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Oo=!!Bf,Pf=Bf=null}finally{_e=c,q.p=l,L.T=a}}e.current=n,Je=2}}function c_(){if(Je===2){Je=0;var e=gi,n=$s,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=q.p;q.p=2;var c=_e;_e|=4;try{zg(e,n.alternate,n)}finally{_e=c,q.p=l,L.T=a}}Je=3}}function f_(){if(Je===4||Je===3){Je=0,m0();var e=gi,n=$s,a=Pn,l=Zg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Je=5:(Je=0,$s=gi=null,h_(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(pi=null),Fu(a),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(ka,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,c=q.p,q.p=2,L.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var _=l[p];f(_.value,{componentStack:_.stack})}}finally{L.T=n,q.p=c}}(Pn&3)!==0&&yo(),vn(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===Rf?gr++:(gr=0,Rf=e):gr=0,_r(0)}}function h_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Za(n)))}function yo(){return u_(),c_(),f_(),d_()}function d_(){if(Je!==5)return!1;var e=gi,n=wf;wf=0;var a=Fu(Pn),l=L.T,c=q.p;try{q.p=32>a?32:a,L.T=null,a=Nf,Nf=null;var f=gi,p=Pn;if(Je=0,$s=gi=null,Pn=0,(_e&6)!==0)throw Error(r(331));var _=_e;if(_e|=4,Qg(f.current),Yg(f,f.current,p,a),_e=_,_r(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(ka,f)}catch{}return!0}finally{q.p=c,L.T=l,h_(e,n)}}function m_(e,n,a){n=Ft(a,n),n=af(e.stateNode,n,2),e=ui(e,n,2),e!==null&&(ja(e,2),vn(e))}function Ee(e,n,a){if(e.tag===3)m_(e,e,a);else for(;n!==null;){if(n.tag===3){m_(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pi===null||!pi.has(l))){e=Ft(a,e),a=pg(2),l=ui(n,a,2),l!==null&&(gg(a,l,n,e),ja(l,2),vn(l));break}}n=n.return}}function Of(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new BS;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Sf=!0,c.add(a),e=YS.bind(null,e,n,a),n.then(e,e))}function YS(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,xe===e&&(fe&a)===a&&(He===4||He===3&&(fe&62914560)===fe&&300>Ot()-fo?(_e&2)===0&&ea(e,0):Cf|=a,Js===fe&&(Js=0)),vn(e)}function p_(e,n){n===0&&(n=um()),e=Wi(e,n),e!==null&&(ja(e,n),vn(e))}function FS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),p_(e,a)}function KS(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),p_(e,a)}function QS(e,n){return qu(e,n)}var vo=null,na=null,Df=!1,bo=!1,If=!1,yi=0;function vn(e){e!==na&&e.next===null&&(na===null?vo=na=e:na=na.next=e),bo=!0,Df||(Df=!0,WS())}function _r(e,n){if(!If&&bo){If=!0;do for(var a=!1,l=vo;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-It(42|e)+1)-1,f&=c&~(p&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,v_(l,f))}else f=fe,f=Cl(l,l===xe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ua(l,f)||(a=!0,v_(l,f));l=l.next}while(a);If=!1}}function XS(){g_()}function g_(){bo=Df=!1;var e=0;yi!==0&&rC()&&(e=yi);for(var n=Ot(),a=null,l=vo;l!==null;){var c=l.next,f=__(l,n);f===0?(l.next=null,a===null?vo=c:a.next=c,c===null&&(na=a)):(a=l,(e!==0||(f&3)!==0)&&(bo=!0)),l=c}Je!==0&&Je!==5||_r(e),yi!==0&&(yi=0)}function __(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-It(f),_=1<<p,S=c[p];S===-1?((_&a)===0||(_&l)!==0)&&(c[p]=S0(_,n)):S<=n&&(e.expiredLanes|=_),f&=~_}if(n=xe,a=fe,a=Cl(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Vu(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ua(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Vu(l),Fu(a)){case 2:case 8:a=lm;break;case 32:a=vl;break;case 268435456:a=om;break;default:a=vl}return l=y_.bind(null,e),a=qu(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Vu(l),e.callbackPriority=2,e.callbackNode=null,2}function y_(e,n){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yo()&&e.callbackNode!==a)return null;var l=fe;return l=Cl(e,e===xe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:($g(e,l,n),__(e,Ot()),e.callbackNode!=null&&e.callbackNode===a?y_.bind(null,e):null)}function v_(e,n){if(yo())return null;$g(e,n,!0)}function WS(){oC(function(){(_e&6)!==0?qu(rm,XS):g_()})}function Mf(){if(yi===0){var e=Ps;e===0&&(e=bl,bl<<=1,(bl&261888)===0&&(bl=256)),yi=e}return yi}function b_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rl(""+e)}function E_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function ZS(e,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=b_((c[St]||null).action),p=l.submitter;p&&(n=(n=p[St]||null)?b_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var _=new Dl("action","action",null,l,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yi!==0){var S=p?E_(c,p):new FormData(c);Jc(a,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(_.preventDefault(),S=p?E_(c,p):new FormData(c),Jc(a,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Lf=0;Lf<pc.length;Lf++){var kf=pc[Lf],JS=kf.toLowerCase(),$S=kf[0].toUpperCase()+kf.slice(1);sn(JS,"on"+$S)}sn(Jm,"onAnimationEnd"),sn($m,"onAnimationIteration"),sn(ep,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(pS,"onTransitionRun"),sn(gS,"onTransitionStart"),sn(_S,"onTransitionCancel"),sn(tp,"onTransitionEnd"),Rs("onMouseEnter",["mouseout","mouseover"]),Rs("onMouseLeave",["mouseout","mouseover"]),Rs("onPointerEnter",["pointerout","pointerover"]),Rs("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yr));function S_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var _=l[p],S=_.instance,x=_.currentTarget;if(_=_.listener,S!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=x;try{f(c)}catch(M){Ll(M)}c.currentTarget=null,f=S}else for(p=0;p<l.length;p++){if(_=l[p],S=_.instance,x=_.currentTarget,_=_.listener,S!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=x;try{f(c)}catch(M){Ll(M)}c.currentTarget=null,f=S}}}}function ue(e,n){var a=n[Ku];a===void 0&&(a=n[Ku]=new Set);var l=e+"__bubble";a.has(l)||(C_(n,e,2,!1),a.add(l))}function Uf(e,n,a){var l=0;n&&(l|=4),C_(a,e,l,n)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function jf(e){if(!e[Eo]){e[Eo]=!0,gm.forEach(function(a){a!=="selectionchange"&&(eC.has(a)||Uf(a,!1,e),Uf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Eo]||(n[Eo]=!0,Uf("selectionchange",!1,n))}}function C_(e,n,a,l){switch(J_(n)){case 2:var c=AC;break;case 8:c=xC;break;default:c=Jf}a=c.bind(null,n,a,e),c=void 0,!nc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function zf(e,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var _=l.stateNode.containerInfo;if(_===c)break;if(p===4)for(p=l.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;_!==null;){if(p=Ts(_),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){l=f=p;continue e}_=_.parentNode}}l=l.return}Am(function(){var x=f,M=ec(a),U=[];e:{var O=np.get(e);if(O!==void 0){var D=Dl,Y=e;switch(e){case"keypress":if(xl(a)===0)break e;case"keydown":case"keyup":D=K0;break;case"focusin":Y="focus",D=rc;break;case"focusout":Y="blur",D=rc;break;case"beforeblur":case"afterblur":D=rc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=k0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=W0;break;case Jm:case $m:case ep:D=z0;break;case tp:D=J0;break;case"scroll":case"scrollend":D=M0;break;case"wheel":D=eS;break;case"copy":case"cut":case"paste":D=B0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Mm;break;case"toggle":case"beforetoggle":D=nS}var W=(n&4)!==0,we=!W&&(e==="scroll"||e==="scrollend"),w=W?O!==null?O+"Capture":null:O;W=[];for(var C=x,A;C!==null;){var k=C;if(A=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||A===null||w===null||(k=Ba(C,w),k!=null&&W.push(vr(C,k,A))),we)break;C=C.return}0<W.length&&(O=new D(O,Y,null,a,M),U.push({event:O,listeners:W}))}}if((n&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",O&&a!==$u&&(Y=a.relatedTarget||a.fromElement)&&(Ts(Y)||Y[Cs]))break e;if((D||O)&&(O=M.window===M?M:(O=M.ownerDocument)?O.defaultView||O.parentWindow:window,D?(Y=a.relatedTarget||a.toElement,D=x,Y=Y?Ts(Y):null,Y!==null&&(we=u(Y),W=Y.tag,Y!==we||W!==5&&W!==27&&W!==6)&&(Y=null)):(D=null,Y=x),D!==Y)){if(W=Dm,k="onMouseLeave",w="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(W=Mm,k="onPointerLeave",w="onPointerEnter",C="pointer"),we=D==null?O:Ha(D),A=Y==null?O:Ha(Y),O=new W(k,C+"leave",D,a,M),O.target=we,O.relatedTarget=A,k=null,Ts(M)===x&&(W=new W(w,C+"enter",Y,a,M),W.target=A,W.relatedTarget=we,k=W),we=k,D&&Y)t:{for(W=tC,w=D,C=Y,A=0,k=w;k;k=W(k))A++;k=0;for(var X=C;X;X=W(X))k++;for(;0<A-k;)w=W(w),A--;for(;0<k-A;)C=W(C),k--;for(;A--;){if(w===C||C!==null&&w===C.alternate){W=w;break t}w=W(w),C=W(C)}W=null}else W=null;D!==null&&T_(U,O,D,W,!1),Y!==null&&we!==null&&T_(U,we,Y,W,!0)}}e:{if(O=x?Ha(x):window,D=O.nodeName&&O.nodeName.toLowerCase(),D==="select"||D==="input"&&O.type==="file")var me=Pm;else if(Hm(O))if(qm)me=hS;else{me=cS;var K=uS}else D=O.nodeName,!D||D.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?x&&Ju(x.elementType)&&(me=Pm):me=fS;if(me&&(me=me(e,x))){Bm(U,me,a,M);break e}K&&K(e,O,x),e==="focusout"&&x&&O.type==="number"&&x.memoizedProps.value!=null&&Zu(O,"number",O.value)}switch(K=x?Ha(x):window,e){case"focusin":(Hm(K)||K.contentEditable==="true")&&(Ms=K,hc=x,Qa=null);break;case"focusout":Qa=hc=Ms=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,Wm(U,a,M);break;case"selectionchange":if(mS)break;case"keydown":case"keyup":Wm(U,a,M)}var se;if(oc)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Is?jm(e,a)&&(he="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(Lm&&a.locale!=="ko"&&(Is||he!=="onCompositionStart"?he==="onCompositionEnd"&&Is&&(se=xm()):(ni=M,ic="value"in ni?ni.value:ni.textContent,Is=!0)),K=So(x,he),0<K.length&&(he=new Im(he,e,null,a,M),U.push({event:he,listeners:K}),se?he.data=se:(se=zm(a),se!==null&&(he.data=se)))),(se=sS?aS(e,a):rS(e,a))&&(he=So(x,"onBeforeInput"),0<he.length&&(K=new Im("onBeforeInput","beforeinput",null,a,M),U.push({event:K,listeners:he}),K.data=se)),ZS(U,e,x,a,M)}S_(U,n)})}function vr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function So(e,n){for(var a=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ba(e,a),c!=null&&l.unshift(vr(e,c,f)),c=Ba(e,n),c!=null&&l.push(vr(e,c,f))),e.tag===3)return l;e=e.return}return[]}function tC(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function T_(e,n,a,l,c){for(var f=n._reactName,p=[];a!==null&&a!==l;){var _=a,S=_.alternate,x=_.stateNode;if(_=_.tag,S!==null&&S===l)break;_!==5&&_!==26&&_!==27||x===null||(S=x,c?(x=Ba(a,f),x!=null&&p.unshift(vr(a,x,S))):c||(x=Ba(a,f),x!=null&&p.push(vr(a,x,S)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var nC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function w_(e){return(typeof e=="string"?e:""+e).replace(nC,`
`).replace(iC,"")}function N_(e,n){return n=w_(n),w_(e)===n}function Te(e,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||xs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&xs(e,""+l);break;case"className":wl(e,"class",l);break;case"tabIndex":wl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(e,a,l);break;case"style":Nm(e,l,f);break;case"data":if(n!=="object"){wl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Rl(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Te(e,n,"name",c.name,c,null),Te(e,n,"formEncType",c.formEncType,c,null),Te(e,n,"formMethod",c.formMethod,c,null),Te(e,n,"formTarget",c.formTarget,c,null)):(Te(e,n,"encType",c.encType,c,null),Te(e,n,"method",c.method,c,null),Te(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Rl(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Nn);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Rl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Tl(e,"popover",l);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=D0.get(a)||a,Tl(e,a,l))}}function Hf(e,n,a,l,c,f){switch(a){case"style":Nm(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?xs(e,l):(typeof l=="number"||typeof l=="bigint")&&xs(e,""+l);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_m.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=e[St]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Tl(e,a,l)}}}function ft(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Te(e,n,f,p,a,null)}}c&&Te(e,n,"srcSet",a.srcSet,a,null),l&&Te(e,n,"src",a.src,a,null);return;case"input":ue("invalid",e);var _=f=p=c=null,S=null,x=null;for(l in a)if(a.hasOwnProperty(l)){var M=a[l];if(M!=null)switch(l){case"name":c=M;break;case"type":p=M;break;case"checked":S=M;break;case"defaultChecked":x=M;break;case"value":f=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,n));break;default:Te(e,n,l,M,a,null)}}Sm(e,f,_,S,x,p,c,!1);return;case"select":ue("invalid",e),l=p=f=null;for(c in a)if(a.hasOwnProperty(c)&&(_=a[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":l=_;default:Te(e,n,c,_,a,null)}n=f,a=p,e.multiple=!!l,n!=null?As(e,!!l,n,!1):a!=null&&As(e,!!l,a,!0);return;case"textarea":ue("invalid",e),f=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(_=a[p],_!=null))switch(p){case"value":l=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Te(e,n,p,_,a,null)}Tm(e,l,c,f);return;case"option":for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null)&&(S==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Te(e,n,S,l,a,null));return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(l=0;l<yr.length;l++)ue(yr[l],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Te(e,n,x,l,a,null)}return;default:if(Ju(n)){for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!==void 0&&Hf(e,n,M,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&Te(e,n,_,l,a,null))}function sC(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,_=null,S=null,x=null,M=null;for(D in a){var U=a[D];if(a.hasOwnProperty(D)&&U!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":S=U;default:l.hasOwnProperty(D)||Te(e,n,D,null,l,U)}}for(var O in l){var D=l[O];if(U=a[O],l.hasOwnProperty(O)&&(D!=null||U!=null))switch(O){case"type":f=D;break;case"name":c=D;break;case"checked":x=D;break;case"defaultChecked":M=D;break;case"value":p=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:D!==U&&Te(e,n,O,D,l,U)}}Wu(e,p,_,S,x,M,f,c);return;case"select":D=p=_=O=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":D=S;default:l.hasOwnProperty(f)||Te(e,n,f,null,l,S)}for(c in l)if(f=l[c],S=a[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":O=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==S&&Te(e,n,c,f,l,S)}n=_,a=p,l=D,O!=null?As(e,!!a,O,!1):!!l!=!!a&&(n!=null?As(e,!!a,n,!0):As(e,!!a,a?[]:"",!1));return;case"textarea":D=O=null;for(_ in a)if(c=a[_],a.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Te(e,n,_,null,l,c)}for(p in l)if(c=l[p],f=a[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":O=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Te(e,n,p,c,l,f)}Cm(e,O,D);return;case"option":for(var Y in a)O=a[Y],a.hasOwnProperty(Y)&&O!=null&&!l.hasOwnProperty(Y)&&(Y==="selected"?e.selected=!1:Te(e,n,Y,null,l,O));for(S in l)O=l[S],D=a[S],l.hasOwnProperty(S)&&O!==D&&(O!=null||D!=null)&&(S==="selected"?e.selected=O&&typeof O!="function"&&typeof O!="symbol":Te(e,n,S,O,l,D));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in a)O=a[W],a.hasOwnProperty(W)&&O!=null&&!l.hasOwnProperty(W)&&Te(e,n,W,null,l,O);for(x in l)if(O=l[x],D=a[x],l.hasOwnProperty(x)&&O!==D&&(O!=null||D!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,n));break;default:Te(e,n,x,O,l,D)}return;default:if(Ju(n)){for(var we in a)O=a[we],a.hasOwnProperty(we)&&O!==void 0&&!l.hasOwnProperty(we)&&Hf(e,n,we,void 0,l,O);for(M in l)O=l[M],D=a[M],!l.hasOwnProperty(M)||O===D||O===void 0&&D===void 0||Hf(e,n,M,O,l,D);return}}for(var w in a)O=a[w],a.hasOwnProperty(w)&&O!=null&&!l.hasOwnProperty(w)&&Te(e,n,w,null,l,O);for(U in l)O=l[U],D=a[U],!l.hasOwnProperty(U)||O===D||O==null&&D==null||Te(e,n,U,O,l,D)}function R_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aC(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,p=c.initiatorType,_=c.duration;if(f&&_&&R_(p)){for(p=0,_=c.responseEnd,l+=1;l<a.length;l++){var S=a[l],x=S.startTime;if(x>_)break;var M=S.transferSize,U=S.initiatorType;M&&R_(U)&&(S=S.responseEnd,p+=M*(S<_?1:(_-x)/(S-x)))}if(--l,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bf=null,Pf=null;function Co(e){return e.nodeType===9?e:e.ownerDocument}function A_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vf=null;function rC(){var e=window.event;return e&&e.type==="popstate"?e===Vf?!1:(Vf=e,!0):(Vf=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,lC=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(e){return D_.resolve(null).then(e).catch(uC)}:O_;function uC(e){setTimeout(function(){throw e})}function vi(e){return e==="head"}function I_(e,n){var a=n,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(c),ra(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")br(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,br(a);for(var f=a.firstChild;f;){var p=f.nextSibling,_=f.nodeName;f[za]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&br(e.ownerDocument.body);a=c}while(a);ra(n)}function M_(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Gf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gf(a),Qu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cC(e,n,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[za])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function fC(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zt(e.nextSibling),e===null))return null;return e}function L_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zt(e.nextSibling),e===null))return null;return e}function Yf(e){return e.data==="$?"||e.data==="$~"}function Ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hC(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Kf=null;function k_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Zt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function U_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function j_(e,n,a){switch(n=Co(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function br(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qu(e)}var Jt=new Map,z_=new Set;function To(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=q.d;q.d={f:dC,r:mC,D:pC,C:gC,L:_C,m:yC,X:bC,S:vC,M:EC};function dC(){var e=qn.f(),n=po();return e||n}function mC(e){var n=ws(e);n!==null&&n.tag===5&&n.type==="form"?tg(n):qn.r(e)}var ia=typeof document>"u"?null:document;function H_(e,n,a){var l=ia;if(l&&typeof n=="string"&&n){var c=Gt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),z_.has(c)||(z_.add(c),e={rel:e,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ft(n,"link",e),tt(n),l.head.appendChild(n)))}}function pC(e){qn.D(e),H_("dns-prefetch",e,null)}function gC(e,n){qn.C(e,n),H_("preconnect",e,n)}function _C(e,n,a){qn.L(e,n,a);var l=ia;if(l&&e&&n){var c='link[rel="preload"][as="'+Gt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Gt(a.imageSizes)+'"]')):c+='[href="'+Gt(e)+'"]';var f=c;switch(n){case"style":f=sa(e);break;case"script":f=aa(e)}Jt.has(f)||(e=v({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Jt.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Er(f))||n==="script"&&l.querySelector(Sr(f))||(n=l.createElement("link"),ft(n,"link",e),tt(n),l.head.appendChild(n)))}}function yC(e,n){qn.m(e,n);var a=ia;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=aa(e)}if(!Jt.has(f)&&(e=v({rel:"modulepreload",href:e},n),Jt.set(f,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sr(f)))return}l=a.createElement("link"),ft(l,"link",e),tt(l),a.head.appendChild(l)}}}function vC(e,n,a){qn.S(e,n,a);var l=ia;if(l&&e){var c=Ns(l).hoistableStyles,f=sa(e);n=n||"default";var p=c.get(f);if(!p){var _={loading:0,preload:null};if(p=l.querySelector(Er(f)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Jt.get(f))&&Qf(e,a);var S=p=l.createElement("link");tt(S),ft(S,"link",e),S._p=new Promise(function(x,M){S.onload=x,S.onerror=M}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,wo(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:_},c.set(f,p)}}}function bC(e,n){qn.X(e,n);var a=ia;if(a&&e){var l=Ns(a).hoistableScripts,c=aa(e),f=l.get(c);f||(f=a.querySelector(Sr(c)),f||(e=v({src:e,async:!0},n),(n=Jt.get(c))&&Xf(e,n),f=a.createElement("script"),tt(f),ft(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function EC(e,n){qn.M(e,n);var a=ia;if(a&&e){var l=Ns(a).hoistableScripts,c=aa(e),f=l.get(c);f||(f=a.querySelector(Sr(c)),f||(e=v({src:e,async:!0,type:"module"},n),(n=Jt.get(c))&&Xf(e,n),f=a.createElement("script"),tt(f),ft(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function B_(e,n,a,l){var c=(c=le.current)?To(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=sa(a.href),a=Ns(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=sa(a.href);var f=Ns(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(Er(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),f||SC(c,e,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=aa(a),a=Ns(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function sa(e){return'href="'+Gt(e)+'"'}function Er(e){return'link[rel="stylesheet"]['+e+"]"}function P_(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function SC(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ft(n,"link",a),tt(n),e.head.appendChild(n))}function aa(e){return'[src="'+Gt(e)+'"]'}function Sr(e){return"script[async]"+e}function q_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(l)return n.instance=l,tt(l),l;var c=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),tt(l),ft(l,"style",c),wo(l,a.precedence,e),n.instance=l;case"stylesheet":c=sa(a.href);var f=e.querySelector(Er(c));if(f)return n.state.loading|=4,n.instance=f,tt(f),f;l=P_(a),(c=Jt.get(c))&&Qf(l,c),f=(e.ownerDocument||e).createElement("link"),tt(f);var p=f;return p._p=new Promise(function(_,S){p.onload=_,p.onerror=S}),ft(f,"link",l),n.state.loading|=4,wo(f,a.precedence,e),n.instance=f;case"script":return f=aa(a.src),(c=e.querySelector(Sr(f)))?(n.instance=c,tt(c),c):(l=a,(c=Jt.get(f))&&(l=v({},a),Xf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),tt(c),ft(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wo(l,a.precedence,e));return n.instance}function wo(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var _=l[p];if(_.dataset.precedence===n)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Qf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var No=null;function V_(e,n,a){if(No===null){var l=new Map,c=No=new Map;c.set(a,l)}else c=No,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[za]||f[lt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var _=l.get(p);_?_.push(f):l.set(p,[f])}}return l}function G_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function CC(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function TC(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=sa(l.href),f=n.querySelector(Er(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ro.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,tt(f);return}f=n.ownerDocument||n,l=P_(l),(c=Jt.get(c))&&Qf(l,c),f=f.createElement("link"),tt(f);var p=f;p._p=new Promise(function(_,S){p.onload=_,p.onerror=S}),ft(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ro.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Wf=0;function wC(e,n){return e.stylesheets&&e.count===0&&xo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&xo(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Wf===0&&(Wf=62500*aC());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xo(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Wf?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ao=null;function xo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ao=new Map,n.forEach(NC,e),Ao=null,Ro.call(e))}function NC(e,n){if(!(n.state.loading&4)){var a=Ao.get(e);if(a)var l=a.get(null);else{a=new Map,Ao.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,c),a.set(p,c),this.count++,l=Ro.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Cr={$$typeof:Q,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function RC(e,n,a,l,c,f,p,_,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.hiddenUpdates=Gu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function F_(e,n,a,l,c,f,p,_,S,x,M,U){return e=new RC(e,n,a,p,S,x,M,U,_),n=1,f===!0&&(n|=24),f=Lt(3,null,null,n),e.current=f,f.stateNode=e,n=Ac(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Ic(f),e}function K_(e){return e?(e=Us,e):Us}function Q_(e,n,a,l,c,f){c=K_(c),l.context===null?l.context=c:l.pendingContext=c,l=oi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ui(e,l,n),a!==null&&(At(a,e,n),tr(a,e,n))}function X_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Zf(e,n){X_(e,n),(e=e.alternate)&&X_(e,n)}function W_(e){if(e.tag===13||e.tag===31){var n=Wi(e,67108864);n!==null&&At(n,e,67108864),Zf(e,67108864)}}function Z_(e){if(e.tag===13||e.tag===31){var n=Ht();n=Yu(n);var a=Wi(e,n);a!==null&&At(a,e,n),Zf(e,n)}}var Oo=!0;function AC(e,n,a,l){var c=L.T;L.T=null;var f=q.p;try{q.p=2,Jf(e,n,a,l)}finally{q.p=f,L.T=c}}function xC(e,n,a,l){var c=L.T;L.T=null;var f=q.p;try{q.p=8,Jf(e,n,a,l)}finally{q.p=f,L.T=c}}function Jf(e,n,a,l){if(Oo){var c=$f(l);if(c===null)zf(e,n,l,Do,a),$_(e,l);else if(DC(c,e,n,a,l))l.stopPropagation();else if($_(e,l),n&4&&-1<OC.indexOf(e)){for(;c!==null;){var f=ws(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Yi(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var S=1<<31-It(p);_.entanglements[1]|=S,p&=~S}vn(f),(_e&6)===0&&(ho=Ot()+500,_r(0))}}break;case 31:case 13:_=Wi(f,2),_!==null&&At(_,f,2),po(),Zf(f,2)}if(f=$f(l),f===null&&zf(e,n,l,Do,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else zf(e,n,l,null,a)}}function $f(e){return e=ec(e),eh(e)}var Do=null;function eh(e){if(Do=null,e=Ts(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Do=e,null}function J_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(p0()){case rm:return 2;case lm:return 8;case vl:case g0:return 32;case om:return 268435456;default:return 32}default:return 32}}var th=!1,bi=null,Ei=null,Si=null,Tr=new Map,wr=new Map,Ci=[],OC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(e,n){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Tr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wr.delete(n.pointerId)}}function Nr(e,n,a,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ws(n),n!==null&&W_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function DC(e,n,a,l,c){switch(n){case"focusin":return bi=Nr(bi,e,n,a,l,c),!0;case"dragenter":return Ei=Nr(Ei,e,n,a,l,c),!0;case"mouseover":return Si=Nr(Si,e,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Tr.set(f,Nr(Tr.get(f)||null,e,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,wr.set(f,Nr(wr.get(f)||null,e,n,a,l,c)),!0}return!1}function ey(e){var n=Ts(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,mm(e.priority,function(){Z_(a)});return}}else if(n===31){if(n=d(a),n!==null){e.blockedOn=n,mm(e.priority,function(){Z_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Io(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=$f(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);$u=l,a.target.dispatchEvent(l),$u=null}else return n=ws(a),n!==null&&W_(n),e.blockedOn=a,!1;n.shift()}return!0}function ty(e,n,a){Io(e)&&a.delete(n)}function IC(){th=!1,bi!==null&&Io(bi)&&(bi=null),Ei!==null&&Io(Ei)&&(Ei=null),Si!==null&&Io(Si)&&(Si=null),Tr.forEach(ty),wr.forEach(ty)}function Mo(e,n){e.blockedOn===n&&(e.blockedOn=null,th||(th=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,IC)))}var Lo=null;function ny(e){Lo!==e&&(Lo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lo===e&&(Lo=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(eh(l||a)===null)continue;break}var f=ws(a);f!==null&&(e.splice(n,3),n-=3,Jc(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ra(e){function n(S){return Mo(S,e)}bi!==null&&Mo(bi,e),Ei!==null&&Mo(Ei,e),Si!==null&&Mo(Si,e),Tr.forEach(n),wr.forEach(n);for(var a=0;a<Ci.length;a++){var l=Ci[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ci.length&&(a=Ci[0],a.blockedOn===null);)ey(a),a.blockedOn===null&&Ci.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],p=c[St]||null;if(typeof f=="function")p||ny(a);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[St]||null)_=p.formAction;else if(eh(c)!==null)continue}else _=p.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),ny(a)}}}function iy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function nh(e){this._internalRoot=e}ko.prototype.render=nh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Ht();Q_(a,l,e,n,null,null)},ko.prototype.unmount=nh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Q_(e.current,2,null,e,null,null),po(),n[Cs]=null}};function ko(e){this._internalRoot=e}ko.prototype.unstable_scheduleHydration=function(e){if(e){var n=dm();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ci.length&&n!==0&&n<Ci[a].priority;a++);Ci.splice(a,0,e),a===0&&ey(e)}};var sy=t.version;if(sy!=="19.2.4")throw Error(r(527,sy,"19.2.4"));q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var MC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{ka=Uo.inject(MC),Dt=Uo}catch{}}return Ar.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",c=fg,f=hg,p=dg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=F_(e,1,!1,null,null,a,l,null,c,f,p,iy),e[Cs]=n.current,jf(e),new nh(n)},Ar.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,c="",f=fg,p=hg,_=dg,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),n=F_(e,1,!0,n,a??null,l,c,S,f,p,_,iy),n.context=K_(null),a=n.current,l=Ht(),l=Yu(l),c=oi(l),c.callback=null,ui(a,c,l),a=l,n.current.lanes=a,ja(n,a),vn(n),e[Cs]=n.current,jf(e),new ko(n)},Ar.version="19.2.4",Ar}var my;function YC(){if(my)return ah.exports;my=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),ah.exports=GC(),ah.exports}var FC=YC();var py="popstate";function KC(s={}){function t(r,o){let{pathname:u,search:h,hash:d}=r.location;return Rh("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Vr(o)}return XC(t,i,null,s)}function Ue(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function fn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QC(){return Math.random().toString(36).substring(2,10)}function gy(s,t){return{usr:s.state,key:s.key,idx:t}}function Rh(s,t,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Ca(t):t,state:i,key:t&&t.key||r||QC()}}function Vr({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Ca(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function XC(s,t,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,d="POP",m=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function v(){d="POP";let B=b(),G=B==null?null:B-g;g=B,m&&m({action:d,location:z.location,delta:G})}function E(B,G){d="PUSH";let P=Rh(z.location,B,G);g=b()+1;let Q=gy(P,g),ve=z.createHref(P);try{h.pushState(Q,"",ve)}catch(Oe){if(Oe instanceof DOMException&&Oe.name==="DataCloneError")throw Oe;o.location.assign(ve)}u&&m&&m({action:d,location:z.location,delta:1})}function N(B,G){d="REPLACE";let P=Rh(z.location,B,G);g=b();let Q=gy(P,g),ve=z.createHref(P);h.replaceState(Q,"",ve),u&&m&&m({action:d,location:z.location,delta:0})}function I(B){return WC(B)}let z={get action(){return d},get location(){return s(o,h)},listen(B){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(py,v),m=B,()=>{o.removeEventListener(py,v),m=null}},createHref(B){return t(o,B)},createURL:I,encodeLocation(B){let G=I(B);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:E,replace:N,go(B){return h.go(B)}};return z}function WC(s,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(i,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Vr(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function Dv(s,t,i="/"){return ZC(s,t,i,!1)}function ZC(s,t,i,r){let o=typeof t=="string"?Ca(t):t,u=Xn(o.pathname||"/",i);if(u==null)return null;let h=Iv(s);JC(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=uT(u);d=lT(h[m],g,r)}return d}function Iv(s,t=[],i=[],r="",o=!1){let u=(h,d,m=o,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&m)return;Ue(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let v=Fn([r,b.relativePath]),E=i.concat(b);h.children&&h.children.length>0&&(Ue(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Iv(h.children,t,E,v,m)),!(h.path==null&&!h.index)&&t.push({path:v,score:aT(v,h.index),routesMeta:E})};return s.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))u(h,d);else for(let m of Mv(h.path))u(h,d,!0,m)}),t}function Mv(s){let t=s.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=Mv(r.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...h),d.map(m=>s.startsWith("/")&&m===""?"/":m)}function JC(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:rT(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var $C=/^:[\w-]+$/,eT=3,tT=2,nT=1,iT=10,sT=-2,_y=s=>s==="*";function aT(s,t){let i=s.split("/"),r=i.length;return i.some(_y)&&(r+=sT),t&&(r+=tT),i.filter(o=>!_y(o)).reduce((o,u)=>o+($C.test(u)?eT:u===""?nT:iT),r)}function rT(s,t){return s.length===t.length&&s.slice(0,-1).every((r,o)=>r===t[o])?s[s.length-1]-t[t.length-1]:0}function lT(s,t,i=!1){let{routesMeta:r}=s,o={},u="/",h=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,b=u==="/"?t:t.slice(u.length)||"/",v=Qo({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},b),E=m.route;if(!v&&g&&i&&!r[r.length-1].route.index&&(v=Qo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:Fn([u,v.pathname]),pathnameBase:dT(Fn([u,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(u=Fn([u,v.pathnameBase]))}return h}function Qo(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=oT(s.path,s.caseSensitive,s.end),o=t.match(i);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((g,{paramName:b,isOptional:v},E)=>{if(b==="*"){let I=d[E]||"";h=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const N=d[E];return v&&!N?g[b]=void 0:g[b]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:s}}function oT(s,t=!1,i=!0){fn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function uT(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Xn(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}var cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function fT(s,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?Ca(s):s,u;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?u=yy(i.substring(1),"/"):u=yy(i,t)):u=t,{pathname:u,search:mT(r),hash:pT(o)}}function yy(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function uh(s,t,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hT(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function ed(s){let t=hT(s);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function td(s,t,i,r=!1){let o;typeof s=="string"?o=Ca(s):(o={...s},Ue(!o.pathname||!o.pathname.includes("?"),uh("?","pathname","search",o)),Ue(!o.pathname||!o.pathname.includes("#"),uh("#","pathname","hash",o)),Ue(!o.search||!o.search.includes("#"),uh("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=i;else{let v=t.length-1;if(!r&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}d=v>=0?t[v]:"/"}let m=fT(o,d),g=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(g||b)&&(m.pathname+="/"),m}var Fn=s=>s.join("/").replace(/\/\/+/g,"/"),dT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,pT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,gT=class{constructor(s,t,i,r=!1){this.status=s,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function _T(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function yT(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kv(s,t){let i=s;if(typeof i!="string"||!cT.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(Lv)try{let u=new URL(window.location.href),h=i.startsWith("//")?new URL(u.protocol+i):new URL(i),d=Xn(h.pathname,t);h.origin===u.origin&&d!=null?i=d+h.search+h.hash:o=!0}catch{fn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Uv=["POST","PUT","PATCH","DELETE"];new Set(Uv);var vT=["GET",...Uv];new Set(vT);var Ta=R.createContext(null);Ta.displayName="DataRouter";var _u=R.createContext(null);_u.displayName="DataRouterState";var bT=R.createContext(!1),jv=R.createContext({isTransitioning:!1});jv.displayName="ViewTransition";var ET=R.createContext(new Map);ET.displayName="Fetchers";var ST=R.createContext(null);ST.displayName="Await";var Pt=R.createContext(null);Pt.displayName="Navigation";var il=R.createContext(null);il.displayName="Location";var dn=R.createContext({outlet:null,matches:[],isDataRoute:!1});dn.displayName="Route";var nd=R.createContext(null);nd.displayName="RouteError";var zv="REACT_ROUTER_ERROR",CT="REDIRECT",TT="ROUTE_ERROR_RESPONSE";function wT(s){if(s.startsWith(`${zv}:${CT}:{`))try{let t=JSON.parse(s.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function NT(s){if(s.startsWith(`${zv}:${TT}:{`))try{let t=JSON.parse(s.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new gT(t.status,t.statusText,t.data)}catch{}}function RT(s,{relative:t}={}){Ue(wa(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=R.useContext(Pt),{hash:o,pathname:u,search:h}=sl(s,{relative:t}),d=u;return i!=="/"&&(d=u==="/"?i:Fn([i,u])),r.createHref({pathname:d,search:h,hash:o})}function wa(){return R.useContext(il)!=null}function mn(){return Ue(wa(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(il).location}var Hv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bv(s){R.useContext(Pt).static||R.useLayoutEffect(s)}function id(){let{isDataRoute:s}=R.useContext(dn);return s?qT():AT()}function AT(){Ue(wa(),"useNavigate() may be used only in the context of a <Router> component.");let s=R.useContext(Ta),{basename:t,navigator:i}=R.useContext(Pt),{matches:r}=R.useContext(dn),{pathname:o}=mn(),u=JSON.stringify(ed(r)),h=R.useRef(!1);return Bv(()=>{h.current=!0}),R.useCallback((m,g={})=>{if(fn(h.current,Hv),!h.current)return;if(typeof m=="number"){i.go(m);return}let b=td(m,JSON.parse(u),o,g.relative==="path");s==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Fn([t,b.pathname])),(g.replace?i.replace:i.push)(b,g.state,g)},[t,i,u,o,s])}var xT=R.createContext(null);function OT(s){let t=R.useContext(dn).outlet;return R.useMemo(()=>t&&R.createElement(xT.Provider,{value:s},t),[t,s])}function sl(s,{relative:t}={}){let{matches:i}=R.useContext(dn),{pathname:r}=mn(),o=JSON.stringify(ed(i));return R.useMemo(()=>td(s,JSON.parse(o),r,t==="path"),[s,o,r,t])}function DT(s,t){return Pv(s,t)}function Pv(s,t,i,r,o){Ue(wa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=R.useContext(Pt),{matches:h}=R.useContext(dn),d=h[h.length-1],m=d?d.params:{},g=d?d.pathname:"/",b=d?d.pathnameBase:"/",v=d&&d.route;{let P=v&&v.path||"";Vv(g,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let E=mn(),N;if(t){let P=typeof t=="string"?Ca(t):t;Ue(b==="/"||P.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${P.pathname}" was given in the \`location\` prop.`),N=P}else N=E;let I=N.pathname||"/",z=I;if(b!=="/"){let P=b.replace(/^\//,"").split("/");z="/"+I.replace(/^\//,"").split("/").slice(P.length).join("/")}let B=Dv(s,{pathname:z});fn(v||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),fn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=UT(B&&B.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Fn([b,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?b:Fn([b,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),h,i,r,o);return t&&G?R.createElement(il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},G):G}function IT(){let s=PT(),t=_T(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),i?R.createElement("pre",{style:o},i):null,h)}var MT=R.createElement(IT,null),qv=class extends R.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=NT(s.digest);i&&(s=i)}let t=s!==void 0?R.createElement(dn.Provider,{value:this.props.routeContext},R.createElement(nd.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?R.createElement(LT,{error:s},t):t}};qv.contextType=bT;var ch=new WeakMap;function LT({children:s,error:t}){let{basename:i}=R.useContext(Pt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=wT(t.digest);if(r){let o=ch.get(t);if(o)throw o;let u=kv(r.location,i);if(Lv&&!ch.get(t))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw ch.set(t,h),h}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function kT({routeContext:s,match:t,children:i}){let r=R.useContext(Ta);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(dn.Provider,{value:s},i)}function UT(s,t=[],i=null,r=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let u=s,h=i?.errors;if(h!=null){let b=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);Ue(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let d=!1,m=-1;if(i)for(let b=0;b<u.length;b++){let v=u[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=b),v.route.id){let{loaderData:E,errors:N}=i,I=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!N||N[v.route.id]===void 0);if(v.route.lazy||I){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let g=i&&r?(b,v)=>{r(b,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:yT(i.matches),errorInfo:v})}:void 0;return u.reduceRight((b,v,E)=>{let N,I=!1,z=null,B=null;i&&(N=h&&v.route.id?h[v.route.id]:void 0,z=v.route.errorElement||MT,d&&(m<0&&E===0?(Vv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,B=null):m===E&&(I=!0,B=v.route.hydrateFallbackElement||null)));let G=t.concat(u.slice(0,E+1)),P=()=>{let Q;return N?Q=z:I?Q=B:v.route.Component?Q=R.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=b,R.createElement(kT,{match:v,routeContext:{outlet:b,matches:G,isDataRoute:i!=null},children:Q})};return i&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?R.createElement(qv,{location:i.location,revalidation:i.revalidation,component:z,error:N,children:P(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:g}):P()},null)}function sd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jT(s){let t=R.useContext(Ta);return Ue(t,sd(s)),t}function zT(s){let t=R.useContext(_u);return Ue(t,sd(s)),t}function HT(s){let t=R.useContext(dn);return Ue(t,sd(s)),t}function ad(s){let t=HT(s),i=t.matches[t.matches.length-1];return Ue(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function BT(){return ad("useRouteId")}function PT(){let s=R.useContext(nd),t=zT("useRouteError"),i=ad("useRouteError");return s!==void 0?s:t.errors?.[i]}function qT(){let{router:s}=jT("useNavigate"),t=ad("useNavigate"),i=R.useRef(!1);return Bv(()=>{i.current=!0}),R.useCallback(async(o,u={})=>{fn(i.current,Hv),i.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:t,...u}))},[s,t])}var vy={};function Vv(s,t,i){!t&&!vy[s]&&(vy[s]=!0,fn(!1,i))}R.memo(VT);function VT({routes:s,future:t,state:i,onError:r}){return Pv(s,void 0,i,r,t)}function fs({to:s,replace:t,state:i,relative:r}){Ue(wa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(Pt);fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(dn),{pathname:h}=mn(),d=id(),m=td(s,ed(u),h,r==="path"),g=JSON.stringify(m);return R.useEffect(()=>{d(JSON.parse(g),{replace:t,state:i,relative:r})},[d,g,r,t,i]),null}function rd(s){return OT(s.context)}function it(s){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GT({basename:s="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){Ue(!wa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[d,o,u,h]);typeof i=="string"&&(i=Ca(i));let{pathname:g="/",search:b="",hash:v="",state:E=null,key:N="default"}=i,I=R.useMemo(()=>{let z=Xn(g,d);return z==null?null:{location:{pathname:z,search:b,hash:v,state:E,key:N},navigationType:r}},[d,g,b,v,E,N,r]);return fn(I!=null,`<Router basename="${d}"> is not able to match the URL "${g}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:R.createElement(Pt.Provider,{value:m},R.createElement(il.Provider,{children:t,value:I}))}function YT({children:s,location:t}){return DT(Ah(s),t)}function Ah(s,t=[]){let i=[];return R.Children.forEach(s,(r,o)=>{if(!R.isValidElement(r))return;let u=[...t,o];if(r.type===R.Fragment){i.push.apply(i,Ah(r.props.children,u));return}Ue(r.type===it,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Ah(r.props.children,u)),i.push(h)}),i}var Po="get",qo="application/x-www-form-urlencoded";function yu(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function FT(s){return yu(s)&&s.tagName.toLowerCase()==="button"}function KT(s){return yu(s)&&s.tagName.toLowerCase()==="form"}function QT(s){return yu(s)&&s.tagName.toLowerCase()==="input"}function XT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function WT(s,t){return s.button===0&&(!t||t==="_self")&&!XT(s)}var jo=null;function ZT(){if(jo===null)try{new FormData(document.createElement("form"),0),jo=!1}catch{jo=!0}return jo}var JT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fh(s){return s!=null&&!JT.has(s)?(fn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qo}"`),null):s}function $T(s,t){let i,r,o,u,h;if(KT(s)){let d=s.getAttribute("action");r=d?Xn(d,t):null,i=s.getAttribute("method")||Po,o=fh(s.getAttribute("enctype"))||qo,u=new FormData(s)}else if(FT(s)||QT(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||d.getAttribute("action");if(r=m?Xn(m,t):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||Po,o=fh(s.getAttribute("formenctype"))||fh(d.getAttribute("enctype"))||qo,u=new FormData(d,s),!ZT()){let{name:g,type:b,value:v}=s;if(b==="image"){let E=g?`${g}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else g&&u.append(g,v)}}else{if(yu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Po,r=null,o=qo,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ld(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function e1(s,t,i,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:t&&Xn(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function t1(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function i1(s,t,i){let r=await Promise.all(s.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await t1(u,i);return h.links?h.links():[]}return[]}));return l1(r.flat(1).filter(n1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function by(s,t,i,r,o,u){let h=(m,g)=>i[g]?m.route.id!==i[g].route.id:!0,d=(m,g)=>i[g].pathname!==m.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,g)=>h(m,g)||d(m,g)):u==="data"?t.filter((m,g)=>{let b=r.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function s1(s,t,{includeHydrateFallback:i}={}){return a1(s.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function a1(s){return[...new Set(s)]}function r1(s){let t={},i=Object.keys(s).sort();for(let r of i)t[r]=s[r];return t}function l1(s,t){let i=new Set;return new Set(t),s.reduce((r,o)=>{let u=JSON.stringify(r1(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}function Gv(){let s=R.useContext(Ta);return ld(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function o1(){let s=R.useContext(_u);return ld(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var od=R.createContext(void 0);od.displayName="FrameworkContext";function Yv(){let s=R.useContext(od);return ld(s,"You must render this element inside a <HydratedRouter> element"),s}function u1(s,t){let i=R.useContext(od),[r,o]=R.useState(!1),[u,h]=R.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:b,onTouchStart:v}=t,E=R.useRef(null);R.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let z=G=>{G.forEach(P=>{h(P.isIntersecting)})},B=new IntersectionObserver(z,{threshold:.5});return E.current&&B.observe(E.current),()=>{B.disconnect()}}},[s]),R.useEffect(()=>{if(r){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[r]);let N=()=>{o(!0)},I=()=>{o(!1),h(!1)};return i?s!=="intent"?[u,E,{}]:[u,E,{onFocus:xr(d,N),onBlur:xr(m,I),onMouseEnter:xr(g,N),onMouseLeave:xr(b,I),onTouchStart:xr(v,N)}]:[!1,E,{}]}function xr(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function c1({page:s,...t}){let{router:i}=Gv(),r=R.useMemo(()=>Dv(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?R.createElement(h1,{page:s,matches:r,...t}):null}function f1(s){let{manifest:t,routeModules:i}=Yv(),[r,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return i1(s,t,i).then(h=>{u||o(h)}),()=>{u=!0}},[s,t,i]),r}function h1({page:s,matches:t,...i}){let r=mn(),{future:o,manifest:u,routeModules:h}=Yv(),{basename:d}=Gv(),{loaderData:m,matches:g}=o1(),b=R.useMemo(()=>by(s,t,g,u,r,"data"),[s,t,g,u,r]),v=R.useMemo(()=>by(s,t,g,u,r,"assets"),[s,t,g,u,r]),E=R.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let z=new Set,B=!1;if(t.forEach(P=>{let Q=u.routes[P.route.id];!Q||!Q.hasLoader||(!b.some(ve=>ve.route.id===P.route.id)&&P.route.id in m&&h[P.route.id]?.shouldRevalidate||Q.hasClientLoader?B=!0:z.add(P.route.id))}),z.size===0)return[];let G=e1(s,d,o.unstable_trailingSlashAwareDataRequests,"data");return B&&z.size>0&&G.searchParams.set("_routes",t.filter(P=>z.has(P.route.id)).map(P=>P.route.id).join(",")),[G.pathname+G.search]},[d,o.unstable_trailingSlashAwareDataRequests,m,r,u,b,t,s,h]),N=R.useMemo(()=>s1(v,u),[v,u]),I=f1(v);return R.createElement(R.Fragment,null,E.map(z=>R.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...i})),N.map(z=>R.createElement("link",{key:z,rel:"modulepreload",href:z,...i})),I.map(({key:z,link:B})=>R.createElement("link",{key:z,nonce:i.nonce,...B,crossOrigin:B.crossOrigin??i.crossOrigin})))}function d1(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var m1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m1&&(window.__reactRouterVersion="7.13.0")}catch{}function p1({basename:s,children:t,unstable_useTransitions:i,window:r}){let o=R.useRef();o.current==null&&(o.current=KC({window:r,v5Compat:!0}));let u=o.current,[h,d]=R.useState({action:u.action,location:u.location}),m=R.useCallback(g=>{i===!1?d(g):R.startTransition(()=>d(g))},[i]);return R.useLayoutEffect(()=>u.listen(m),[u,m]),R.createElement(GT,{basename:s,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:i})}var Fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=R.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:d,target:m,to:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:E,...N},I){let{basename:z,unstable_useTransitions:B}=R.useContext(Pt),G=typeof g=="string"&&Fv.test(g),P=kv(g,z);g=P.to;let Q=RT(g,{relative:o}),[ve,Oe,je]=u1(r,N),te=v1(g,{replace:h,state:d,target:m,preventScrollReset:b,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:E,unstable_useTransitions:B});function qe(qt){t&&t(qt),qt.defaultPrevented||te(qt)}let rt=R.createElement("a",{...N,...je,href:P.absoluteURL||Q,onClick:P.isExternal||u?t:qe,ref:d1(I,Oe),target:m,"data-discover":!G&&i==="render"?"true":void 0});return ve&&!G?R.createElement(R.Fragment,null,rt,R.createElement(c1,{page:Q})):rt});Bt.displayName="Link";var g1=R.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:d,children:m,...g},b){let v=sl(h,{relative:g.relative}),E=mn(),N=R.useContext(_u),{navigator:I,basename:z}=R.useContext(Pt),B=N!=null&&T1(v)&&d===!0,G=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,P=E.pathname,Q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(P=P.toLowerCase(),Q=Q?Q.toLowerCase():null,G=G.toLowerCase()),Q&&z&&(Q=Xn(Q,z)||Q);const ve=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Oe=P===G||!o&&P.startsWith(G)&&P.charAt(ve)==="/",je=Q!=null&&(Q===G||!o&&Q.startsWith(G)&&Q.charAt(G.length)==="/"),te={isActive:Oe,isPending:je,isTransitioning:B},qe=Oe?t:void 0,rt;typeof r=="function"?rt=r(te):rt=[r,Oe?"active":null,je?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let qt=typeof u=="function"?u(te):u;return R.createElement(Bt,{...g,"aria-current":qe,className:rt,ref:b,style:qt,to:h,viewTransition:d},typeof m=="function"?m(te):m)});g1.displayName="NavLink";var _1=R.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:u,method:h=Po,action:d,onSubmit:m,relative:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:E,...N},I)=>{let{unstable_useTransitions:z}=R.useContext(Pt),B=S1(),G=C1(d,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&Fv.test(d),ve=Oe=>{if(m&&m(Oe),Oe.defaultPrevented)return;Oe.preventDefault();let je=Oe.nativeEvent.submitter,te=je?.getAttribute("formmethod")||h,qe=()=>B(je||Oe.currentTarget,{fetcherKey:t,method:te,navigate:i,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:E});z&&i!==!1?R.startTransition(()=>qe()):qe()};return R.createElement("form",{ref:I,method:P,action:G,onSubmit:r?m:ve,...N,"data-discover":!Q&&s==="render"?"true":void 0})});_1.displayName="Form";function y1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kv(s){let t=R.useContext(Ta);return Ue(t,y1(s)),t}function v1(s,{target:t,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=id(),b=mn(),v=sl(s,{relative:u});return R.useCallback(E=>{if(WT(E,t)){E.preventDefault();let N=i!==void 0?i:Vr(b)===Vr(v),I=()=>g(s,{replace:N,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:d});m?R.startTransition(()=>I()):I()}},[b,g,v,i,r,t,s,o,u,h,d,m])}var b1=0,E1=()=>`__${String(++b1)}__`;function S1(){let{router:s}=Kv("useSubmit"),{basename:t}=R.useContext(Pt),i=BT(),r=s.fetch,o=s.navigate;return R.useCallback(async(u,h={})=>{let{action:d,method:m,encType:g,formData:b,body:v}=$T(u,t);if(h.navigate===!1){let E=h.fetcherKey||E1();await r(E,i,h.action||d,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:v,formMethod:h.method||m,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||d,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:v,formMethod:h.method||m,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:i,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,t,i])}function C1(s,{relative:t}={}){let{basename:i}=R.useContext(Pt),r=R.useContext(dn);Ue(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...sl(s||".",{relative:t})},h=mn();if(s==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(b=>b==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let b=d.toString();u.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Fn([i,u.pathname])),Vr(u)}function T1(s,{relative:t}={}){let i=R.useContext(jv);Ue(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Kv("useViewTransitionState"),o=sl(s,{relative:t});if(!i.isTransitioning)return!1;let u=Xn(i.currentLocation.pathname,r)||i.currentLocation.pathname,h=Xn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Qo(o.pathname,h)!=null||Qo(o.pathname,u)!=null}const w1=()=>{};var Ey={};const Qv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const H=function(s,t){if(!s)throw Na(t)},Na=function(s){return new Error("Firebase Database ("+Qv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const Xv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},N1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],h=s[i++],d=s[i++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=s[i++],h=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},ud={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,d=h?s[o+1]:0,m=o+2<s.length,g=m?s[o+2]:0,b=u>>2,v=(u&3)<<4|d>>4;let E=(d&15)<<2|g>>6,N=g&63;m||(N=64,h||(E=64)),r.push(i[b],i[v],i[E],i[N])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Xv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):N1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const g=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||d==null||g==null||v==null)throw new R1;const E=u<<2|d>>4;if(r.push(E),g!==64){const N=d<<4&240|g>>2;if(r.push(N),v!==64){const I=g<<6&192|v;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class R1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wv=function(s){const t=Xv(s);return ud.encodeByteArray(t,!0)},Xo=function(s){return Wv(s).replace(/\./g,"")},Wo=function(s){try{return ud.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function A1(s){return Zv(void 0,s)}function Zv(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!x1(i)||(s[i]=Zv(s[i],t[i]));return s}function x1(s){return s!=="__proto__"}function O1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const D1=()=>O1().__FIREBASE_DEFAULTS__,I1=()=>{if(typeof process>"u"||typeof Ey>"u")return;const s=Ey.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},M1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Wo(s[1]);return t&&JSON.parse(t)},cd=()=>{try{return w1()||D1()||I1()||M1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Jv=s=>cd()?.emulatorHosts?.[s],L1=s=>{const t=Jv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},$v=()=>cd()?.config,eb=s=>cd()?.[`_${s}`];class al{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Ra(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tb(s){return(await fetch(s,{credentials:"include"})).ok}function k1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xo(JSON.stringify(i)),Xo(JSON.stringify(h)),""].join(".")}const Ur={};function U1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ur))Ur[t]?s.emulator.push(t):s.prod.push(t);return s}function j1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Sy=!1;function nb(s,t){if(typeof window>"u"||typeof document>"u"||!Ra(window.location.host)||Ur[s]===t||Ur[s]||Sy)return;Ur[s]=t;function i(E){return`__firebase__banner__${E}`}const r="__firebase__banner",u=U1().prod.length>0;function h(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,N){E.setAttribute("width","24"),E.setAttribute("id",N),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Sy=!0,h()},E}function b(E,N){E.setAttribute("id",N),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=j1(r),N=i("text"),I=document.getElementById(N)||document.createElement("span"),z=i("learnmore"),B=document.getElementById(z)||document.createElement("a"),G=i("preprendIcon"),P=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;d(Q),b(B,z);const ve=g();m(P,G),Q.append(P,I,B,ve),document.body.appendChild(Q)}u?(I.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function z1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ib(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B1(){const s=bt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function P1(){return Qv.NODE_ADMIN===!0}function q1(){try{return typeof indexedDB=="object"}catch{return!1}}function V1(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const G1="FirebaseError";class Hi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=G1,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?Y1(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Hi(o,d,r)}}function Y1(s,t){return s.replace(F1,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const F1=/\{\$([^}]+)}/g;function Gr(s){return JSON.parse(s)}function et(s){return JSON.stringify(s)}const sb=function(s){let t={},i={},r={},o="";try{const u=s.split(".");t=Gr(Wo(u[0])||""),i=Gr(Wo(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:o}},K1=function(s){const t=sb(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Q1=function(s){const t=sb(s).claims;return typeof t=="object"&&t.admin===!0};function Cn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function pa(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function xh(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Zo(s,t,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=t.call(i,s[o],o,s));return r}function ds(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=s[o],h=t[o];if(Cy(u)&&Cy(h)){if(!ds(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Cy(s){return s!==null&&typeof s=="object"}function Aa(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Lr(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function kr(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}class X1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)r[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)r[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const E=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],d=this.chain_[3],m=this.chain_[4],g,b;for(let v=0;v<80;v++){v<40?v<20?(g=d^u&(h^d),b=1518500249):(g=u^h^d,b=1859775393):v<60?(g=u&h|d&(u|h),b=2400959708):(g=u^h^d,b=3395469782);const E=(o<<5|o>>>27)+g+m+b+r[v]&4294967295;m=d,d=h,h=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=t[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[r]=this.chain_[o]>>u&255,++r;return t}}function W1(s,t){const i=new Z1(s,t);return i.subscribe.bind(i)}class Z1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");J1(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=hh),o.error===void 0&&(o.error=hh),o.complete===void 0&&(o.complete=hh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function hh(){}function vu(s,t){return`${s} failed: ${t} argument `}const $1=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,H(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;o=65536+(u<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},bu=function(s){let t=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};function pt(s){return s&&s._delegate?s._delegate:s}class ms{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const us="[DEFAULT]";class ew{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new al;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nw(t))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=us){return this.instances.has(t)}getOptions(t=us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=us){return this.component?this.component.multipleInstances?t:us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tw(s){return s===us?void 0:s}function nw(s){return s.instantiationMode==="EAGER"}class iw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ew(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ne;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ne||(Ne={}));const sw={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},aw=Ne.INFO,rw={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},lw=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=rw[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hd{constructor(t){this.name=t,this._logLevel=aw,this._logHandler=lw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...t),this._logHandler(this,Ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...t),this._logHandler(this,Ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...t),this._logHandler(this,Ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...t),this._logHandler(this,Ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...t),this._logHandler(this,Ne.ERROR,...t)}}const ow=(s,t)=>t.some(i=>s instanceof i);let Ty,wy;function uw(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cw(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,Oh=new WeakMap,rb=new WeakMap,dh=new WeakMap,dd=new WeakMap;function fw(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{i(Di(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&ab.set(i,s)}).catch(()=>{}),dd.set(t,s),t}function hw(s){if(Oh.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Oh.set(s,t)}let Dh={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Oh.get(s);if(t==="objectStoreNames")return s.objectStoreNames||rb.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Di(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function dw(s){Dh=s(Dh)}function mw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(mh(this),t,...i);return rb.set(r,t.sort?t.sort():[t]),Di(r)}:cw().includes(s)?function(...t){return s.apply(mh(this),t),Di(ab.get(this))}:function(...t){return Di(s.apply(mh(this),t))}}function pw(s){return typeof s=="function"?mw(s):(s instanceof IDBTransaction&&hw(s),ow(s,uw())?new Proxy(s,Dh):s)}function Di(s){if(s instanceof IDBRequest)return fw(s);if(dh.has(s))return dh.get(s);const t=pw(s);return t!==s&&(dh.set(s,t),dd.set(t,s)),t}const mh=s=>dd.get(s);function gw(s,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,t),d=Di(h);return r&&h.addEventListener("upgradeneeded",m=>{r(Di(h.result),m.oldVersion,m.newVersion,Di(h.transaction),m)}),i&&h.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const _w=["get","getKey","getAll","getAllKeys","count"],yw=["put","add","delete","clear"],ph=new Map;function Ny(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(ph.get(t))return ph.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=yw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||_w.includes(i)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&m.done]))[0]};return ph.set(t,u),u}dw(s=>({...s,get:(t,i,r)=>Ny(t,i)||s.get(t,i,r),has:(t,i)=>!!Ny(t,i)||s.has(t,i)}));class vw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function bw(s){return s.getComponent()?.type==="VERSION"}const Ih="@firebase/app",Ry="0.14.7";const Wn=new hd("@firebase/app"),Ew="@firebase/app-compat",Sw="@firebase/analytics-compat",Cw="@firebase/analytics",Tw="@firebase/app-check-compat",ww="@firebase/app-check",Nw="@firebase/auth",Rw="@firebase/auth-compat",Aw="@firebase/database",xw="@firebase/data-connect",Ow="@firebase/database-compat",Dw="@firebase/functions",Iw="@firebase/functions-compat",Mw="@firebase/installations",Lw="@firebase/installations-compat",kw="@firebase/messaging",Uw="@firebase/messaging-compat",jw="@firebase/performance",zw="@firebase/performance-compat",Hw="@firebase/remote-config",Bw="@firebase/remote-config-compat",Pw="@firebase/storage",qw="@firebase/storage-compat",Vw="@firebase/firestore",Gw="@firebase/ai",Yw="@firebase/firestore-compat",Fw="firebase",Kw="12.8.0";const Mh="[DEFAULT]",Qw={[Ih]:"fire-core",[Ew]:"fire-core-compat",[Cw]:"fire-analytics",[Sw]:"fire-analytics-compat",[ww]:"fire-app-check",[Tw]:"fire-app-check-compat",[Nw]:"fire-auth",[Rw]:"fire-auth-compat",[Aw]:"fire-rtdb",[xw]:"fire-data-connect",[Ow]:"fire-rtdb-compat",[Dw]:"fire-fn",[Iw]:"fire-fn-compat",[Mw]:"fire-iid",[Lw]:"fire-iid-compat",[kw]:"fire-fcm",[Uw]:"fire-fcm-compat",[jw]:"fire-perf",[zw]:"fire-perf-compat",[Hw]:"fire-rc",[Bw]:"fire-rc-compat",[Pw]:"fire-gcs",[qw]:"fire-gcs-compat",[Vw]:"fire-fst",[Yw]:"fire-fst-compat",[Gw]:"fire-vertex","fire-js":"fire-js",[Fw]:"fire-js-all"};const ga=new Map,Lh=new Map,kh=new Map;function Ay(s,t){try{s.container.addComponent(t)}catch(i){Wn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function _a(s){const t=s.name;if(kh.has(t))return Wn.debug(`There were multiple attempts to register component ${t}.`),!1;kh.set(t,s);for(const i of ga.values())Ay(i,s);for(const i of Lh.values())Ay(i,s);return!0}function md(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function $t(s){return s==null?!1:s.settings!==void 0}const Xw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new rl("app","Firebase",Xw);class Ww{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}const xa=Kw;function Eu(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Mh,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ii.create("bad-app-name",{appName:String(o)});if(i||(i=$v()),!i)throw Ii.create("no-options");const u=ga.get(o);if(u){if(ds(i,u.options)&&ds(r,u.config))return u;throw Ii.create("duplicate-app",{appName:o})}const h=new iw(o);for(const m of kh.values())h.addComponent(m);const d=new Ww(i,r,h);return ga.set(o,d),d}function lb(s=Mh){const t=ga.get(s);if(!t&&s===Mh&&$v())return Eu();if(!t)throw Ii.create("no-app",{appName:s});return t}async function ob(s){let t=!1;const i=s.name;ga.has(i)?(t=!0,ga.delete(i)):Lh.has(i)&&s.decRefCount()<=0&&(Lh.delete(i),t=!0),t&&(await Promise.all(s.container.getProviders().map(r=>r.delete())),s.isDeleted=!0)}function Mi(s,t,i){let r=Qw[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wn.warn(h.join(" "));return}_a(new ms(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Zw="firebase-heartbeat-database",Jw=1,Yr="firebase-heartbeat-store";let gh=null;function ub(){return gh||(gh=gw(Zw,Jw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Yr)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ii.create("idb-open",{originalErrorMessage:s.message})})),gh}async function $w(s){try{const i=(await ub()).transaction(Yr),r=await i.objectStore(Yr).get(cb(s));return await i.done,r}catch(t){if(t instanceof Hi)Wn.warn(t.message);else{const i=Ii.create("idb-get",{originalErrorMessage:t?.message});Wn.warn(i.message)}}}async function xy(s,t){try{const r=(await ub()).transaction(Yr,"readwrite");await r.objectStore(Yr).put(t,cb(s)),await r.done}catch(i){if(i instanceof Hi)Wn.warn(i.message);else{const r=Ii.create("idb-set",{originalErrorMessage:i?.message});Wn.warn(r.message)}}}function cb(s){return`${s.name}!${s.options.appId}`}const eN=1024,tN=30;class nN{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sN(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Oy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tN){const o=aN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Oy(),{heartbeatsToSend:i,unsentEntries:r}=iN(this._heartbeatsCache.heartbeats),o=Xo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wn.warn(t),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function iN(s,t=eN){const i=[];let r=s.slice();for(const o of s){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Dy(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Dy(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class sN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q1()?V1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $w(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Dy(s){return Xo(JSON.stringify({version:2,heartbeats:s})).length}function aN(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function rN(s){_a(new ms("platform-logger",t=>new vw(t),"PRIVATE")),_a(new ms("heartbeat",t=>new nN(t),"PRIVATE")),Mi(Ih,Ry,s),Mi(Ih,Ry,"esm2020"),Mi("fire-js","")}rN("");var lN="firebase",oN="12.8.0";Mi(lN,oN,"app");var Iy={};const My="@firebase/database",Ly="1.1.0";let fb="";function uN(s){fb=s}class cN{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),et(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Gr(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class fN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Cn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const hb=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new cN(t)}}catch{}return new fN},hs=hb("localStorage"),hN=hb("sessionStorage");const ca=new hd("@firebase/database"),dN=(function(){let s=1;return function(){return s++}})(),db=function(s){const t=$1(s),i=new X1;i.update(t);const r=i.digest();return ud.encodeByteArray(r)},ll=function(...s){let t="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ll.apply(null,r):typeof r=="object"?t+=et(r):t+=r,t+=" "}return t};let jr=null,ky=!0;const mN=function(s,t){H(!0,"Can't turn on custom loggers persistently."),ca.logLevel=Ne.VERBOSE,jr=ca.log.bind(ca)},ht=function(...s){if(ky===!0&&(ky=!1,jr===null&&hN.get("logging_enabled")===!0&&mN()),jr){const t=ll.apply(null,s);jr(t)}},ol=function(s){return function(...t){ht(s,...t)}},Uh=function(...s){const t="FIREBASE INTERNAL ERROR: "+ll(...s);ca.error(t)},Zn=function(...s){const t=`FIREBASE FATAL ERROR: ${ll(...s)}`;throw ca.error(t),new Error(t)},vt=function(...s){const t="FIREBASE WARNING: "+ll(...s);ca.warn(t)},pN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},pd=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},gN=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ya="[MIN_NAME]",ps="[MAX_NAME]",bs=function(s,t){if(s===t)return 0;if(s===ya||t===ps)return-1;if(t===ya||s===ps)return 1;{const i=Uy(s),r=Uy(t);return i!==null?r!==null?i-r===0?s.length-t.length:i-r:-1:r!==null?1:s<t?-1:1}},_N=function(s,t){return s===t?0:s<t?-1:1},Or=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+et(t))},gd=function(s){if(typeof s!="object"||s===null)return et(s);const t=[];for(const r in s)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=et(t[r]),i+=":",i+=gd(s[t[r]]);return i+="}",i},mb=function(s,t){const i=s.length;if(i<=t)return[s];const r=[];for(let o=0;o<i;o+=t)o+t>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+t));return r};function dt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const pb=function(s){H(!pd(s),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let o,u,h,d,m;s===0?(u=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=d+r,h=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,h=Math.round(s/Math.pow(2,1-r-i))));const g=[];for(m=i;m;m-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(m=t;m;m-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(o?1:0),g.reverse();const b=g.join("");let v="";for(m=0;m<64;m+=8){let E=parseInt(b.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},yN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bN(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+t._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const EN=new RegExp("^-?(0*)\\d{1,10}$"),SN=-2147483648,CN=2147483647,Uy=function(s){if(EN.test(s)){const t=Number(s);if(t>=SN&&t<=CN)return t}return null},Oa=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw vt("Exception was thrown by user callback.",i),t},Math.floor(0))}},TN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zr=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class wN{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,$t(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class NN{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ht("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(t)}}class Vo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Vo.OWNER="owner";const _d="5",gb="v",_b="s",yb="r",vb="f",bb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Eb="ls",Sb="p",jh="ac",Cb="websocket",Tb="long_polling";class wb{constructor(t,i,r,o,u=!1,h="",d=!1,m=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=m,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&hs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function RN(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Nb(s,t,i){H(typeof t=="string","typeof type must == string"),H(typeof i=="object","typeof params must == object");let r;if(t===Cb)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Tb)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);RN(s)&&(i.ns=s.namespace);const o=[];return dt(i,(u,h)=>{o.push(u+"="+h)}),r+o.join("&")}class AN{constructor(){this.counters_={}}incrementCounter(t,i=1){Cn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return A1(this.counters_)}}const _h={},yh={};function yd(s){const t=s.toString();return _h[t]||(_h[t]=new AN),_h[t]}function xN(s,t){const i=s.toString();return yh[i]||(yh[i]=t()),yh[i]}class ON{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Oa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const jy="start",DN="close",IN="pLPCommand",MN="pRTLPCB",Rb="id",Ab="pw",xb="ser",LN="cb",kN="seg",UN="ts",jN="d",zN="dframe",Ob=1870,Db=30,HN=Ob-Db,BN=25e3,PN=3e4;class oa{constructor(t,i,r,o,u,h,d){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ol(t),this.stats_=yd(i),this.urlFn=m=>(this.appCheckToken&&(m[jh]=this.appCheckToken),Nb(i,Tb,m))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new ON(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(PN)),gN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vd((...u)=>{const[h,d,m,g,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===jy)this.id=d,this.password=m;else if(h===DN)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const r={};r[jy]="t",r[xb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[LN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gb]=_d,this.transportSessionId&&(r[_b]=this.transportSessionId),this.lastSessionId&&(r[Eb]=this.lastSessionId),this.applicationId&&(r[Sb]=this.applicationId),this.appCheckToken&&(r[jh]=this.appCheckToken),typeof location<"u"&&location.hostname&&bb.test(location.hostname)&&(r[yb]=vb);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oa.forceAllow_=!0}static forceDisallow(){oa.forceDisallow_=!0}static isAvailable(){return oa.forceAllow_?!0:!oa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yN()&&!vN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=et(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Wv(i),o=mb(r,HN);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[zN]="t",r[Rb]=t,r[Ab]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=et(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class vd{constructor(t,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dN(),window[IN+this.uniqueCallbackIdentifier]=t,window[MN+this.uniqueCallbackIdentifier]=i,this.myIFrame=vd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){ht("frame writing exception"),d.stack&&ht(d.stack),ht(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ht("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Rb]=this.myID,t[Ab]=this.myPW,t[xb]=this.currentSerial;let i=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Db+r.length<=Ob;){const h=this.pendingSegs.shift();r=r+"&"+kN+o+"="+h.seg+"&"+UN+o+"="+h.ts+"&"+jN+o+"="+h.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(BN)),u=()=>{clearTimeout(o),r()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{ht("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const qN=16384,VN=45e3;let Jo=null;typeof MozWebSocket<"u"?Jo=MozWebSocket:typeof WebSocket<"u"&&(Jo=WebSocket);class ln{constructor(t,i,r,o,u,h,d){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ol(this.connId),this.stats_=yd(i),this.connURL=ln.connectionURL_(i,h,d,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const h={};return h[gb]=_d,typeof location<"u"&&location.hostname&&bb.test(location.hostname)&&(h[yb]=vb),i&&(h[_b]=i),r&&(h[Eb]=r),o&&(h[jh]=o),u&&(h[Sb]=u),Nb(t,Cb,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hs.set("previous_websocket_failure",!0);try{let r;P1(),this.mySock=new Jo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){ln.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Jo!==null&&!ln.forceDisallow_}static previouslyFailed(){return hs.isInMemoryStorage||hs.get("previous_websocket_failure")===!0}markConnectionHealthy(){hs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Gr(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=et(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=mb(i,qN);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VN))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ln.responsesRequiredToBeHealthy=2;ln.healthyTimeout=3e4;class Fr{static get ALL_TRANSPORTS(){return[oa,ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=ln&&ln.isAvailable();let r=i&&!ln.previouslyFailed();if(t.webSocketOnly&&(i||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ln];else{const o=this.transports_=[];for(const u of Fr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Fr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fr.globalTransportInitialized_=!1;const GN=6e4,YN=5e3,FN=10*1024,KN=100*1024,vh="t",zy="d",QN="s",Hy="r",XN="e",By="o",Py="a",qy="n",Vy="p",WN="h";class ZN{constructor(t,i,r,o,u,h,d,m,g,b){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ol("c:"+this.id+":"),this.transportManager_=new Fr(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=zr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>KN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>FN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(vh in t){const i=t[vh];i===Py?this.upgradeIfSecondaryHealthy_():i===Hy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===By&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Or("t",t),r=Or("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Vy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Py,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Or("t",t),r=Or("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Or(vh,t);if(zy in t){const r=t[zy];if(i===WN){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===qy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===QN?this.onConnectionShutdown_(r):i===Hy?this.onReset_(r):i===XN?Uh("Server Error: "+r):i===By?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Uh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),_d!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),zr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GN))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Vy,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ib{put(t,i,r,o){}merge(t,i,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}class Mb{constructor(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const o=this.getInitialEvent(t);o&&i.apply(r,o)}off(t,i,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(t){H(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class $o extends Mb{static getInstance(){return new $o}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return H(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Gy=32,Yy=768;class Re{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ge(){return new Re("")}function ae(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ui(s){return s.pieces_.length-s.pieceNum_}function Ie(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Re(s.pieces_,t)}function bd(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function JN(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function Kr(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Lb(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Re(t,0)}function Be(s,t){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(t instanceof Re)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Re(i,0)}function ce(s){return s.pieceNum_>=s.pieces_.length}function yt(s,t){const i=ae(s),r=ae(t);if(i===null)return t;if(i===r)return yt(Ie(s),Ie(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function $N(s,t){const i=Kr(s,0),r=Kr(t,0);for(let o=0;o<i.length&&o<r.length;o++){const u=bs(i[o],r[o]);if(u!==0)return u}return i.length===r.length?0:i.length<r.length?-1:1}function Ed(s,t){if(Ui(s)!==Ui(t))return!1;for(let i=s.pieceNum_,r=t.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==t.pieces_[r])return!1;return!0}function en(s,t){let i=s.pieceNum_,r=t.pieceNum_;if(Ui(s)>Ui(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class eR{constructor(t,i){this.errorPrefix_=i,this.parts_=Kr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=bu(this.parts_[r]);kb(this)}}function tR(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=bu(t),kb(s)}function nR(s){const t=s.parts_.pop();s.byteLength_-=bu(t),s.parts_.length>0&&(s.byteLength_-=1)}function kb(s){if(s.byteLength_>Yy)throw new Error(s.errorPrefix_+"has a key path longer than "+Yy+" bytes ("+s.byteLength_+").");if(s.parts_.length>Gy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gy+") or object contains a cycle "+cs(s))}function cs(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class Sd extends Mb{static getInstance(){return new Sd}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return H(t==="visible","Unknown event type: "+t),[this.visible_]}}const Dr=1e3,iR=300*1e3,Fy=30*1e3,sR=1.3,aR=3e4,rR="server_kill",Ky=3;class Kn extends Ib{constructor(t,i,r,o,u,h,d,m){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=Kn.nextPersistentConnectionId_++,this.log_=ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dr,this.maxReconnectDelay_=iR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&$o.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(et(u)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new al,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},h="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(h,u,d=>{const m=d.d,g=d.s;Kn.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",d),g!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Cn(t,"w")){const r=pa(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Q1(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Fy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=K1(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},h="n";o&&(u.q=r,u.t=o),this.sendRequest(h,u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const h={p:i,d:r};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+et(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Uh("Unrecognized action received from server: "+et(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Dr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>aR&&(this.reconnectDelay_=Dr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Kn.nextConnectionId_++,u=this.lastSessionId;let h=!1,d=null;const m=function(){d?d.close():(h=!0,r())},g=function(v){H(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)};this.realtime_={close:m,sendRequest:g};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);h?ht("getToken() completed but was canceled"):(ht("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,d=new ZN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,N=>{vt(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(rR)},u))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&vt(v),m())}}}interrupt(t){ht("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ht("Resuming connection for reason: "+t),delete this.interruptReasons_[t],xh(this.interruptReasons_)&&(this.reconnectDelay_=Dr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(u=>gd(u)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Re(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){ht("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ky&&(this.reconnectDelay_=Fy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ht("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ky&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+fb.replace(/\./g,"-")]=1,fd()?t["framework.cordova"]=1:ib()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$o.getInstance().currentlyOnline();return xh(this.interruptReasons_)&&t}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;class re{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new re(t,i)}}class Su{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new re(ya,t),o=new re(ya,i);return this.compare(r,o)!==0}minPost(){return re.MIN}}let zo;class Ub extends Su{static get __EMPTY_NODE(){return zo}static set __EMPTY_NODE(t){zo=t}compare(t,i){return bs(t.name,i.name)}isDefinedOn(t){throw Na("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return re.MIN}maxPost(){return new re(ps,zo)}makePost(t,i){return H(typeof t=="string","KeyIndex indexValue must always be a string."),new re(t,zo)}toString(){return".key"}}const fa=new Ub;class Ho{constructor(t,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?r(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class at{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??at.RED,this.left=o??xt.EMPTY_NODE,this.right=u??xt.EMPTY_NODE}copy(t,i,r,o,u){return new at(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return xt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class lR{copy(t,i,r,o,u){return this}insert(t,i,r){return new at(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(t,i=xt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new xt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(t){return new xt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,at.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ho(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new Ho(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new Ho(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new Ho(this.root_,null,this.comparator_,!0,t)}}xt.EMPTY_NODE=new lR;function oR(s,t){return bs(s.name,t.name)}function Cd(s,t){return bs(s,t)}let zh;function uR(s){zh=s}const jb=function(s){return typeof s=="number"?"number:"+pb(s):"string:"+s},zb=function(s){if(s.isLeafNode()){const t=s.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Cn(t,".sv"),"Priority must be a string or number.")}else H(s===zh||s.isEmpty(),"priority of unexpected type.");H(s===zh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Qy;class st{static set __childrenNodeConstructor(t){Qy=t}static get __childrenNodeConstructor(){return Qy}constructor(t,i=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),zb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new st(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ce(t)?this:ae(t)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=ae(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||Ui(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+jb(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=pb(this.value_):t+=this.value_,this.lazyHash_=db(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===st.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof st.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(i),u=st.VALUE_TYPE_ORDER.indexOf(r);return H(o>=0,"Unknown leaf type: "+i),H(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Hb,Bb;function cR(s){Hb=s}function fR(s){Bb=s}class hR extends Su{compare(t,i){const r=t.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?bs(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return re.MIN}maxPost(){return new re(ps,new st("[PRIORITY-POST]",Bb))}makePost(t,i){const r=Hb(t);return new re(i,new st("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pe=new hR;const dR=Math.log(2);class mR{constructor(t){const i=u=>parseInt(Math.log(u)/dR,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const eu=function(s,t,i,r){s.sort(t);const o=function(m,g){const b=g-m;let v,E;if(b===0)return null;if(b===1)return v=s[m],E=i?i(v):v,new at(E,v.node,at.BLACK,null,null);{const N=parseInt(b/2,10)+m,I=o(m,N),z=o(N+1,g);return v=s[N],E=i?i(v):v,new at(E,v.node,at.BLACK,I,z)}},u=function(m){let g=null,b=null,v=s.length;const E=function(I,z){const B=v-I,G=v;v-=I;const P=o(B+1,G),Q=s[B],ve=i?i(Q):Q;N(new at(ve,Q.node,z,null,P))},N=function(I){g?(g.left=I,g=I):(b=I,g=I)};for(let I=0;I<m.count;++I){const z=m.nextBitIsOne(),B=Math.pow(2,m.count-(I+1));z?E(B,at.BLACK):(E(B,at.BLACK),E(B,at.RED))}return b},h=new mR(s.length),d=u(h);return new xt(r||t,d)};let bh;const la={};class Vn{static get Default(){return H(la&&Pe,"ChildrenNode.ts has not been loaded"),bh=bh||new Vn({".priority":la},{".priority":Pe}),bh}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=pa(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof xt?i:null}hasIndex(t){return Cn(this.indexSet_,t.toString())}addIndex(t,i){H(t!==fa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(re.Wrap);let h=u.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=u.getNext();let d;o?d=eu(r,t.getCompare()):d=la;const m=t.toString(),g={...this.indexSet_};g[m]=t;const b={...this.indexes_};return b[m]=d,new Vn(b,g)}addToIndexes(t,i){const r=Zo(this.indexes_,(o,u)=>{const h=pa(this.indexSet_,u);if(H(h,"Missing index implementation for "+u),o===la)if(h.isDefinedOn(t.node)){const d=[],m=i.getIterator(re.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&d.push(g),g=m.getNext();return d.push(t),eu(d,h.getCompare())}else return la;else{const d=i.get(t.name);let m=o;return d&&(m=m.remove(new re(t.name,d))),m.insert(t,t.node)}});return new Vn(r,this.indexSet_)}removeFromIndexes(t,i){const r=Zo(this.indexes_,o=>{if(o===la)return o;{const u=i.get(t.name);return u?o.remove(new re(t.name,u)):o}});return new Vn(r,this.indexSet_)}}let Ir;class J{static get EMPTY_NODE(){return Ir||(Ir=new J(new xt(Cd),null,Vn.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&zb(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ir}updatePriority(t){return this.children_.isEmpty()?this:new J(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Ir:i}}getChild(t){const i=ae(t);return i===null?this:this.getImmediateChild(i).getChild(Ie(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(H(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new re(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?Ir:this.priorityNode_;return new J(o,h,u)}}updateChild(t,i){const r=ae(t);if(r===null)return i;{H(ae(t)!==".priority"||Ui(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ie(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Pe,(h,d)=>{i[h]=d.val(t),r++,u&&J.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*r){const h=[];for(const d in i)h[d]=i[d];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+jb(this.getPriority().val())+":"),this.forEachChild(Pe,(i,r)=>{const o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":db(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new re(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new re(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new re(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,re.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,re.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ul?-1:0}withIndex(t){if(t===fa||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new J(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===fa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Pe),o=i.getIterator(Pe);let u=r.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===fa?null:this.indexMap_.get(t.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pR extends J{constructor(){super(new xt(Cd),J.EMPTY_NODE,Vn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return J.EMPTY_NODE}isEmpty(){return!1}}const ul=new pR;Object.defineProperties(re,{MIN:{value:new re(ya,J.EMPTY_NODE)},MAX:{value:new re(ps,ul)}});Ub.__EMPTY_NODE=J.EMPTY_NODE;st.__childrenNodeConstructor=J;uR(ul);fR(ul);const gR=!0;function $e(s,t=null){if(s===null)return J.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new st(i,$e(t))}if(!(s instanceof Array)&&gR){const i=[];let r=!1;if(dt(s,(h,d)=>{if(h.substring(0,1)!=="."){const m=$e(d);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),i.push(new re(h,m)))}}),i.length===0)return J.EMPTY_NODE;const u=eu(i,oR,h=>h.name,Cd);if(r){const h=eu(i,Pe.getCompare());return new J(u,$e(t),new Vn({".priority":h},{".priority":Pe}))}else return new J(u,$e(t),Vn.Default)}else{let i=J.EMPTY_NODE;return dt(s,(r,o)=>{if(Cn(s,r)&&r.substring(0,1)!=="."){const u=$e(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority($e(t))}}cR($e);class _R extends Su{constructor(t){super(),this.indexPath_=t,H(!ce(t)&&ae(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?bs(t.name,i.name):u}makePost(t,i){const r=$e(t),o=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(i,o)}maxPost(){const t=J.EMPTY_NODE.updateChild(this.indexPath_,ul);return new re(ps,t)}toString(){return Kr(this.indexPath_,0).join("/")}}class yR extends Su{compare(t,i){const r=t.node.compareTo(i.node);return r===0?bs(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(t,i){const r=$e(t);return new re(i,r)}toString(){return".value"}}const vR=new yR;function Pb(s){return{type:"value",snapshotNode:s}}function va(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Qr(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Xr(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function bR(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class Td{constructor(t){this.index_=t}updateChild(t,i,r,o,u,h){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(i);return d.getChild(o).equals(r.getChild(o))&&d.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?t.hasChild(i)?h.trackChildChange(Qr(i,d)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(va(i,r)):h.trackChildChange(Xr(i,r,d))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Pe,(o,u)=>{i.hasChild(o)||r.trackChildChange(Qr(o,u))}),i.isLeafNode()||i.forEachChild(Pe,(o,u)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(u)||r.trackChildChange(Xr(o,u,h))}else r.trackChildChange(va(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?J.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Wr{constructor(t){this.indexedFilter_=new Td(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Wr.getStartPost_(t),this.endPost_=Wr.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,o,u,h){return this.matches(new re(i,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,o,u,h)}updateFullNode(t,i,r){i.isLeafNode()&&(i=J.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(J.EMPTY_NODE);const u=this;return i.forEachChild(Pe,(h,d)=>{u.matches(new re(h,d))||(o=o.updateImmediateChild(h,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class ER{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,o,u,h){return this.rangedFilter_.matches(new re(i,r))||(r=J.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,o,u,h):this.fullLimitUpdateChild_(t,i,r,u,h)}updateFullNode(t,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=J.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(J.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const d=u.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,o,u){let h;if(this.reverse_){const v=this.index_.getCompare();h=(E,N)=>v(N,E)}else h=this.index_.getCompare();const d=t;H(d.numChildren()===this.limit_,"");const m=new re(i,r),g=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(m);if(d.hasChild(i)){const v=d.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,g,this.reverse_);for(;E!=null&&(E.name===i||d.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const N=E==null?1:h(E,m);if(b&&!r.isEmpty()&&N>=0)return u?.trackChildChange(Xr(i,r,v)),d.updateImmediateChild(i,r);{u?.trackChildChange(Qr(i,v));const z=d.updateImmediateChild(i,J.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u?.trackChildChange(va(E.name,E.node)),z.updateImmediateChild(E.name,E.node)):z}}else return r.isEmpty()?t:b&&h(g,m)>=0?(u!=null&&(u.trackChildChange(Qr(g.name,g.node)),u.trackChildChange(va(i,r))),d.updateImmediateChild(i,r).updateImmediateChild(g.name,J.EMPTY_NODE)):t}}class wd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ya}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const t=new wd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function SR(s){return s.loadsAllData()?new Td(s.getIndex()):s.hasLimit()?new ER(s):new Wr(s)}function Xy(s){const t={};if(s.isDefault())return t;let i;if(s.index_===Pe?i="$priority":s.index_===vR?i="$value":s.index_===fa?i="$key":(H(s.index_ instanceof _R,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=et(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";t[r]=et(s.indexStartValue_),s.startNameSet_&&(t[r]+=","+et(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";t[r]=et(s.indexEndValue_),s.endNameSet_&&(t[r]+=","+et(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function Wy(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==Pe&&(t.i=s.index_.toString()),t}class tu extends Ib{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(H(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ol("p:rest:"),this.listens_={}}listen(t,i,r,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=tu.getListenId_(t,r),d={};this.listens_[h]=d;const m=Xy(t._queryParams);this.restRequest_(u+".json",m,(g,b)=>{let v=b;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(u,v,!1,r),pa(this.listens_,h)===d){let E;g?g===401?E="permission_denied":E="rest_error:"+g:E="ok",o(E,null)}})}unlisten(t,i){const r=tu.getListenId_(t,i);delete this.listens_[r]}get(t){const i=Xy(t._queryParams),r=t._path.toString(),o=new al;return this.restRequest_(r+".json",i,(u,h)=>{let d=h;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(r,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Aa(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=Gr(d.responseText)}catch{vt("Failed to parse JSON response for "+h+": "+d.responseText)}r(null,m)}else d.status!==401&&d.status!==404&&vt("Got unsuccessful REST response for "+h+" Status: "+d.status),r(d.status);r=null}},d.open("GET",h,!0),d.send()})}}class CR{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function nu(){return{value:null,children:new Map}}function qb(s,t,i){if(ce(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const r=ae(t);s.children.has(r)||s.children.set(r,nu());const o=s.children.get(r);t=Ie(t),qb(o,t,i)}}function Hh(s,t,i){s.value!==null?i(t,s.value):TR(s,(r,o)=>{const u=new Re(t.toString()+"/"+r);Hh(o,u,i)})}function TR(s,t){s.children.forEach((i,r)=>{t(r,i)})}class wR{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&dt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=t,i}}const Zy=10*1e3,NR=30*1e3,RR=300*1e3;class AR{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new wR(t);const r=Zy+(NR-Zy)*Math.random();zr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;dt(t,(o,u)=>{u>0&&Cn(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),zr(this.reportStats_.bind(this),Math.floor(Math.random()*2*RR))}}var on;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(on||(on={}));function Nd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ad(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class iu{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=on.ACK_USER_WRITE,this.source=Nd()}operationForChild(t){if(ce(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Re(t));return new iu(ge(),i,this.revert)}}else return H(ae(this.path)===t,"operationForChild called for unrelated child."),new iu(Ie(this.path),this.affectedTree,this.revert)}}class Zr{constructor(t,i){this.source=t,this.path=i,this.type=on.LISTEN_COMPLETE}operationForChild(t){return ce(this.path)?new Zr(this.source,ge()):new Zr(this.source,Ie(this.path))}}class gs{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=on.OVERWRITE}operationForChild(t){return ce(this.path)?new gs(this.source,ge(),this.snap.getImmediateChild(t)):new gs(this.source,Ie(this.path),this.snap)}}class ba{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=on.MERGE}operationForChild(t){if(ce(this.path)){const i=this.children.subtree(new Re(t));return i.isEmpty()?null:i.value?new gs(this.source,ge(),i.value):new ba(this.source,ge(),i)}else return H(ae(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ba(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ji{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ce(t))return this.isFullyInitialized()&&!this.filtered_;const i=ae(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class xR{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function OR(s,t,i,r){const o=[],u=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(bR(h.childName,h.snapshotNode))}),Mr(s,o,"child_removed",t,r,i),Mr(s,o,"child_added",t,r,i),Mr(s,o,"child_moved",u,r,i),Mr(s,o,"child_changed",t,r,i),Mr(s,o,"value",t,r,i),o}function Mr(s,t,i,r,o,u){const h=r.filter(d=>d.type===i);h.sort((d,m)=>IR(s,d,m)),h.forEach(d=>{const m=DR(s,d,u);o.forEach(g=>{g.respondsTo(d.type)&&t.push(g.createEvent(m,s.query_))})})}function DR(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function IR(s,t,i){if(t.childName==null||i.childName==null)throw Na("Should only compare child_ events.");const r=new re(t.childName,t.snapshotNode),o=new re(i.childName,i.snapshotNode);return s.index_.compare(r,o)}function Cu(s,t){return{eventCache:s,serverCache:t}}function Hr(s,t,i,r){return Cu(new ji(t,i,r),s.serverCache)}function Vb(s,t,i,r){return Cu(s.eventCache,new ji(t,i,r))}function su(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function _s(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let Eh;const MR=()=>(Eh||(Eh=new xt(_N)),Eh);class De{static fromObject(t){let i=new De(null);return dt(t,(r,o)=>{i=i.set(new Re(r),o)}),i}constructor(t,i=MR()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ge(),value:this.value};if(ce(t))return null;{const r=ae(t),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ie(t),i);return u!=null?{path:Be(new Re(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ce(t))return this;{const i=ae(t),r=this.children.get(i);return r!==null?r.subtree(Ie(t)):new De(null)}}set(t,i){if(ce(t))return new De(i,this.children);{const r=ae(t),u=(this.children.get(r)||new De(null)).set(Ie(t),i),h=this.children.insert(r,u);return new De(this.value,h)}}remove(t){if(ce(t))return this.children.isEmpty()?new De(null):new De(null,this.children);{const i=ae(t),r=this.children.get(i);if(r){const o=r.remove(Ie(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new De(null):new De(this.value,u)}else return this}}get(t){if(ce(t))return this.value;{const i=ae(t),r=this.children.get(i);return r?r.get(Ie(t)):null}}setTree(t,i){if(ce(t))return i;{const r=ae(t),u=(this.children.get(r)||new De(null)).setTree(Ie(t),i);let h;return u.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,u),new De(this.value,h)}}fold(t){return this.fold_(ge(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(Be(t,o),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,ge(),i)}findOnPath_(t,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(ce(t))return null;{const u=ae(t),h=this.children.get(u);return h?h.findOnPath_(Ie(t),Be(i,u),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ge(),i)}foreachOnPath_(t,i,r){if(ce(t))return this;{this.value&&r(i,this.value);const o=ae(t),u=this.children.get(o);return u?u.foreachOnPath_(Ie(t),Be(i,o),r):new De(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,i){this.children.inorderTraversal((r,o)=>{o.foreach_(Be(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}class cn{constructor(t){this.writeTree_=t}static empty(){return new cn(new De(null))}}function Br(s,t,i){if(ce(t))return new cn(new De(i));{const r=s.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let u=r.value;const h=yt(o,t);return u=u.updateChild(h,i),new cn(s.writeTree_.set(o,u))}else{const o=new De(i),u=s.writeTree_.setTree(t,o);return new cn(u)}}}function Bh(s,t,i){let r=s;return dt(i,(o,u)=>{r=Br(r,Be(t,o),u)}),r}function Jy(s,t){if(ce(t))return cn.empty();{const i=s.writeTree_.setTree(t,new De(null));return new cn(i)}}function Ph(s,t){return Es(s,t)!=null}function Es(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(yt(i.path,t)):null}function $y(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Pe,(r,o)=>{t.push(new re(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new re(r,o.value))}),t}function Li(s,t){if(ce(t))return s;{const i=Es(s,t);return i!=null?new cn(new De(i)):new cn(s.writeTree_.subtree(t))}}function qh(s){return s.writeTree_.isEmpty()}function Ea(s,t){return Gb(ge(),s.writeTree_,t)}function Gb(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let r=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(H(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=Gb(Be(s,o),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(Be(s,".priority"),r)),i}}function Tu(s,t){return Qb(t,s)}function LR(s,t,i,r,o){H(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=Br(s.visibleWrites,t,i)),s.lastWriteId=r}function kR(s,t,i,r){H(r>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:t,children:i,writeId:r,visible:!0}),s.visibleWrites=Bh(s.visibleWrites,t,i),s.lastWriteId=r}function UR(s,t){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===t)return r}return null}function jR(s,t){const i=s.allWrites.findIndex(d=>d.writeId===t);H(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,u=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const d=s.allWrites[h];d.visible&&(h>=i&&zR(d,r.path)?o=!1:en(r.path,d.path)&&(u=!0)),h--}if(o){if(u)return HR(s),!0;if(r.snap)s.visibleWrites=Jy(s.visibleWrites,r.path);else{const d=r.children;dt(d,m=>{s.visibleWrites=Jy(s.visibleWrites,Be(r.path,m))})}return!0}else return!1}function zR(s,t){if(s.snap)return en(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&en(Be(s.path,i),t))return!0;return!1}function HR(s){s.visibleWrites=Yb(s.allWrites,BR,ge()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function BR(s){return s.visible}function Yb(s,t,i){let r=cn.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const h=u.path;let d;if(u.snap)en(i,h)?(d=yt(i,h),r=Br(r,d,u.snap)):en(h,i)&&(d=yt(h,i),r=Br(r,ge(),u.snap.getChild(d)));else if(u.children){if(en(i,h))d=yt(i,h),r=Bh(r,d,u.children);else if(en(h,i))if(d=yt(h,i),ce(d))r=Bh(r,ge(),u.children);else{const m=pa(u.children,ae(d));if(m){const g=m.getChild(Ie(d));r=Br(r,ge(),g)}}}else throw Na("WriteRecord should have .snap or .children")}}return r}function Fb(s,t,i,r,o){if(!r&&!o){const u=Es(s.visibleWrites,t);if(u!=null)return u;{const h=Li(s.visibleWrites,t);if(qh(h))return i;if(i==null&&!Ph(h,ge()))return null;{const d=i||J.EMPTY_NODE;return Ea(h,d)}}}else{const u=Li(s.visibleWrites,t);if(!o&&qh(u))return i;if(!o&&i==null&&!Ph(u,ge()))return null;{const h=function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(en(g.path,t)||en(t,g.path))},d=Yb(s.allWrites,h,t),m=i||J.EMPTY_NODE;return Ea(d,m)}}}function PR(s,t,i){let r=J.EMPTY_NODE;const o=Es(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Pe,(u,h)=>{r=r.updateImmediateChild(u,h)}),r;if(i){const u=Li(s.visibleWrites,t);return i.forEachChild(Pe,(h,d)=>{const m=Ea(Li(u,new Re(h)),d);r=r.updateImmediateChild(h,m)}),$y(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const u=Li(s.visibleWrites,t);return $y(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function qR(s,t,i,r,o){H(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=Be(t,i);if(Ph(s.visibleWrites,u))return null;{const h=Li(s.visibleWrites,u);return qh(h)?o.getChild(i):Ea(h,o.getChild(i))}}function VR(s,t,i,r){const o=Be(t,i),u=Es(s.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const h=Li(s.visibleWrites,o);return Ea(h,r.getNode().getImmediateChild(i))}else return null}function GR(s,t){return Es(s.visibleWrites,t)}function YR(s,t,i,r,o,u,h){let d;const m=Li(s.visibleWrites,t),g=Es(m,ge());if(g!=null)d=g;else if(i!=null)d=Ea(m,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const b=[],v=h.getCompare(),E=u?d.getReverseIteratorFrom(r,h):d.getIteratorFrom(r,h);let N=E.getNext();for(;N&&b.length<o;)v(N,r)!==0&&b.push(N),N=E.getNext();return b}else return[]}function FR(){return{visibleWrites:cn.empty(),allWrites:[],lastWriteId:-1}}function au(s,t,i,r){return Fb(s.writeTree,s.treePath,t,i,r)}function xd(s,t){return PR(s.writeTree,s.treePath,t)}function ev(s,t,i,r){return qR(s.writeTree,s.treePath,t,i,r)}function ru(s,t){return GR(s.writeTree,Be(s.treePath,t))}function KR(s,t,i,r,o,u){return YR(s.writeTree,s.treePath,t,i,r,o,u)}function Od(s,t,i){return VR(s.writeTree,s.treePath,t,i)}function Kb(s,t){return Qb(Be(s.treePath,t),s.writeTree)}function Qb(s,t){return{treePath:s,writeTree:t}}class QR{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;H(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Xr(r,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Qr(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,va(r,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Xr(r,t.snapshotNode,o.oldSnap));else throw Na("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}class XR{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const Xb=new XR;class Dd{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Od(this.writes_,t,r)}}getChildAfterChild(t,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_s(this.viewCache_),u=KR(this.writes_,o,i,1,r,t);return u.length===0?null:u[0]}}function WR(s){return{filter:s}}function ZR(s,t){H(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function JR(s,t,i,r,o){const u=new QR;let h,d;if(i.type===on.OVERWRITE){const g=i;g.source.fromUser?h=Vh(s,t,g.path,g.snap,r,o,u):(H(g.source.fromServer,"Unknown source."),d=g.source.tagged||t.serverCache.isFiltered()&&!ce(g.path),h=lu(s,t,g.path,g.snap,r,o,d,u))}else if(i.type===on.MERGE){const g=i;g.source.fromUser?h=eA(s,t,g.path,g.children,r,o,u):(H(g.source.fromServer,"Unknown source."),d=g.source.tagged||t.serverCache.isFiltered(),h=Gh(s,t,g.path,g.children,r,o,d,u))}else if(i.type===on.ACK_USER_WRITE){const g=i;g.revert?h=iA(s,t,g.path,r,o,u):h=tA(s,t,g.path,g.affectedTree,r,o,u)}else if(i.type===on.LISTEN_COMPLETE)h=nA(s,t,i.path,r,u);else throw Na("Unknown operation type: "+i.type);const m=u.getChanges();return $R(t,h,m),{viewCache:h,changes:m}}function $R(s,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=su(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(Pb(su(t)))}}function Wb(s,t,i,r,o,u){const h=t.eventCache;if(ru(r,i)!=null)return t;{let d,m;if(ce(i))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=_s(t),b=g instanceof J?g:J.EMPTY_NODE,v=xd(r,b);d=s.filter.updateFullNode(t.eventCache.getNode(),v,u)}else{const g=au(r,_s(t));d=s.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=ae(i);if(g===".priority"){H(Ui(i)===1,"Can't have a priority with additional path components");const b=h.getNode();m=t.serverCache.getNode();const v=ev(r,i,b,m);v!=null?d=s.filter.updatePriority(b,v):d=h.getNode()}else{const b=Ie(i);let v;if(h.isCompleteForChild(g)){m=t.serverCache.getNode();const E=ev(r,i,h.getNode(),m);E!=null?v=h.getNode().getImmediateChild(g).updateChild(b,E):v=h.getNode().getImmediateChild(g)}else v=Od(r,g,t.serverCache);v!=null?d=s.filter.updateChild(h.getNode(),g,v,b,o,u):d=h.getNode()}}return Hr(t,d,h.isFullyInitialized()||ce(i),s.filter.filtersNodes())}}function lu(s,t,i,r,o,u,h,d){const m=t.serverCache;let g;const b=h?s.filter:s.filter.getIndexedFilter();if(ce(i))g=b.updateFullNode(m.getNode(),r,null);else if(b.filtersNodes()&&!m.isFiltered()){const N=m.getNode().updateChild(i,r);g=b.updateFullNode(m.getNode(),N,null)}else{const N=ae(i);if(!m.isCompleteForPath(i)&&Ui(i)>1)return t;const I=Ie(i),B=m.getNode().getImmediateChild(N).updateChild(I,r);N===".priority"?g=b.updatePriority(m.getNode(),B):g=b.updateChild(m.getNode(),N,B,I,Xb,null)}const v=Vb(t,g,m.isFullyInitialized()||ce(i),b.filtersNodes()),E=new Dd(o,v,u);return Wb(s,v,i,o,E,d)}function Vh(s,t,i,r,o,u,h){const d=t.eventCache;let m,g;const b=new Dd(o,t,u);if(ce(i))g=s.filter.updateFullNode(t.eventCache.getNode(),r,h),m=Hr(t,g,!0,s.filter.filtersNodes());else{const v=ae(i);if(v===".priority")g=s.filter.updatePriority(t.eventCache.getNode(),r),m=Hr(t,g,d.isFullyInitialized(),d.isFiltered());else{const E=Ie(i),N=d.getNode().getImmediateChild(v);let I;if(ce(E))I=r;else{const z=b.getCompleteChild(v);z!=null?bd(E)===".priority"&&z.getChild(Lb(E)).isEmpty()?I=z:I=z.updateChild(E,r):I=J.EMPTY_NODE}if(N.equals(I))m=t;else{const z=s.filter.updateChild(d.getNode(),v,I,E,b,h);m=Hr(t,z,d.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function tv(s,t){return s.eventCache.isCompleteForChild(t)}function eA(s,t,i,r,o,u,h){let d=t;return r.foreach((m,g)=>{const b=Be(i,m);tv(t,ae(b))&&(d=Vh(s,d,b,g,o,u,h))}),r.foreach((m,g)=>{const b=Be(i,m);tv(t,ae(b))||(d=Vh(s,d,b,g,o,u,h))}),d}function nv(s,t,i){return i.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function Gh(s,t,i,r,o,u,h,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;ce(i)?g=r:g=new De(null).setTree(i,r);const b=t.serverCache.getNode();return g.children.inorderTraversal((v,E)=>{if(b.hasChild(v)){const N=t.serverCache.getNode().getImmediateChild(v),I=nv(s,N,E);m=lu(s,m,new Re(v),I,o,u,h,d)}}),g.children.inorderTraversal((v,E)=>{const N=!t.serverCache.isCompleteForChild(v)&&E.value===null;if(!b.hasChild(v)&&!N){const I=t.serverCache.getNode().getImmediateChild(v),z=nv(s,I,E);m=lu(s,m,new Re(v),z,o,u,h,d)}}),m}function tA(s,t,i,r,o,u,h){if(ru(o,i)!=null)return t;const d=t.serverCache.isFiltered(),m=t.serverCache;if(r.value!=null){if(ce(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return lu(s,t,i,m.getNode().getChild(i),o,u,d,h);if(ce(i)){let g=new De(null);return m.getNode().forEachChild(fa,(b,v)=>{g=g.set(new Re(b),v)}),Gh(s,t,i,g,o,u,d,h)}else return t}else{let g=new De(null);return r.foreach((b,v)=>{const E=Be(i,b);m.isCompleteForPath(E)&&(g=g.set(b,m.getNode().getChild(E)))}),Gh(s,t,i,g,o,u,d,h)}}function nA(s,t,i,r,o){const u=t.serverCache,h=Vb(t,u.getNode(),u.isFullyInitialized()||ce(i),u.isFiltered());return Wb(s,h,i,r,Xb,o)}function iA(s,t,i,r,o,u){let h;if(ru(r,i)!=null)return t;{const d=new Dd(r,t,o),m=t.eventCache.getNode();let g;if(ce(i)||ae(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=au(r,_s(t));else{const v=t.serverCache.getNode();H(v instanceof J,"serverChildren would be complete if leaf node"),b=xd(r,v)}b=b,g=s.filter.updateFullNode(m,b,u)}else{const b=ae(i);let v=Od(r,b,t.serverCache);v==null&&t.serverCache.isCompleteForChild(b)&&(v=m.getImmediateChild(b)),v!=null?g=s.filter.updateChild(m,b,v,Ie(i),d,u):t.eventCache.getNode().hasChild(b)?g=s.filter.updateChild(m,b,J.EMPTY_NODE,Ie(i),d,u):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=au(r,_s(t)),h.isLeafNode()&&(g=s.filter.updateFullNode(g,h,u)))}return h=t.serverCache.isFullyInitialized()||ru(r,ge())!=null,Hr(t,g,h,s.filter.filtersNodes())}}class sA{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Td(r.getIndex()),u=SR(r);this.processor_=WR(u);const h=i.serverCache,d=i.eventCache,m=o.updateFullNode(J.EMPTY_NODE,h.getNode(),null),g=u.updateFullNode(J.EMPTY_NODE,d.getNode(),null),b=new ji(m,h.isFullyInitialized(),o.filtersNodes()),v=new ji(g,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=Cu(v,b),this.eventGenerator_=new xR(this.query_)}get query(){return this.query_}}function aA(s){return s.viewCache_.serverCache.getNode()}function rA(s){return su(s.viewCache_)}function lA(s,t){const i=_s(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ce(t)&&!i.getImmediateChild(ae(t)).isEmpty())?i.getChild(t):null}function iv(s){return s.eventRegistrations_.length===0}function oA(s,t){s.eventRegistrations_.push(t)}function sv(s,t,i){const r=[];if(i){H(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&r.push(h)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const h=s.eventRegistrations_[u];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function av(s,t,i,r){t.type===on.MERGE&&t.source.queryId!==null&&(H(_s(s.viewCache_),"We should always have a full cache before handling merges"),H(su(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=JR(s.processor_,o,t,i,r);return ZR(s.processor_,u.viewCache),H(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,Zb(s,u.changes,u.viewCache.eventCache.getNode(),null)}function uA(s,t){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Pe,(u,h)=>{r.push(va(u,h))}),i.isFullyInitialized()&&r.push(Pb(i.getNode())),Zb(s,r,i.getNode(),t)}function Zb(s,t,i,r){const o=r?[r]:s.eventRegistrations_;return OR(s.eventGenerator_,t,i,o)}let ou;class Jb{constructor(){this.views=new Map}}function cA(s){H(!ou,"__referenceConstructor has already been defined"),ou=s}function fA(){return H(ou,"Reference.ts has not been loaded"),ou}function hA(s){return s.views.size===0}function Id(s,t,i,r){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return H(u!=null,"SyncTree gave us an op for an invalid query."),av(u,t,i,r)}else{let u=[];for(const h of s.views.values())u=u.concat(av(h,t,i,r));return u}}function $b(s,t,i,r,o){const u=t._queryIdentifier,h=s.views.get(u);if(!h){let d=au(i,o?r:null),m=!1;d?m=!0:r instanceof J?(d=xd(i,r),m=!1):(d=J.EMPTY_NODE,m=!1);const g=Cu(new ji(d,m,!1),new ji(r,o,!1));return new sA(t,g)}return h}function dA(s,t,i,r,o,u){const h=$b(s,t,r,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,h),oA(h,i),uA(h,i)}function mA(s,t,i,r){const o=t._queryIdentifier,u=[];let h=[];const d=zi(s);if(o==="default")for(const[m,g]of s.views.entries())h=h.concat(sv(g,i,r)),iv(g)&&(s.views.delete(m),g.query._queryParams.loadsAllData()||u.push(g.query));else{const m=s.views.get(o);m&&(h=h.concat(sv(m,i,r)),iv(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return d&&!zi(s)&&u.push(new(fA())(t._repo,t._path)),{removed:u,events:h}}function eE(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function ki(s,t){let i=null;for(const r of s.views.values())i=i||lA(r,t);return i}function tE(s,t){if(t._queryParams.loadsAllData())return wu(s);{const r=t._queryIdentifier;return s.views.get(r)}}function nE(s,t){return tE(s,t)!=null}function zi(s){return wu(s)!=null}function wu(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let uu;function pA(s){H(!uu,"__referenceConstructor has already been defined"),uu=s}function gA(){return H(uu,"Reference.ts has not been loaded"),uu}let _A=1;class rv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new De(null),this.pendingWriteTree_=FR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function iE(s,t,i,r,o){return LR(s.pendingWriteTree_,t,i,r,o),o?Da(s,new gs(Nd(),t,i)):[]}function yA(s,t,i,r){kR(s.pendingWriteTree_,t,i,r);const o=De.fromObject(i);return Da(s,new ba(Nd(),t,o))}function Oi(s,t,i=!1){const r=UR(s.pendingWriteTree_,t);if(jR(s.pendingWriteTree_,t)){let u=new De(null);return r.snap!=null?u=u.set(ge(),!0):dt(r.children,h=>{u=u.set(new Re(h),!0)}),Da(s,new iu(r.path,u,i))}else return[]}function cl(s,t,i){return Da(s,new gs(Rd(),t,i))}function vA(s,t,i){const r=De.fromObject(i);return Da(s,new ba(Rd(),t,r))}function bA(s,t){return Da(s,new Zr(Rd(),t))}function EA(s,t,i){const r=Ld(s,i);if(r){const o=kd(r),u=o.path,h=o.queryId,d=yt(u,t),m=new Zr(Ad(h),d);return Ud(s,u,m)}else return[]}function cu(s,t,i,r,o=!1){const u=t._path,h=s.syncPointTree_.get(u);let d=[];if(h&&(t._queryIdentifier==="default"||nE(h,t))){const m=mA(h,t,i,r);hA(h)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const g=m.removed;if(d=m.events,!o){const b=g.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(u,(E,N)=>zi(N));if(b&&!v){const E=s.syncPointTree_.subtree(u);if(!E.isEmpty()){const N=TA(E);for(let I=0;I<N.length;++I){const z=N[I],B=z.query,G=lE(s,z);s.listenProvider_.startListening(Pr(B),Jr(s,B),G.hashFn,G.onComplete)}}}!v&&g.length>0&&!r&&(b?s.listenProvider_.stopListening(Pr(t),null):g.forEach(E=>{const N=s.queryToTagMap.get(Nu(E));s.listenProvider_.stopListening(Pr(E),N)}))}wA(s,g)}return d}function sE(s,t,i,r){const o=Ld(s,r);if(o!=null){const u=kd(o),h=u.path,d=u.queryId,m=yt(h,t),g=new gs(Ad(d),m,i);return Ud(s,h,g)}else return[]}function SA(s,t,i,r){const o=Ld(s,r);if(o){const u=kd(o),h=u.path,d=u.queryId,m=yt(h,t),g=De.fromObject(i),b=new ba(Ad(d),m,g);return Ud(s,h,b)}else return[]}function Yh(s,t,i,r=!1){const o=t._path;let u=null,h=!1;s.syncPointTree_.foreachOnPath(o,(E,N)=>{const I=yt(E,o);u=u||ki(N,I),h=h||zi(N)});let d=s.syncPointTree_.get(o);d?(h=h||zi(d),u=u||ki(d,ge())):(d=new Jb,s.syncPointTree_=s.syncPointTree_.set(o,d));let m;u!=null?m=!0:(m=!1,u=J.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((N,I)=>{const z=ki(I,ge());z&&(u=u.updateImmediateChild(N,z))}));const g=nE(d,t);if(!g&&!t._queryParams.loadsAllData()){const E=Nu(t);H(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const N=NA();s.queryToTagMap.set(E,N),s.tagToQueryMap.set(N,E)}const b=Tu(s.pendingWriteTree_,o);let v=dA(d,t,i,b,u,m);if(!g&&!h&&!r){const E=tE(d,t);v=v.concat(RA(s,t,E))}return v}function Md(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(h,d)=>{const m=yt(h,t),g=ki(d,m);if(g)return g});return Fb(o,t,u,i,!0)}function CA(s,t){const i=t._path;let r=null;s.syncPointTree_.foreachOnPath(i,(g,b)=>{const v=yt(g,i);r=r||ki(b,v)});let o=s.syncPointTree_.get(i);o?r=r||ki(o,ge()):(o=new Jb,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=r!=null,h=u?new ji(r,!0,!1):null,d=Tu(s.pendingWriteTree_,t._path),m=$b(o,t,d,u?h.getNode():J.EMPTY_NODE,u);return rA(m)}function Da(s,t){return aE(t,s.syncPointTree_,null,Tu(s.pendingWriteTree_,ge()))}function aE(s,t,i,r){if(ce(s.path))return rE(s,t,i,r);{const o=t.get(ge());i==null&&o!=null&&(i=ki(o,ge()));let u=[];const h=ae(s.path),d=s.operationForChild(h),m=t.children.get(h);if(m&&d){const g=i?i.getImmediateChild(h):null,b=Kb(r,h);u=u.concat(aE(d,m,g,b))}return o&&(u=u.concat(Id(o,s,r,i))),u}}function rE(s,t,i,r){const o=t.get(ge());i==null&&o!=null&&(i=ki(o,ge()));let u=[];return t.children.inorderTraversal((h,d)=>{const m=i?i.getImmediateChild(h):null,g=Kb(r,h),b=s.operationForChild(h);b&&(u=u.concat(rE(b,d,m,g)))}),o&&(u=u.concat(Id(o,s,r,i))),u}function lE(s,t){const i=t.query,r=Jr(s,i);return{hashFn:()=>(aA(t)||J.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?EA(s,i._path,r):bA(s,i._path);{const u=bN(o,i);return cu(s,i,null,u)}}}}function Jr(s,t){const i=Nu(t);return s.queryToTagMap.get(i)}function Nu(s){return s._path.toString()+"$"+s._queryIdentifier}function Ld(s,t){return s.tagToQueryMap.get(t)}function kd(s){const t=s.indexOf("$");return H(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Re(s.substr(0,t))}}function Ud(s,t,i){const r=s.syncPointTree_.get(t);H(r,"Missing sync point for query tag that we're tracking");const o=Tu(s.pendingWriteTree_,t);return Id(r,i,o,null)}function TA(s){return s.fold((t,i,r)=>{if(i&&zi(i))return[wu(i)];{let o=[];return i&&(o=eE(i)),dt(r,(u,h)=>{o=o.concat(h)}),o}})}function Pr(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(gA())(s._repo,s._path):s}function wA(s,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const o=Nu(r),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function NA(){return _A++}function RA(s,t,i){const r=t._path,o=Jr(s,t),u=lE(s,i),h=s.listenProvider_.startListening(Pr(t),o,u.hashFn,u.onComplete),d=s.syncPointTree_.subtree(r);if(o)H(!zi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((g,b,v)=>{if(!ce(g)&&b&&zi(b))return[wu(b).query];{let E=[];return b&&(E=E.concat(eE(b).map(N=>N.query))),dt(v,(N,I)=>{E=E.concat(I)}),E}});for(let g=0;g<m.length;++g){const b=m[g];s.listenProvider_.stopListening(Pr(b),Jr(s,b))}}return h}class jd{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new jd(i)}node(){return this.node_}}class zd{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Be(this.path_,t);return new zd(this.syncTree_,i)}node(){return Md(this.syncTree_,this.path_)}}const AA=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},lv=function(s,t,i){if(!s||typeof s!="object")return s;if(H(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return xA(s[".sv"],t,i);if(typeof s[".sv"]=="object")return OA(s[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},xA=function(s,t,i){if(s==="timestamp")return i.timestamp;H(!1,"Unexpected server value: "+s)},OA=function(s,t,i){s.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);const o=t.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},oE=function(s,t,i,r){return Hd(t,new zd(i,s),r)},uE=function(s,t,i){return Hd(s,new jd(t),i)};function Hd(s,t,i){const r=s.getPriority().val(),o=lv(r,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const h=s,d=lv(h.getValue(),t,i);return d!==h.getValue()||o!==h.getPriority().val()?new st(d,$e(o)):s}else{const h=s;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new st(o))),h.forEachChild(Pe,(d,m)=>{const g=Hd(m,t.getImmediateChild(d),i);g!==m&&(u=u.updateImmediateChild(d,g))}),u}}class Bd{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function Pd(s,t){let i=t instanceof Re?t:new Re(t),r=s,o=ae(i);for(;o!==null;){const u=pa(r.node.children,o)||{children:{},childCount:0};r=new Bd(o,r,u),i=Ie(i),o=ae(i)}return r}function Ia(s){return s.node.value}function cE(s,t){s.node.value=t,Fh(s)}function fE(s){return s.node.childCount>0}function DA(s){return Ia(s)===void 0&&!fE(s)}function Ru(s,t){dt(s.node.children,(i,r)=>{t(new Bd(i,s,r))})}function hE(s,t,i,r){i&&t(s),Ru(s,o=>{hE(o,t,!0)})}function IA(s,t,i){let r=s.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function fl(s){return new Re(s.parent===null?s.name:fl(s.parent)+"/"+s.name)}function Fh(s){s.parent!==null&&MA(s.parent,s.name,s)}function MA(s,t,i){const r=DA(i),o=Cn(s.node.children,t);r&&o?(delete s.node.children[t],s.node.childCount--,Fh(s)):!r&&!o&&(s.node.children[t]=i.node,s.node.childCount++,Fh(s))}const LA=/[\[\].#$\/\u0000-\u001F\u007F]/,kA=/[\[\].#$\u0000-\u001F\u007F]/,Sh=10*1024*1024,qd=function(s){return typeof s=="string"&&s.length!==0&&!LA.test(s)},dE=function(s){return typeof s=="string"&&s.length!==0&&!kA.test(s)},UA=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),dE(s)},jA=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!pd(s)||s&&typeof s=="object"&&Cn(s,".sv")},mE=function(s,t,i,r){r&&t===void 0||Au(vu(s,"value"),t,i)},Au=function(s,t,i){const r=i instanceof Re?new eR(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+cs(r));if(typeof t=="function")throw new Error(s+"contains a function "+cs(r)+" with contents = "+t.toString());if(pd(t))throw new Error(s+"contains "+t.toString()+" "+cs(r));if(typeof t=="string"&&t.length>Sh/3&&bu(t)>Sh)throw new Error(s+"contains a string greater than "+Sh+" utf8 bytes "+cs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(dt(t,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!qd(h)))throw new Error(s+" contains an invalid key ("+h+") "+cs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tR(r,h),Au(s,d,r),nR(r)}),o&&u)throw new Error(s+' contains ".value" child '+cs(r)+" in addition to actual children.")}},zA=function(s,t){let i,r;for(i=0;i<t.length;i++){r=t[i];const u=Kr(r);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!qd(u[h]))throw new Error(s+"contains an invalid key ("+u[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort($N);let o=null;for(i=0;i<t.length;i++){if(r=t[i],o!==null&&en(o,r))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},HA=function(s,t,i,r){const o=vu(s,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];dt(t,(h,d)=>{const m=new Re(h);if(Au(o,d,Be(i,m)),bd(m)===".priority"&&!jA(d))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(m)}),zA(o,u)},pE=function(s,t,i,r){if(!dE(i))throw new Error(vu(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},BA=function(s,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),pE(s,t,i)},Vd=function(s,t){if(ae(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},PA=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!qd(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!UA(i))throw new Error(vu(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class qA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xu(s,t){let i=null;for(let r=0;r<t.length;r++){const o=t[r],u=o.getPath();i!==null&&!Ed(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function gE(s,t,i){xu(s,i),_E(s,r=>Ed(r,t))}function tn(s,t,i){xu(s,i),_E(s,r=>en(r,t)||en(t,r))}function _E(s,t){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const u=o.path;t(u)?(VA(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function VA(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const r=i.getEventRunner();jr&&ht("event: "+i.toString()),Oa(r)}}}const GA="repo_interrupt",YA=25;class FA{constructor(t,i,r,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nu(),this.transactionQueueTree_=new Bd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KA(s,t,i){if(s.stats_=yd(s.repoInfo_),s.forceRestClient_||TN())s.server_=new tu(s.repoInfo_,(r,o,u,h)=>{ov(s,r,o,u,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>uv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Kn(s.repoInfo_,t,(r,o,u,h)=>{ov(s,r,o,u,h)},r=>{uv(s,r)},r=>{QA(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=xN(s.repoInfo_,()=>new AR(s.stats_,s.server_)),s.infoData_=new CR,s.infoSyncTree_=new rv({startListening:(r,o,u,h)=>{let d=[];const m=s.infoData_.getNode(r._path);return m.isEmpty()||(d=cl(s.infoSyncTree_,r._path,m),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),Gd(s,"connected",!1),s.serverSyncTree_=new rv({startListening:(r,o,u,h)=>(s.server_.listen(r,u,o,(d,m)=>{const g=h(d,m);tn(s.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function yE(s){const i=s.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Ou(s){return AA({timestamp:yE(s)})}function ov(s,t,i,r,o){s.dataUpdateCount++;const u=new Re(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(r){const m=Zo(i,g=>$e(g));h=SA(s.serverSyncTree_,u,m,o)}else{const m=$e(i);h=sE(s.serverSyncTree_,u,m,o)}else if(r){const m=Zo(i,g=>$e(g));h=vA(s.serverSyncTree_,u,m)}else{const m=$e(i);h=cl(s.serverSyncTree_,u,m)}let d=u;h.length>0&&(d=Sa(s,u)),tn(s.eventQueue_,d,h)}function uv(s,t){Gd(s,"connected",t),t===!1&&JA(s)}function QA(s,t){dt(t,(i,r)=>{Gd(s,i,r)})}function Gd(s,t,i){const r=new Re("/.info/"+t),o=$e(i);s.infoData_.updateSnapshot(r,o);const u=cl(s.infoSyncTree_,r,o);tn(s.eventQueue_,r,u)}function Yd(s){return s.nextWriteId_++}function XA(s,t,i){const r=CA(s.serverSyncTree_,t);return r!=null?Promise.resolve(r):s.server_.get(t).then(o=>{const u=$e(o).withIndex(t._queryParams.getIndex());Yh(s.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=cl(s.serverSyncTree_,t._path,u);else{const d=Jr(s.serverSyncTree_,t);h=sE(s.serverSyncTree_,t._path,u,d)}return tn(s.eventQueue_,t._path,h),cu(s.serverSyncTree_,t,i,null,!0),u},o=>(hl(s,"get for query "+et(t)+" failed: "+o),Promise.reject(new Error(o))))}function WA(s,t,i,r,o){hl(s,"set",{path:t.toString(),value:i,priority:r});const u=Ou(s),h=$e(i,r),d=Md(s.serverSyncTree_,t),m=uE(h,d,u),g=Yd(s),b=iE(s.serverSyncTree_,t,m,g,!0);xu(s.eventQueue_,b),s.server_.put(t.toString(),h.val(!0),(E,N)=>{const I=E==="ok";I||vt("set at "+t+" failed: "+E);const z=Oi(s.serverSyncTree_,g,!I);tn(s.eventQueue_,t,z),Kh(s,o,E,N)});const v=Kd(s,t);Sa(s,v),tn(s.eventQueue_,v,[])}function ZA(s,t,i,r){hl(s,"update",{path:t.toString(),value:i});let o=!0;const u=Ou(s),h={};if(dt(i,(d,m)=>{o=!1,h[d]=oE(Be(t,d),$e(m),s.serverSyncTree_,u)}),o)ht("update() called with empty data.  Don't do anything."),Kh(s,r,"ok",void 0);else{const d=Yd(s),m=yA(s.serverSyncTree_,t,h,d);xu(s.eventQueue_,m),s.server_.merge(t.toString(),i,(g,b)=>{const v=g==="ok";v||vt("update at "+t+" failed: "+g);const E=Oi(s.serverSyncTree_,d,!v),N=E.length>0?Sa(s,t):t;tn(s.eventQueue_,N,E),Kh(s,r,g,b)}),dt(i,g=>{const b=Kd(s,Be(t,g));Sa(s,b)}),tn(s.eventQueue_,t,[])}}function JA(s){hl(s,"onDisconnectEvents");const t=Ou(s),i=nu();Hh(s.onDisconnect_,ge(),(o,u)=>{const h=oE(o,u,s.serverSyncTree_,t);qb(i,o,h)});let r=[];Hh(i,ge(),(o,u)=>{r=r.concat(cl(s.serverSyncTree_,o,u));const h=Kd(s,o);Sa(s,h)}),s.onDisconnect_=nu(),tn(s.eventQueue_,ge(),r)}function $A(s,t,i){let r;ae(t._path)===".info"?r=Yh(s.infoSyncTree_,t,i):r=Yh(s.serverSyncTree_,t,i),gE(s.eventQueue_,t._path,r)}function ex(s,t,i){let r;ae(t._path)===".info"?r=cu(s.infoSyncTree_,t,i):r=cu(s.serverSyncTree_,t,i),gE(s.eventQueue_,t._path,r)}function tx(s){s.persistentConnection_&&s.persistentConnection_.interrupt(GA)}function hl(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ht(i,...t)}function Kh(s,t,i,r){t&&Oa(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const h=new Error(u);h.code=o,t(h)}})}function vE(s,t,i){return Md(s.serverSyncTree_,t,i)||J.EMPTY_NODE}function Fd(s,t=s.transactionQueueTree_){if(t||Du(s,t),Ia(t)){const i=EE(s,t);H(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&nx(s,fl(t),i)}else fE(t)&&Ru(t,i=>{Fd(s,i)})}function nx(s,t,i){const r=i.map(g=>g.currentWriteId),o=vE(s,t,r);let u=o;const h=o.hash();for(let g=0;g<i.length;g++){const b=i[g];H(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const v=yt(t,b.path);u=u.updateChild(v,b.currentOutputSnapshotRaw)}const d=u.val(!0),m=t;s.server_.put(m.toString(),d,g=>{hl(s,"transaction put response",{path:m.toString(),status:g});let b=[];if(g==="ok"){const v=[];for(let E=0;E<i.length;E++)i[E].status=2,b=b.concat(Oi(s.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&v.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();Du(s,Pd(s.transactionQueueTree_,t)),Fd(s,s.transactionQueueTree_),tn(s.eventQueue_,t,b);for(let E=0;E<v.length;E++)Oa(v[E])}else{if(g==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{vt("transaction at "+m.toString()+" failed: "+g);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=g}Sa(s,t)}},h)}function Sa(s,t){const i=bE(s,t),r=fl(i),o=EE(s,i);return ix(s,o,r),r}function ix(s,t,i){if(t.length===0)return;const r=[];let o=[];const h=t.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const m=t[d],g=yt(i,m.path);let b=!1,v;if(H(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)b=!0,v=m.abortReason,o=o.concat(Oi(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=YA)b=!0,v="maxretry",o=o.concat(Oi(s.serverSyncTree_,m.currentWriteId,!0));else{const E=vE(s,m.path,h);m.currentInputSnapshot=E;const N=t[d].update(E.val());if(N!==void 0){Au("transaction failed: Data returned ",N,m.path);let I=$e(N);typeof N=="object"&&N!=null&&Cn(N,".priority")||(I=I.updatePriority(E.getPriority()));const B=m.currentWriteId,G=Ou(s),P=uE(I,E,G);m.currentOutputSnapshotRaw=I,m.currentOutputSnapshotResolved=P,m.currentWriteId=Yd(s),h.splice(h.indexOf(B),1),o=o.concat(iE(s.serverSyncTree_,m.path,P,m.currentWriteId,m.applyLocally)),o=o.concat(Oi(s.serverSyncTree_,B,!0))}else b=!0,v="nodata",o=o.concat(Oi(s.serverSyncTree_,m.currentWriteId,!0))}tn(s.eventQueue_,i,o),o=[],b&&(t[d].status=2,(function(E){setTimeout(E,Math.floor(0))})(t[d].unwatcher),t[d].onComplete&&(v==="nodata"?r.push(()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot)):r.push(()=>t[d].onComplete(new Error(v),!1,null))))}Du(s,s.transactionQueueTree_);for(let d=0;d<r.length;d++)Oa(r[d]);Fd(s,s.transactionQueueTree_)}function bE(s,t){let i,r=s.transactionQueueTree_;for(i=ae(t);i!==null&&Ia(r)===void 0;)r=Pd(r,i),t=Ie(t),i=ae(t);return r}function EE(s,t){const i=[];return SE(s,t,i),i.sort((r,o)=>r.order-o.order),i}function SE(s,t,i){const r=Ia(t);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);Ru(t,o=>{SE(s,o,i)})}function Du(s,t){const i=Ia(t);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,cE(t,i.length>0?i:void 0)}Ru(t,r=>{Du(s,r)})}function Kd(s,t){const i=fl(bE(s,t)),r=Pd(s.transactionQueueTree_,t);return IA(r,o=>{Ch(s,o)}),Ch(s,r),hE(r,o=>{Ch(s,o)}),i}function Ch(s,t){const i=Ia(t);if(i){const r=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(H(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(H(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Oi(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&r.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?cE(t,void 0):i.length=u+1,tn(s.eventQueue_,fl(t),o);for(let h=0;h<r.length;h++)Oa(r[h])}}function sx(s){let t="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function ax(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${i}' in query '${s}'`)}return t}const cv=function(s,t){const i=rx(s),r=i.namespace;i.domain==="firebase.com"&&Zn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||pN();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new wb(i.host,i.secure,r,o,t,"",r!==i.subdomain),path:new Re(i.pathString)}},rx=function(s){let t="",i="",r="",o="",u="",h=!0,d="https",m=443;if(typeof s=="string"){let g=s.indexOf("//");g>=0&&(d=s.substring(0,g-1),s=s.substring(g+2));let b=s.indexOf("/");b===-1&&(b=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),t=s.substring(0,Math.min(b,v)),b<v&&(o=sx(s.substring(b,v)));const E=ax(s.substring(Math.min(s.length,v)));g=t.indexOf(":"),g>=0?(h=d==="https"||d==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const N=t.slice(0,g);if(N.toLowerCase()==="localhost")i="localhost";else if(N.split(".").length<=2)i=N;else{const I=t.indexOf(".");r=t.substring(0,I).toLowerCase(),i=t.substring(I+1),u=r}"ns"in E&&(u=E.ns)}return{host:t,port:m,domain:i,subdomain:r,secure:h,scheme:d,pathString:o,namespace:u}};const fv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lx=(function(){let s=0;const t=[];return function(i){const r=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=fv.charAt(i%64),i=Math.floor(i/64);H(i===0,"Cannot push at time == 0");let h=u.join("");if(r){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=fv.charAt(t[o]);return H(h.length===20,"nextPushId: Length should be 20."),h}})();class ox{constructor(t,i,r,o){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class ux{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class CE{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Qd{constructor(t,i,r,o){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return ce(this._path)?null:bd(this._path)}get ref(){return new $n(this._repo,this._path)}get _queryIdentifier(){const t=Wy(this._queryParams),i=gd(t);return i==="{}"?"default":i}get _queryObject(){return Wy(this._queryParams)}isEqual(t){if(t=pt(t),!(t instanceof Qd))return!1;const i=this._repo===t._repo,r=Ed(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+JN(this._path)}}class $n extends Qd{constructor(t,i){super(t,i,new wd,!1)}get parent(){const t=Lb(this._path);return t===null?null:new $n(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class $r{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Re(t),r=el(this.ref,t);return new $r(this._node.getChild(i),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new $r(o,el(this.ref,r),Pe)))}hasChild(t){const i=new Re(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function We(s,t){return s=pt(s),s._checkNotDeleted("ref"),t!==void 0?el(s._root,t):s._root}function el(s,t){return s=pt(s),ae(s._path)===null?BA("child","path",t):pE("child","path",t),new $n(s._repo,Be(s._path,t))}function TE(s,t){s=pt(s),Vd("push",s._path),mE("push",t,s._path,!0);const i=yE(s._repo),r=lx(i),o=el(s,r),u=el(s,r);let h;return t!=null?h=Iu(u,t).then(()=>u):h=Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function wE(s){return Vd("remove",s._path),Iu(s,null)}function Iu(s,t){s=pt(s),Vd("set",s._path),mE("set",t,s._path,!1);const i=new al;return WA(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function NE(s,t){HA("update",t,s._path);const i=new al;return ZA(s._repo,s._path,t,i.wrapCallback(()=>{})),i.promise}function RE(s){s=pt(s);const t=new CE(()=>{}),i=new Mu(t);return XA(s._repo,s,i).then(r=>new $r(r,new $n(s._repo,s._path),s._queryParams.getIndex()))}class Mu{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new ox("value",this,new $r(t.snapshotNode,new $n(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new ux(this,t,i):null}matches(t){return t instanceof Mu?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function cx(s,t,i,r,o){const u=new CE(i,void 0),h=new Mu(u);return $A(s._repo,s,h),()=>ex(s._repo,s,h)}function Sn(s,t,i,r){return cx(s,"value",t)}cA($n);pA($n);const fx="FIREBASE_DATABASE_EMULATOR_HOST",Qh={};let hx=!1;function dx(s,t,i,r){const o=t.lastIndexOf(":"),u=t.substring(0,o),h=Ra(u);s.repoInfo_=new wb(t,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function mx(s,t,i,r,o){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ht("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=cv(u,o),d=h.repoInfo,m;typeof process<"u"&&Iy&&(m=Iy[fx]),m?(u=`http://${m}?ns=${d.namespace}`,h=cv(u,o),d=h.repoInfo):h.repoInfo.secure;const g=new NN(s.name,s.options,t);PA("Invalid Firebase Database URL",h),ce(h.path)||Zn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=gx(d,s,g,new wN(s,i));return new _x(b,s)}function px(s,t){const i=Qh[t];(!i||i[s.key]!==s)&&Zn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),tx(s),delete i[s.key]}function gx(s,t,i,r){let o=Qh[t.name];o||(o={},Qh[t.name]=o);let u=o[s.toURLString()];return u&&Zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new FA(s,hx,i,r),o[s.toURLString()]=u,u}class _x{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $n(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(px(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Zn("Cannot call "+t+" on a deleted database.")}}function yx(s=lb(),t){const i=md(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=L1("database");r&&vx(i,...r)}return i}function vx(s,t,i,r={}){s=pt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&ds(r,u.repoInfo_.emulatorOptions))return;Zn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Vo(Vo.OWNER);else if(r.mockUserToken){const d=typeof r.mockUserToken=="string"?r.mockUserToken:k1(r.mockUserToken,s.app.options.projectId);h=new Vo(d)}Ra(t)&&(tb(t),nb("Database",!0)),dx(u,o,r,h)}function bx(s){uN(xa),_a(new ms("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return mx(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Mi(My,Ly,s),Mi(My,Ly,"esm2020")}Kn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Kn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};bx();function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ex=AE,xE=new rl("auth","Firebase",AE());const fu=new hd("@firebase/auth");function Sx(s,...t){fu.logLevel<=Ne.WARN&&fu.warn(`Auth (${xa}): ${s}`,...t)}function Go(s,...t){fu.logLevel<=Ne.ERROR&&fu.error(`Auth (${xa}): ${s}`,...t)}function hn(s,...t){throw Xd(s,...t)}function bn(s,...t){return Xd(s,...t)}function OE(s,t,i){const r={...Ex(),[t]:i};return new rl("auth","Firebase",r).create(t,{appName:s.name})}function Qn(s){return OE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xd(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return xE.create(s,...t)}function Z(s,t,...i){if(!s)throw Xd(t,...i)}function Gn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Go(t),new Error(t)}function Jn(s,t){s||Gn(t)}function Xh(){return typeof self<"u"&&self.location?.href||""}function Cx(){return hv()==="http:"||hv()==="https:"}function hv(){return typeof self<"u"&&self.location?.protocol||null}function Tx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cx()||H1()||"connection"in navigator)?navigator.onLine:!0}function wx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class dl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Jn(i>t,"Short delay should be less than long delay!"),this.isMobile=fd()||ib()}get(){return Tx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wd(s,t){Jn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class DE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ax=new dl(3e4,6e4);function Bi(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Pi(s,t,i,r,o={}){return IE(s,o,async()=>{let u={},h={};r&&(t==="GET"?h=r:u={body:JSON.stringify(r)});const d=Aa({key:s.config.apiKey,...h}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:m,...u};return z1()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&Ra(s.emulatorConfig.host)&&(g.credentials="include"),DE.fetch()(await ME(s,s.config.apiHost,i,d),g)})}async function IE(s,t,i){s._canInitEmulator=!1;const r={...Nx,...t};try{const o=new Ox(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Bo(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bo(s,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Bo(s,"email-already-in-use",h);if(m==="USER_DISABLED")throw Bo(s,"user-disabled",h);const b=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw OE(s,b,g);hn(s,b)}}catch(o){if(o instanceof Hi)throw o;hn(s,"network-request-failed",{message:String(o)})}}async function ml(s,t,i,r,o={}){const u=await Pi(s,t,i,r,o);return"mfaPendingCredential"in u&&hn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function ME(s,t,i,r){const o=`${t}${i}?${r}`,u=s,h=u.config.emulator?Wd(s.config,o):`${s.config.apiScheme}://${o}`;return Rx.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function xx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),Ax.get())})}}function Bo(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=bn(s,t,r);return o.customData._tokenResponse=i,o}function dv(s){return s!==void 0&&s.enterprise!==void 0}class Dx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return xx(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ix(s,t){return Pi(s,"GET","/v2/recaptchaConfig",Bi(s,t))}async function Mx(s,t){return Pi(s,"POST","/v1/accounts:delete",t)}async function hu(s,t){return Pi(s,"POST","/v1/accounts:lookup",t)}function qr(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Lx(s,t=!1){const i=pt(s),r=await i.getIdToken(t),o=Zd(r);Z(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:qr(Th(o.auth_time)),issuedAtTime:qr(Th(o.iat)),expirationTime:qr(Th(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Th(s){return Number(s)*1e3}function Zd(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Go("JWT malformed, contained fewer than 3 sections"),null;try{const o=Wo(i);return o?JSON.parse(o):(Go("Failed to decode base64 JWT payload"),null)}catch(o){return Go("Caught error parsing JWT payload as JSON",o?.toString()),null}}function mv(s){const t=Zd(s);return Z(t,"internal-error"),Z(typeof t.exp<"u","internal-error"),Z(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function tl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Hi&&kx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function kx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Ux{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wh{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=qr(this.lastLoginAt),this.creationTime=qr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function du(s){const t=s.auth,i=await s.getIdToken(),r=await tl(s,hu(t,{idToken:i}));Z(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?LE(o.providerUserInfo):[],h=zx(s.providerData,u),d=s.isAnonymous,m=!(s.email&&o.passwordHash)&&!h?.length,g=d?m:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Wh(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,b)}async function jx(s){const t=pt(s);await du(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zx(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function LE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Hx(s,t){const i=await IE(s,{},async()=>{const r=Aa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await ME(s,o,"/v1/token",`key=${u}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return s.emulatorConfig&&Ra(s.emulatorConfig.host)&&(m.credentials="include"),DE.fetch()(h,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Bx(s,t){return Pi(s,"POST","/v2/accounts:revokeToken",Bi(s,t))}class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Z(t.idToken,"internal-error"),Z(typeof t.idToken<"u","internal-error"),Z(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Z(t.length!==0,"internal-error");const i=mv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await Hx(t,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,h=new ha;return r&&(Z(typeof r=="string","internal-error",{appName:t}),h.refreshToken=r),o&&(Z(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Z(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Gn("not implemented")}}function wi(s,t){Z(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class un{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Ux(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await tl(this,this.stsTokenManager.getToken(this.auth,t));return Z(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Lx(this,t)}reload(){return jx(this)}_assign(t){this!==t&&(Z(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new un({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await du(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(Qn(this.auth));const t=await this.getIdToken();return await tl(this,Mx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,d=i.tenantId??void 0,m=i._redirectEventId??void 0,g=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:N,providerData:I,stsTokenManager:z}=i;Z(v&&z,t,"internal-error");const B=ha.fromJSON(this.name,z);Z(typeof v=="string",t,"internal-error"),wi(r,t.name),wi(o,t.name),Z(typeof E=="boolean",t,"internal-error"),Z(typeof N=="boolean",t,"internal-error"),wi(u,t.name),wi(h,t.name),wi(d,t.name),wi(m,t.name),wi(g,t.name),wi(b,t.name);const G=new un({uid:v,auth:t,email:o,emailVerified:E,displayName:r,isAnonymous:N,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:B,createdAt:g,lastLoginAt:b});return I&&Array.isArray(I)&&(G.providerData=I.map(P=>({...P}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(t,i,r=!1){const o=new ha;o.updateFromServerResponse(i);const u=new un({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await du(u),u}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];Z(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new ha;d.updateFromIdToken(r);const m=new un({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}const pv=new Map;function Yn(s){Jn(s instanceof Function,"Expected a class definition");let t=pv.get(s);return t?(Jn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,pv.set(s,t),t)}class kE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}kE.type="NONE";const gv=kE;function Yo(s,t,i){return`firebase:${s}:${t}:${i}`}class da{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Yo(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yo("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await hu(this.auth,{idToken:t}).catch(()=>{});return i?un._fromGetAccountInfoResponse(this.auth,i,t):null}return un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new da(Yn(gv),t,r);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Yn(gv);const h=Yo(r,t.config.apiKey,t.name);let d=null;for(const g of i)try{const b=await g._get(h);if(b){let v;if(typeof b=="string"){const E=await hu(t,{idToken:b}).catch(()=>{});if(!E)break;v=await un._fromGetAccountInfoResponse(t,E,b)}else v=un._fromJSON(t,b);g!==u&&(d=v),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new da(u,t,r):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new da(u,t,r))}}function _v(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(UE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PE(t))return"Blackberry";if(qE(t))return"Webos";if(jE(t))return"Safari";if((t.includes("chrome/")||zE(t))&&!t.includes("edge/"))return"Chrome";if(BE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function UE(s=bt()){return/firefox\//i.test(s)}function jE(s=bt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zE(s=bt()){return/crios\//i.test(s)}function HE(s=bt()){return/iemobile/i.test(s)}function BE(s=bt()){return/android/i.test(s)}function PE(s=bt()){return/blackberry/i.test(s)}function qE(s=bt()){return/webos/i.test(s)}function Jd(s=bt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Px(s=bt()){return Jd(s)&&!!window.navigator?.standalone}function qx(){return B1()&&document.documentMode===10}function VE(s=bt()){return Jd(s)||BE(s)||qE(s)||PE(s)||/windows phone/i.test(s)||HE(s)}function GE(s,t=[]){let i;switch(s){case"Browser":i=_v(bt());break;case"Worker":i=`${_v(bt())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${xa}/${r}`}class Vx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((h,d)=>{try{const m=t(u);h(m)}catch(m){d(m)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Gx(s,t={}){return Pi(s,"GET","/v2/passwordPolicy",Bi(s,t))}const Yx=6;class Fx{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Yx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Kx{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new Vx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await da.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await hu(this,{idToken:t}),r=await un._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($t(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===h)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await du(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($t(this.app))return Promise.reject(Qn(this));const i=t?pt(t):null;return i&&Z(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Z(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject(Qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $t(this.app)?Promise.reject(Qn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Gx(this),i=new Fx(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yn(t)||this._popupRedirectResolver;Z(i,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[Yn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const m=t.addObserver(i,r,o);return()=>{h=!0,m()}}else{const m=t.addObserver(i);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Sx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ss(s){return pt(s)}class yv{constructor(t){this.auth=t,this.observer=null,this.addObserver=W1(i=>this.observer=i)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qx(s){Lu=s}function YE(s){return Lu.loadJS(s)}function Xx(){return Lu.recaptchaEnterpriseScript}function Wx(){return Lu.gapiScript}function Zx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Jx{constructor(){this.enterprise=new $x}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class $x{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const eO="recaptcha-enterprise",FE="NO_RECAPTCHA";class tO{constructor(t){this.type=eO,this.auth=Ss(t)}async verify(t="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{Ix(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new Dx(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,h,d){const m=window.grecaptcha;dv(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{h(g)}).catch(()=>{h(FE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jx().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(d=>{if(!i&&dv(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Xx();m.length!==0&&(m+=d),YE(m).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function vv(s,t,i,r=!1,o=!1){const u=new tO(s);let h;if(o)h=FE;else try{h=await u.verify(i)}catch{h=await u.verify(i,!0)}const d={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Zh(s,t,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await vv(s,t,i,i==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await vv(s,t,i,i==="getOobCode");return r(s,h)}else return Promise.reject(u)})}function nO(s,t){const i=md(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(ds(u,t??{}))return o;hn(o,"already-initialized")}return i.initialize({options:t})}function iO(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Yn);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function sO(s,t,i){const r=Ss(s);Z(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=KE(t),{host:h,port:d}=aO(t),m=d===null?"":`:${d}`,g={url:`${u}//${h}${m}/`},b=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(ds(g,r.config.emulator)&&ds(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Ra(h)?(tb(`${u}//${h}${m}`),nb("Auth",!0)):rO()}function KE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function aO(s){const t=KE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:bv(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:bv(h)}}}function bv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function rO(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class $d{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Gn("not implemented")}_getIdTokenResponse(t){return Gn("not implemented")}_linkToIdToken(t,i){return Gn("not implemented")}_getReauthenticationResolver(t){return Gn("not implemented")}}async function lO(s,t){return Pi(s,"POST","/v1/accounts:signUp",t)}async function oO(s,t){return ml(s,"POST","/v1/accounts:signInWithPassword",Bi(s,t))}async function uO(s,t){return ml(s,"POST","/v1/accounts:signInWithEmailLink",Bi(s,t))}async function cO(s,t){return ml(s,"POST","/v1/accounts:signInWithEmailLink",Bi(s,t))}class nl extends $d{constructor(t,i,r,o=null){super("password",r),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new nl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new nl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(t,i,"signInWithPassword",oO);case"emailLink":return uO(t,{email:this._email,oobCode:this._password});default:hn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(t,r,"signUpPassword",lO);case"emailLink":return cO(t,{idToken:i,email:this._email,oobCode:this._password});default:hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ma(s,t){return ml(s,"POST","/v1/accounts:signInWithIdp",Bi(s,t))}const fO="http://localhost";class ys extends $d{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):hn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const h=new ys(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return ma(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ma(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ma(t,i)}buildRequest(){const t={requestUri:fO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Aa(i)}return t}}function hO(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dO(s){const t=Lr(kr(s)).link,i=t?Lr(kr(t)).deep_link_id:null,r=Lr(kr(s)).deep_link_id;return(r?Lr(kr(r)).link:null)||r||i||t||s}class em{constructor(t){const i=Lr(kr(t)),r=i.apiKey??null,o=i.oobCode??null,u=hO(i.mode??null);Z(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=dO(t);try{return new em(i)}catch{return null}}}class Ma{constructor(){this.providerId=Ma.PROVIDER_ID}static credential(t,i){return nl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=em.parseLink(i);return Z(r,"argument-error"),nl._fromEmailAndCode(t,r.code,r.tenantId)}}Ma.PROVIDER_ID="password";Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class QE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class pl extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ni extends pl{constructor(){super("facebook.com")}static credential(t){return ys._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ni.credentialFromTaggedObject(t)}static credentialFromError(t){return Ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ni.credential(t.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";class Ri extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ys._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ri.credentialFromTaggedObject(t)}static credentialFromError(t){return Ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ri.credential(i,r)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";class Ai extends pl{constructor(){super("github.com")}static credential(t){return ys._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ai.credential(t.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";class xi extends pl{constructor(){super("twitter.com")}static credential(t,i){return ys._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return xi.credential(i,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";async function mO(s,t){return ml(s,"POST","/v1/accounts:signUp",Bi(s,t))}class vs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const u=await un._fromIdTokenResponse(t,r,o),h=Ev(r);return new vs({user:u,providerId:h,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=Ev(r);return new vs({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function Ev(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class mu extends Hi{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new mu(t,i,r,o)}}function XE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mu._fromErrorAndOperation(s,u,t,r):u})}async function pO(s,t,i=!1){const r=await tl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return vs._forOperation(s,"link",r)}async function gO(s,t,i=!1){const{auth:r}=s;if($t(r.app))return Promise.reject(Qn(r));const o="reauthenticate";try{const u=await tl(s,XE(r,o,t,s),i);Z(u.idToken,r,"internal-error");const h=Zd(u.idToken);Z(h,r,"internal-error");const{sub:d}=h;return Z(s.uid===d,r,"user-mismatch"),vs._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&hn(r,"user-mismatch"),u}}async function WE(s,t,i=!1){if($t(s.app))return Promise.reject(Qn(s));const r="signIn",o=await XE(s,r,t),u=await vs._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}async function _O(s,t){return WE(Ss(s),t)}async function ZE(s){const t=Ss(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function JE(s,t,i){if($t(s.app))return Promise.reject(Qn(s));const r=Ss(s),h=await Zh(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&ZE(s),m}),d=await vs._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(d.user),d}function yO(s,t,i){return $t(s.app)?Promise.reject(Qn(s)):_O(pt(s),Ma.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZE(s),r})}function vO(s,t,i,r){return pt(s).onIdTokenChanged(t,i,r)}function bO(s,t,i){return pt(s).beforeAuthStateChanged(t,i)}function EO(s,t,i,r){return pt(s).onAuthStateChanged(t,i,r)}function $E(s){return pt(s).signOut()}const pu="__sak";class e0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(pu,"1"),this.storage.removeItem(pu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const SO=1e3,CO=10;class t0 extends e0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!i&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);qx()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,CO):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},SO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}t0.type="LOCAL";const TO=t0;class n0 extends e0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}n0.type="SESSION";const i0=n0;function wO(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ku{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new ku(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(h).map(async g=>g(i.origin,u)),m=await wO(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ku.receivers=[];function tm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class NO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=tm("",20);o.port1.start();const b=setTimeout(()=>{m(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(v){const E=v;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(E.data.response);break;default:clearTimeout(b),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function En(){return window}function RO(s){En().location.href=s}function s0(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function AO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xO(){return navigator?.serviceWorker?.controller||null}function OO(){return s0()?self:null}const a0="firebaseLocalStorageDb",DO=1,gu="firebaseLocalStorage",r0="fbase_key";class gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Uu(s,t){return s.transaction([gu],t?"readwrite":"readonly").objectStore(gu)}function IO(){const s=indexedDB.deleteDatabase(a0);return new gl(s).toPromise()}function Jh(){const s=indexedDB.open(a0,DO);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(gu,{keyPath:r0})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(gu)?t(r):(r.close(),await IO(),t(await Jh()))})})}async function Sv(s,t,i){const r=Uu(s,!0).put({[r0]:t,value:i});return new gl(r).toPromise()}async function MO(s,t){const i=Uu(s,!1).get(t),r=await new gl(i).toPromise();return r===void 0?null:r.value}function Cv(s,t){const i=Uu(s,!0).delete(t);return new gl(i).toPromise()}const LO=800,kO=3;class l0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jh(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>kO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ku._getInstance(OO()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AO(),!this.activeServiceWorker)return;this.sender=new NO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jh();return await Sv(t,pu,"1"),await Cv(t,pu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>MO(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Cv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Uu(o,!1).getAll();return new gl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l0.type="LOCAL";const UO=l0;new dl(3e4,6e4);function jO(s,t){return t?Yn(t):(Z(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class nm extends $d{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ma(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ma(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ma(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function zO(s){return WE(s.auth,new nm(s),s.bypassAuthState)}function HO(s){const{auth:t,user:i}=s;return Z(i,t,"internal-error"),gO(i,new nm(s),s.bypassAuthState)}async function BO(s){const{auth:t,user:i}=s;return Z(i,t,"internal-error"),pO(i,new nm(s),s.bypassAuthState)}class o0{constructor(t,i,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:h,type:d}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zO;case"linkViaPopup":case"linkViaRedirect":return BO;case"reauthViaPopup":case"reauthViaRedirect":return HO;default:hn(this.auth,"internal-error")}}resolve(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PO=new dl(2e3,1e4);class ua extends o0{constructor(t,i,r,o,u){super(t,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Z(t,this.auth,"internal-error"),t}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const t=tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PO.get())};t()}}ua.currentPopupAction=null;const qO="pendingRedirect",Fo=new Map;class VO extends o0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Fo.get(this.auth._key());if(!t){try{const r=await GO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Fo.set(this.auth._key(),t)}return this.bypassAuthState||Fo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GO(s,t){const i=KO(t),r=FO(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function YO(s,t){Fo.set(s._key(),t)}function FO(s){return Yn(s._redirectPersistence)}function KO(s){return Yo(qO,s.config.apiKey,s.name)}async function QO(s,t,i=!1){if($t(s.app))return Promise.reject(Qn(s));const r=Ss(s),o=jO(r,t),h=await new VO(r,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,t)),h}const XO=600*1e3;class WO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZO(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!u0(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(t))}saveEventToCache(t){this.cachedEventUids.add(Tv(t)),this.lastProcessedEventTime=Date.now()}}function Tv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function u0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function ZO(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u0(s);default:return!1}}async function JO(s,t={}){return Pi(s,"GET","/v1/projects",t)}const $O=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eD=/^https?/;async function tD(s){if(s.config.emulator)return;const{authorizedDomains:t}=await JO(s);for(const i of t)try{if(nD(i))return}catch{}hn(s,"unauthorized-domain")}function nD(s){const t=Xh(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===r}if(!eD.test(i))return!1;if($O.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const iD=new dl(3e4,6e4);function wv(){const s=En().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function sD(s){return new Promise((t,i)=>{function r(){wv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wv(),i(bn(s,"network-request-failed"))},timeout:iD.get()})}if(En().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(En().gapi?.load)r();else{const o=Zx("iframefcb");return En()[o]=()=>{gapi.load?r():i(bn(s,"network-request-failed"))},YE(`${Wx()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw Ko=null,t})}let Ko=null;function aD(s){return Ko=Ko||sD(s),Ko}const rD=new dl(5e3,15e3),lD="__/auth/iframe",oD="emulator/auth/iframe",uD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fD(s){const t=s.config;Z(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Wd(t,oD):`https://${s.config.authDomain}/${lD}`,r={apiKey:t.apiKey,appName:s.name,v:xa},o=cD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Aa(r).slice(1)}`}async function hD(s){const t=await aD(s),i=En().gapi;return Z(i,s,"internal-error"),t.open({where:document.body,url:fD(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=bn(s,"network-request-failed"),d=En().setTimeout(()=>{u(h)},rD.get());function m(){En().clearTimeout(d),o(r)}r.ping(m).then(m,()=>{u(h)})}))}const dD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mD=500,pD=600,gD="_blank",_D="http://localhost";class Nv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yD(s,t,i,r=mD,o=pD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...dD,width:r.toString(),height:o.toString(),top:u,left:h},g=bt().toLowerCase();i&&(d=zE(g)?gD:i),UE(g)&&(t=t||_D,m.scrollbars="yes");const b=Object.entries(m).reduce((E,[N,I])=>`${E}${N}=${I},`,"");if(Px(g)&&d!=="_self")return vD(t||"",d),new Nv(null);const v=window.open(t||"",d,b);Z(v,s,"popup-blocked");try{v.focus()}catch{}return new Nv(v)}function vD(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const bD="__/auth/handler",ED="emulator/auth/handler",SD=encodeURIComponent("fac");async function Rv(s,t,i,r,o,u){Z(s.config.authDomain,s,"auth-domain-config-required"),Z(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:xa,eventId:o};if(t instanceof QE){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",xh(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,v]of Object.entries({}))h[b]=v}if(t instanceof pl){const b=t.getScopes().filter(v=>v!=="");b.length>0&&(h.scopes=b.join(","))}s.tenantId&&(h.tid=s.tenantId);const d=h;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const m=await s._getAppCheckToken(),g=m?`#${SD}=${encodeURIComponent(m)}`:"";return`${CD(s)}?${Aa(d).slice(1)}${g}`}function CD({config:s}){return s.emulator?Wd(s,ED):`https://${s.authDomain}/${bD}`}const wh="webStorageSupport";class TD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i0,this._completeRedirectFn=QO,this._overrideRedirectResult=YO}async _openPopup(t,i,r,o){Jn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Rv(t,i,r,Xh(),o);return yD(t,u,tm())}async _openRedirect(t,i,r,o){await this._originValidation(t);const u=await Rv(t,i,r,Xh(),o);return RO(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Jn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await hD(t),r=new WO(t);return i.register("authEvent",o=>(Z(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(wh,{type:wh},o=>{const u=o?.[0]?.[wh];u!==void 0&&i(!!u),hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tD(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return VE()||jE()||Jd()}}const wD=TD;var Av="@firebase/auth",xv="1.12.0";class ND{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AD(s){_a(new ms("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=r.options;Z(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:h,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(s)},g=new Kx(r,o,u,m);return iO(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),_a(new ms("auth-internal",t=>{const i=Ss(t.getProvider("auth").getImmediate());return(r=>new ND(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(Av,xv,RD(s)),Mi(Av,xv,"esm2020")}const xD=300,OD=eb("authIdTokenMaxAge")||xD;let Ov=null;const DD=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>OD)return;const o=i?.token;Ov!==o&&(Ov=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function im(s=lb()){const t=md(s,"auth");if(t.isInitialized())return t.getImmediate();const i=nO(s,{popupRedirectResolver:wD,persistence:[UO,TO,i0]}),r=eb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=DD(u.toString());bO(i,h,()=>h(i.currentUser)),vO(i,d=>h(d))}}const o=Jv("auth");return o&&sO(i,`http://${o}`),i}function ID(){return document.getElementsByTagName("head")?.[0]??document}Qx({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=bn("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",ID().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AD("Browser");const ju={apiKey:"AIzaSyDib-AzfVlINhKd-EiiFhZq1PQwPCMMrBw",authDomain:"beablevn-learning.firebaseapp.com",databaseURL:"https://bavn-learning-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"beablevn-learning",storageBucket:"beablevn-learning.firebasestorage.app",messagingSenderId:"929043730121",appId:"1:929043730121:web:3f95e39b6bfe93d2f2c718",measurementId:"G-8TL2GYB1L8"},c0=Eu(ju),Ze=yx(c0,ju.databaseURL),_l=im(c0),f0=HC.createContext();function qi(){return R.useContext(f0)}function MD({children:s}){const[t,i]=R.useState(null),[r,o]=R.useState(null),[u,h]=R.useState(null),[d,m]=R.useState(!0);R.useEffect(()=>(console.log("--- BT U THEO DI AUTH (PHIN BN CHNG TREO) ---"),EO(_l,async v=>{if(v){console.log(" 1. Auth OK:",v.email);const E=We(Ze,`users/${v.uid}`);try{const N=new Promise((z,B)=>setTimeout(()=>B(new Error("Ht thi gian ch Database (3s)")),3e3)),I=await Promise.race([RE(E),N]);if(I.exists()){const z=I.val();console.log(" 2. Ly c Role:",z.role),o(z.role),h(z)}else console.warn(" Khng tm thy d liu user trong DB.")}catch(N){console.error(" LI KT NI DB (B qua  vo App):",N.message)}i(v)}else console.log("zzz Cha ng nhp"),i(null),o(null),h(null);m(!1)})),[]);const g={currentUser:t,userRole:r,userData:u,loading:d};return y.jsx(f0.Provider,{value:g,children:d?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:y.jsx("div",{className:"text-blue-600 font-semibold animate-pulse",children:"ang khi ng h thng..."})}):s})}const LD=()=>{const{userData:s}=qi(),t=mn(),i=r=>t.pathname.includes(r)?"bg-slate-800 text-white":"hover:bg-slate-800/50";return y.jsxs("div",{className:"flex h-screen bg-gray-100",children:[y.jsxs("aside",{className:"w-64 bg-slate-900 text-gray-300 flex flex-col",children:[y.jsx("div",{className:"p-6 text-2xl font-bold text-white border-b border-slate-700",children:"BAVN Admin"}),y.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[y.jsx(Bt,{to:"/admin/staff",className:`block p-3 rounded ${i("staff")}`,children:"Qun l Nhn s"}),y.jsx(Bt,{to:"/admin/students",className:`block p-3 rounded ${i("students")}`,children:"Qun l Hc vin"}),y.jsx(Bt,{to:"/admin/data",className:`block p-3 rounded ${i("data")}`,children:"Cu trc D liu"})]}),y.jsx("div",{className:"p-4 border-t border-slate-700",children:y.jsx("button",{onClick:()=>_l.signOut(),className:"text-red-400 hover:text-white text-sm",children:"ng xut"})})]}),y.jsx("main",{className:"flex-1 overflow-auto p-8",children:y.jsx(rd,{})})]})},kD=()=>{const{userData:s}=qi(),t=mn(),i=r=>t.pathname.includes(r)?"bg-blue-100 text-blue-800 font-bold":"text-gray-600 hover:bg-gray-50";return y.jsxs("div",{className:"flex h-screen bg-white",children:[y.jsxs("aside",{className:"w-64 border-r border-gray-200 flex flex-col",children:[y.jsx("div",{className:"p-6 text-xl font-bold text-blue-900",children:"Be Able Staff"}),y.jsxs("nav",{className:"flex-1 p-4 space-y-1",children:[y.jsx(Bt,{to:"/staff/classes",className:`block p-3 rounded ${i("classes")}`,children:"Th Lp (Hc vin)"}),y.jsx(Bt,{to:"/staff/attendance",className:`block p-3 rounded ${i("attendance")}`,children:"Th im danh"}),y.jsx(Bt,{to:"/staff/scores",className:`block p-3 rounded ${i("scores")}`,children:"Th Kt qu hc tp"}),y.jsx(Bt,{to:"/staff/notifications",className:`block p-3 rounded ${i("notifications")}`,children:"Th Thng bo"})]}),y.jsxs("div",{className:"p-4 border-t",children:[y.jsx("div",{className:"text-sm font-bold",children:s?.name}),y.jsx("button",{onClick:()=>_l.signOut(),className:"text-red-500 text-xs mt-1",children:"ng xut"})]})]}),y.jsx("main",{className:"flex-1 overflow-auto p-6 bg-gray-50",children:y.jsx(rd,{})})]})},UD=()=>{const{userData:s}=qi(),t=mn(),i=r=>t.pathname.includes(r)?"text-blue-600":"text-gray-500";return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[y.jsxs("header",{className:"bg-white shadow px-4 py-3 flex justify-between items-center sticky top-0 z-50",children:[y.jsx("div",{className:"font-bold text-lg text-blue-800",children:"BAVN Learning"}),y.jsx("button",{onClick:()=>_l.signOut(),className:"text-sm text-red-500",children:"Thot"})]}),y.jsx("main",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:y.jsx(rd,{})}),y.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around p-3 md:hidden z-50",children:[y.jsxs(Bt,{to:"/student/dashboard",className:`flex flex-col items-center text-xs ${i("dashboard")}`,children:[y.jsx("span",{className:"text-xl",children:""})," ",y.jsx("span",{children:"Thng tin"})]}),y.jsxs(Bt,{to:"/student/attendance",className:`flex flex-col items-center text-xs ${i("attendance")}`,children:[y.jsx("span",{className:"text-xl",children:""})," ",y.jsx("span",{children:"Qu trnh"})]}),y.jsxs(Bt,{to:"/student/notifications",className:`flex flex-col items-center text-xs ${i("notifications")}`,children:[y.jsx("span",{className:"text-xl",children:""})," ",y.jsx("span",{children:"S kin"})]}),y.jsxs(Bt,{to:"/student/scores",className:`flex flex-col items-center text-xs ${i("scores")}`,children:[y.jsx("span",{className:"text-xl",children:""})," ",y.jsx("span",{children:"Kt qu"})]})]})]})},jD=()=>{const[s,t]=R.useState(""),[i,r]=R.useState(""),[o,u]=R.useState(""),[h,d]=R.useState(!1),m=id(),{currentUser:g,userRole:b}=qi();R.useEffect(()=>{g&&b&&(console.log(" ng nhp, ang chuyn hng..."),m(b==="admin"?"/admin/staff":b==="staff"?"/staff/attendance":b==="student"?"/student/dashboard":"/"))},[g,b,m]);const v=async E=>{E.preventDefault(),d(!0),u("");try{await yO(_l,s,i),m("/")}catch(N){console.error(N),u("ng nhp tht bi. Vui lng kim tra li Email/Mt khu.")}finally{d(!1)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:y.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[y.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-blue-800",children:"ng nhp H thng"}),o&&y.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4 text-sm",children:o}),y.jsxs("form",{onSubmit:v,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),y.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:s,onChange:E=>t(E.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mt khu"}),y.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:i,onChange:E=>r(E.target.value)})]}),y.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400",children:h?"ang x l...":"ng nhp"})]})]})})},zD=()=>{const[s,t]=R.useState({name:"",email:"",password:"",subRole:"teacher",assignedClasses:[]}),[i,r]=R.useState([]),[o,u]=R.useState([]);R.useEffect(()=>{const b=Sn(We(Ze,"classes"),E=>{const N=E.val();u(N?Object.entries(N).map(([I,z])=>({id:I,...z})):[])}),v=Sn(We(Ze,"users"),E=>{const N=E.val();r(N?Object.entries(N).map(([I,z])=>({id:I,...z})).filter(I=>I.role==="staff"):[])});return()=>{b(),v()}},[]);const h=b=>{t(v=>{const E=v.assignedClasses||[];return E.includes(b)?{...v,assignedClasses:E.filter(N=>N!==b)}:{...v,assignedClasses:[...E,b]}})},d=async b=>{if(b.preventDefault(),!s.name||!s.email||!s.password)return alert("Vui lng nhp  tn, email v mt khu!");if(s.password.length<6)return alert("Mt khu phi c t nht 6 k t!");const v="SecondaryApp-"+Date.now();let E;try{E=Eu(ju,v);const N=im(E),z=(await JE(N,s.email,s.password)).user.uid;await Iu(We(Ze,"users/"+z),{name:s.name,email:s.email,subRole:s.subRole,assignedClasses:s.assignedClasses,role:"staff",createdAt:new Date().toISOString()}),await $E(N),alert(` to nhn s thnh cng!
Email: ${s.email}`),t({name:"",email:"",password:"",subRole:"teacher",assignedClasses:[]})}catch(N){console.error(N),N.code==="auth/email-already-in-use"?alert("Email ny  c s dng!"):alert("Li: "+N.message)}finally{E&&await ob(E)}},m=async b=>{window.confirm("Lu : Hnh ng ny ch xa d liu trong danh sch, khng xa ti khon ng nhp (Auth). Bn c chc chn xa?")&&await wE(We(Ze,`users/${b}`))},g=b=>!b||!Array.isArray(b)?"Cha phn cng":b.map(v=>o.find(E=>E.id===v)?.name||v).join(", ");return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"bg-white p-6 rounded shadow-lg border-t-4 border-blue-600",children:[y.jsx("h2",{className:"text-xl font-bold mb-6 text-blue-900",children:" To Ti khon Nhn s"}),y.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"H v Tn"}),y.jsx("input",{className:"w-full border p-2 rounded",placeholder:"Nguyen Van A",value:s.name,onChange:b=>t({...s,name:b.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email ng nhp"}),y.jsx("input",{type:"email",className:"w-full border p-2 rounded",placeholder:"email@bavn.com",value:s.email,onChange:b=>t({...s,email:b.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mt khu"}),y.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:"Ti thiu 6 k t",value:s.password,onChange:b=>t({...s,password:b.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Chc v"}),y.jsxs("select",{className:"w-full border p-2 rounded",value:s.subRole,onChange:b=>t({...s,subRole:b.target.value}),children:[y.jsx("option",{value:"teacher",children:"Gio vin"}),y.jsx("option",{value:"cco",children:"CCO"})]})]})]}),y.jsxs("div",{className:"bg-gray-50 p-4 rounded border",children:[y.jsx("label",{className:"block text-sm font-bold mb-2",children:"Phn quyn Lp hc:"}),y.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:o.map(b=>y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",checked:s.assignedClasses.includes(b.id),onChange:()=>h(b.id)}),y.jsxs("span",{className:"text-sm",children:[b.name," (",b.room,")"]})]},b.id))})]}),y.jsx("button",{type:"submit",className:"md:col-span-2 bg-blue-600 text-white font-bold py-3 rounded hover:bg-blue-700",children:"+ To Ti khon & Cp quyn"})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded shadow-lg",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"Danh sch Nhn s"}),y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"H tn"}),y.jsx("th",{className:"p-3",children:"Email"}),y.jsx("th",{className:"p-3",children:"Chc v"}),y.jsx("th",{className:"p-3",children:"Lp"}),y.jsx("th",{className:"p-3",children:"Xa"})]})}),y.jsx("tbody",{children:i.map(b=>y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"p-3 font-medium",children:b.name}),y.jsx("td",{className:"p-3",children:b.email}),y.jsx("td",{className:"p-3 uppercase text-xs font-bold",children:b.subRole}),y.jsx("td",{className:"p-3 text-sm text-gray-500",children:g(b.assignedClasses)}),y.jsx("td",{className:"p-3",children:y.jsx("button",{onClick:()=>m(b.id),className:"text-red-500 hover:underline",children:"Xa"})})]},b.id))})]})]})]})},HD=()=>{const[s,t]=R.useState([]),[i,r]=R.useState({name:"",email:"",password:"",studentCode:"",classId:"",role:"student"});R.useEffect(()=>{const u=Sn(We(Ze,"classes"),h=>{const d=h.val();t(d?Object.entries(d).map(([m,g])=>({id:m,...g})):[])});return()=>u()},[]);const o=async u=>{if(u.preventDefault(),!i.email||!i.password||!i.studentCode)return alert("Thiu thng tin!");if(i.password.length<6)return alert("Mt khu ti thiu 6 k t!");const h="SecondaryApp-Student-"+Date.now();let d;try{d=Eu(ju,h);const m=im(d),b=(await JE(m,i.email,i.password)).user.uid;await Iu(We(Ze,"users/"+b),{name:i.name,email:i.email,studentCode:i.studentCode,classId:i.classId,role:"student",createdAt:new Date().toISOString()}),await $E(m),alert(` to hc vin: ${i.name}
Ti khon: ${i.email}`),r({name:"",email:"",password:"",studentCode:"",classId:"",role:"student"})}catch(m){m.code==="auth/email-already-in-use"?alert("Email  tn ti!"):alert("Li: "+m.message)}finally{d&&await ob(d)}};return y.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-3xl",children:[y.jsx("h2",{className:"text-xl font-bold mb-6 text-blue-900",children:" Qun l Hc vin"}),y.jsxs("form",{onSubmit:o,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"H v Tn"}),y.jsx("input",{className:"w-full border p-2 rounded",value:i.name,onChange:u=>r({...i,name:u.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"M Hc vin"}),y.jsx("input",{className:"w-full border p-2 rounded",value:i.studentCode,onChange:u=>r({...i,studentCode:u.target.value}),required:!0,placeholder:"VD: BA001"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),y.jsx("input",{type:"email",className:"w-full border p-2 rounded",value:i.email,onChange:u=>r({...i,email:u.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mt khu"}),y.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:i.password,onChange:u=>r({...i,password:u.target.value}),required:!0,placeholder:"Min 6 chars"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Lp hc"}),y.jsxs("select",{className:"w-full border p-2 rounded",value:i.classId,onChange:u=>r({...i,classId:u.target.value}),required:!0,children:[y.jsx("option",{value:"",children:"-- Chn Lp --"}),s.map(u=>y.jsxs("option",{value:u.id,children:[u.name," (",u.room,")"]},u.id))]})]}),y.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white font-bold py-3 rounded hover:bg-green-700",children:"+ Khi to Ti khon Hc vin"})]})]})},BD=()=>{const[s,t]=R.useState([]),[i,r]=R.useState({name:"",room:"",subject:"",schedule:""});R.useEffect(()=>{Sn(We(Ze,"classes"),u=>{const h=u.val();t(h?Object.entries(h).map(([d,m])=>({id:d,...m})):[])})},[]);const o=()=>{i.name&&(TE(We(Ze,"classes"),i),r({name:"",room:"",subject:"",schedule:""}))};return y.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Th Cu trc D liu"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 mb-6 bg-gray-50 p-4 rounded",children:[y.jsx("input",{className:"border p-2 rounded",placeholder:"Tn lp (VD: IE0201)",value:i.name,onChange:u=>r({...i,name:u.target.value})}),y.jsx("input",{className:"border p-2 rounded",placeholder:"Phng (VD: P01)",value:i.room,onChange:u=>r({...i,room:u.target.value})}),y.jsx("input",{className:"border p-2 rounded",placeholder:"Mn hc (VD: AIM.2B)",value:i.subject,onChange:u=>r({...i,subject:u.target.value})}),y.jsx("input",{className:"border p-2 rounded",placeholder:"Lch (VD: T2-T4)",value:i.schedule,onChange:u=>r({...i,schedule:u.target.value})}),y.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 rounded hover:bg-blue-700",children:"Thm Mi"})]}),y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-100 border-b",children:[y.jsx("th",{className:"p-3",children:"Tn lp"}),y.jsx("th",{className:"p-3",children:"Phng"}),y.jsx("th",{className:"p-3",children:"Mn hc"}),y.jsx("th",{className:"p-3",children:"Lch hc"}),y.jsx("th",{className:"p-3",children:"Hnh ng"})]})}),y.jsx("tbody",{children:s.map(u=>y.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[y.jsx("td",{className:"p-3 font-medium",children:u.name}),y.jsx("td",{className:"p-3",children:u.room}),y.jsx("td",{className:"p-3",children:u.subject}),y.jsx("td",{className:"p-3",children:u.schedule}),y.jsx("td",{className:"p-3",children:y.jsx("button",{onClick:()=>wE(We(Ze,`classes/${u.id}`)),className:"text-red-500 hover:underline",children:"Xa"})})]},u.id))})]})]})},PD=()=>{const[s,t]=R.useState([]);return R.useEffect(()=>{const i=Sn(We(Ze,"users"),r=>{const o=r.val();if(o){const u=Object.values(o).filter(h=>h.role==="student");t(u)}});return()=>i()},[]),y.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Danh sch Hc vin"}),y.jsxs("div",{className:"grid gap-3",children:[s.length===0&&y.jsx("p",{className:"text-gray-500",children:"Cha c hc vin no."}),s.map((i,r)=>y.jsxs("div",{className:"flex justify-between items-center p-3 border rounded bg-gray-50",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold",children:i.name}),y.jsxs("div",{className:"text-sm text-gray-500",children:[i.studentCode," | ",i.email]})]}),y.jsx("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded text-sm font-medium",children:i.classId||"Cha xp lp"})]},r))]})]})},qD=()=>{const[s,t]=R.useState([]),[i,r]=R.useState([]),[o,u]=R.useState(""),[h,d]=R.useState(new Date().toISOString().split("T")[0]),[m,g]=R.useState({});R.useEffect(()=>{Sn(We(Ze,"classes"),E=>{const N=E.val();r(N?Object.entries(N).map(([I,z])=>({id:I,...z})):[])}),Sn(We(Ze,"users"),E=>{const N=E.val();if(N){const I=Object.entries(N).map(([z,B])=>({id:z,...B})).filter(z=>z.role==="student");t(I)}})},[]);const b=o?s.filter(E=>E.classId===o):[],v=()=>{const E={};b.forEach(N=>{if(m[N.id]){const I=`attendance/${o||"general"}/${h}/${N.id}`;E[I]=m[N.id]}}),NE(We(Ze),E),alert(" lu im danh!")};return y.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Th im danh"}),y.jsxs("div",{className:"flex gap-4 mb-6",children:[y.jsxs("select",{className:"border p-2 rounded",value:o,onChange:E=>u(E.target.value),children:[y.jsx("option",{value:"",children:"-- Chn Lp --"}),i.map(E=>y.jsx("option",{value:E.id,children:E.name},E.id))]}),y.jsx("input",{type:"date",className:"border p-2 rounded",value:h,onChange:E=>d(E.target.value)})]}),o&&y.jsxs(y.Fragment,{children:[y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3 text-left",children:"Hc vin"}),y.jsx("th",{className:"p-3 text-center",children:"C mt"}),y.jsx("th",{className:"p-3 text-center",children:"Vng (Php)"}),y.jsx("th",{className:"p-3 text-center",children:"Vng (K.Php)"}),y.jsx("th",{className:"p-3 text-center",children:"Tr"})]})}),y.jsx("tbody",{children:b.map(E=>y.jsxs("tr",{className:"border-b",children:[y.jsxs("td",{className:"p-3",children:[E.name," ",y.jsx("br",{}),y.jsx("small",{className:"text-gray-500",children:E.studentCode})]}),["present","excused","absent","late"].map(N=>y.jsx("td",{className:"p-3 text-center",children:y.jsx("input",{type:"radio",name:`att-${E.id}`,checked:m[E.id]===N,onChange:()=>g({...m,[E.id]:N})})},N))]},E.id))})]}),y.jsx("button",{onClick:v,className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded",children:"Lu D Liu"})]})]})},VD=()=>{const[s,t]=R.useState([]),[i,r]=R.useState({});R.useEffect(()=>{Sn(We(Ze,"users"),h=>{const d=h.val();d&&t(Object.entries(d).map(([m,g])=>({id:m,...g})).filter(m=>m.role==="student"))})},[]);const o=(h,d,m)=>{r(g=>({...g,[h]:{...g[h],[d]:Number(m)}}))},u=h=>{i[h]&&(NE(We(Ze,`scores/${h}`),i[h]),alert(" cp nht im!"))};return y.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Th Kt qu hc tp"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full min-w-[600px]",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3 text-left",children:"Hc vin"}),y.jsx("th",{className:"p-3",children:"im Cng"}),y.jsx("th",{className:"p-3",children:"Bi tp v nh"}),y.jsx("th",{className:"p-3",children:"Kim tra nh k"}),y.jsx("th",{className:"p-3",children:"Lu"})]})}),y.jsx("tbody",{children:s.map(h=>y.jsxs("tr",{className:"border-b",children:[y.jsxs("td",{className:"p-3",children:[h.name,y.jsx("br",{}),y.jsx("small",{children:h.studentCode})]}),y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"number",className:"border w-20 p-1",placeholder:"0",onChange:d=>o(h.id,"bonus",d.target.value)})}),y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"number",className:"border w-20 p-1",placeholder:"0",onChange:d=>o(h.id,"homework",d.target.value)})}),y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"number",className:"border w-20 p-1",placeholder:"0",onChange:d=>o(h.id,"test",d.target.value)})}),y.jsx("td",{className:"p-3",children:y.jsx("button",{onClick:()=>u(h.id),className:"text-blue-600 font-bold",children:""})})]},h.id))})]})})]})},GD=()=>{const[s,t]=R.useState(""),i=()=>{s&&(TE(We(Ze,"notifications"),{content:s,date:new Date().toLocaleDateString("vi-VN"),type:"general"}),t(""),alert(" ng thng bo!"))};return y.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"ng Thng Bo Mi"}),y.jsx("textarea",{className:"w-full border p-3 rounded h-32 mb-4",placeholder:"Nhp ni dung thng bo cho hc vin...",value:s,onChange:r=>t(r.target.value)}),y.jsx("button",{onClick:i,className:"bg-blue-600 text-white px-6 py-2 rounded",children:"ng bi"})]})},YD=()=>{const{userData:s}=qi(),[t,i]=R.useState(null);return R.useEffect(()=>{s?.classId&&RE(We(Ze,`classes/${s.classId}`)).then(r=>{r.exists()&&i(r.val())})},[s]),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow border-l-4 border-blue-600 flex items-center gap-4",children:[y.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-3xl",children:""}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:s?.name}),y.jsxs("p",{className:"text-gray-600",children:["M Hc vin: ",y.jsx("span",{className:"font-mono font-bold text-blue-800",children:s?.studentCode})]}),y.jsx("p",{className:"text-gray-500 text-sm",children:s?.email})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[y.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[y.jsx("span",{children:""})," Lp hc & Lch trnh"]}),t?y.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[y.jsx("div",{className:"text-lg font-bold text-blue-900",children:t.name}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-500",children:"Mn hc:"})," ",y.jsx("br",{}),t.subject]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-500",children:"Phng:"})," ",y.jsx("br",{}),t.room]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-500",children:"Lch hc:"})," ",y.jsx("br",{}),y.jsx("span",{className:"font-bold text-green-600",children:t.schedule})]})]})]}):y.jsx("p",{className:"text-gray-500 italic",children:"Bn cha c xp lp. Vui lng lin h Gio vin."})]})]})},FD=()=>y.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"Th Qu trnh (im danh)"}),y.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded mb-6",children:[y.jsx("h3",{className:"font-bold text-yellow-800 mb-2",children:"Check-out cui gi"}),y.jsx("p",{className:"text-sm mb-3",children:"Vui lng bm vo link di y  xc nhn hon thnh bui hc:"}),y.jsx("a",{href:"https://forms.google.com/example-checkout",target:"_blank",rel:"noreferrer",className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 inline-block",children:" Link Check-out"})]}),y.jsx("h3",{className:"font-bold mb-3",children:"Lch s chuyn cn"}),y.jsx("div",{className:"overflow-hidden rounded border",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Ngy"}),y.jsx("th",{className:"p-3",children:"Trng thi"})]})}),y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"p-3",children:"20/10/2023"}),y.jsx("td",{className:"p-3 text-green-600 font-bold",children:"C mt"})]}),y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"p-3",children:"22/10/2023"}),y.jsx("td",{className:"p-3 text-green-600 font-bold",children:"C mt"})]}),y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"p-3",children:"24/10/2023"}),y.jsx("td",{className:"p-3 text-red-500 font-bold",children:"Vng (C php)"})]})]})]})})]}),KD=()=>{const{currentUser:s}=qi(),[t,i]=R.useState(null);return R.useEffect(()=>{s&&Sn(We(Ze,`scores/${s.uid}`),r=>{i(r.val())})},[s]),t?y.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-6 text-blue-800",children:"Bng Tng hp im"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-green-50 p-6 rounded-xl border border-green-100 text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["+",t.bonus||0]}),y.jsx("div",{className:"text-green-800 font-medium",children:"im Cng Khuyn khch"})]}),y.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100 text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:t.homework||0}),y.jsx("div",{className:"text-blue-800 font-medium",children:"im Bi tp v nh"})]}),y.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:t.test||0}),y.jsx("div",{className:"text-purple-800 font-medium",children:"im Kim tra nh k"})]})]})]}):y.jsx("div",{className:"bg-white p-6 rounded shadow text-center",children:"Cha c d liu im."})},QD=()=>{const[s,t]=R.useState([]);return R.useEffect(()=>{const i=Sn(We(Ze,"notifications"),r=>{const o=r.val();t(o?Object.values(o).reverse():[])});return()=>i()},[]),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Bng Tin & S Kin"}),s.map((i,r)=>y.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-blue-500",children:[y.jsx("p",{className:"text-gray-800",children:i.content}),y.jsx("p",{className:"text-xs text-gray-400 mt-2",children:i.date})]},r)),s.length===0&&y.jsx("p",{className:"text-center text-gray-500",children:"Khng c thng bo mi."})]})},XD=()=>{const{currentUser:s,userRole:t,loading:i}=qi();return i?y.jsx("div",{className:"h-screen flex items-center justify-center",children:"ang ti..."}):s?t==="admin"?y.jsx(fs,{to:"/admin/staff"}):t==="staff"?y.jsx(fs,{to:"/staff/classes"}):t==="student"?y.jsx(fs,{to:"/student/dashboard"}):y.jsx("div",{className:"p-10 text-center",children:"Ti khon cha c phn quyn."}):y.jsx(fs,{to:"/login"})},Nh=({children:s,allowedRoles:t})=>{const{currentUser:i,userRole:r,loading:o}=qi();return o?y.jsx("div",{children:"ang kim tra quyn..."}):i?t&&!t.includes(r)?y.jsx(fs,{to:"/"}):s:y.jsx(fs,{to:"/login"})};function WD(){return y.jsx(MD,{children:y.jsx(p1,{children:y.jsxs(YT,{children:[y.jsx(it,{path:"/login",element:y.jsx(jD,{})}),y.jsxs(it,{path:"/admin",element:y.jsx(Nh,{allowedRoles:["admin"],children:y.jsx(LD,{})}),children:[y.jsx(it,{path:"staff",element:y.jsx(zD,{})}),y.jsx(it,{path:"students",element:y.jsx(HD,{})}),y.jsx(it,{path:"data",element:y.jsx(BD,{})})]}),y.jsxs(it,{path:"/staff",element:y.jsx(Nh,{allowedRoles:["staff","admin"],children:y.jsx(kD,{})}),children:[y.jsx(it,{path:"classes",element:y.jsx(PD,{})}),y.jsx(it,{path:"attendance",element:y.jsx(qD,{})}),y.jsx(it,{path:"scores",element:y.jsx(VD,{})}),y.jsx(it,{path:"notifications",element:y.jsx(GD,{})})]}),y.jsxs(it,{path:"/student",element:y.jsx(Nh,{allowedRoles:["student"],children:y.jsx(UD,{})}),children:[y.jsx(it,{path:"dashboard",element:y.jsx(YD,{})}),y.jsx(it,{path:"attendance",element:y.jsx(FD,{})}),y.jsx(it,{path:"scores",element:y.jsx(KD,{})}),y.jsx(it,{path:"notifications",element:y.jsx(QD,{})})]}),y.jsx(it,{path:"/",element:y.jsx(XD,{})}),y.jsx(it,{path:"*",element:y.jsx(fs,{to:"/"})})]})})})}FC.createRoot(document.getElementById("root")).render(y.jsx(R.StrictMode,{children:y.jsx(WD,{})}));
